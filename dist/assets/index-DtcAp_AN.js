var rx=Object.defineProperty;var ox=(e,t,n)=>t in e?rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var cs=(e,t,n)=>ox(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function w0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k0={exports:{}},Oi={},b0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),sx=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),lx=Symbol.for("react.profiler"),ux=Symbol.for("react.provider"),cx=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),hx=Symbol.for("react.memo"),px=Symbol.for("react.lazy"),Wc=Symbol.iterator;function gx(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var N0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S0=Object.assign,E0={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=E0,this.updater=n||N0}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _0(){}_0.prototype=Lr.prototype;function ku(e,t,n){this.props=e,this.context=t,this.refs=E0,this.updater=n||N0}var bu=ku.prototype=new _0;bu.constructor=ku;S0(bu,Lr.prototype);bu.isPureReactComponent=!0;var Vc=Array.isArray,j0=Object.prototype.hasOwnProperty,Nu={current:null},C0={key:!0,ref:!0,__self:!0,__source:!0};function P0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)j0.call(t,r)&&!C0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Wo,type:e,key:s,ref:i,props:o,_owner:Nu.current}}function mx(e,t){return{$$typeof:Wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Su(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wo}function yx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gc=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yx(""+e.key):t.toString(36)}function zs(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wo:case sx:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Sa(i,0):r,Vc(o)?(n="",e!=null&&(n=e.replace(Gc,"$&/")+"/"),zs(o,t,n,"",function(c){return c})):o!=null&&(Su(o)&&(o=mx(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Gc,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Vc(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Sa(s,a);i+=zs(s,t,n,u,o)}else if(u=gx(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Sa(s,a++),i+=zs(s,t,n,u,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ds(e,t,n){if(e==null)return e;var r=[],o=0;return zs(e,r,"","",function(s){return t.call(n,s,o++)}),r}function xx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Fs={transition:null},vx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Nu};function T0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!Su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Lr;ne.Fragment=ix;ne.Profiler=lx;ne.PureComponent=ku;ne.StrictMode=ax;ne.Suspense=fx;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx;ne.act=T0;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=S0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Nu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)j0.call(t,u)&&!C0.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wo,type:e.type,key:o,ref:s,props:r,_owner:i}};ne.createContext=function(e){return e={$$typeof:cx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ux,_context:e},e.Consumer=e};ne.createElement=P0;ne.createFactory=function(e){var t=P0.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:dx,render:e}};ne.isValidElement=Su;ne.lazy=function(e){return{$$typeof:px,_payload:{_status:-1,_result:e},_init:xx}};ne.memo=function(e,t){return{$$typeof:hx,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};ne.unstable_act=T0;ne.useCallback=function(e,t){return He.current.useCallback(e,t)};ne.useContext=function(e){return He.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return He.current.useDeferredValue(e)};ne.useEffect=function(e,t){return He.current.useEffect(e,t)};ne.useId=function(){return He.current.useId()};ne.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return He.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};ne.useRef=function(e){return He.current.useRef(e)};ne.useState=function(e){return He.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return He.current.useTransition()};ne.version="18.3.1";b0.exports=ne;var _=b0.exports;const Eu=w0(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=_,kx=Symbol.for("react.element"),bx=Symbol.for("react.fragment"),Nx=Object.prototype.hasOwnProperty,Sx=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ex={key:!0,ref:!0,__self:!0,__source:!0};function M0(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Nx.call(t,r)&&!Ex.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kx,type:e,key:s,ref:i,props:o,_owner:Sx.current}}Oi.Fragment=bx;Oi.jsx=M0;Oi.jsxs=M0;k0.exports=Oi;var l=k0.exports,ul={},L0={exports:{}},ot={},R0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,P){var A=j.length;j.push(P);e:for(;0<A;){var O=A-1>>>1,H=j[O];if(0<o(H,P))j[O]=P,j[A]=H,A=O;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var P=j[0],A=j.pop();if(A!==P){j[0]=A;e:for(var O=0,H=j.length,V=H>>>1;O<V;){var U=2*(O+1)-1,Q=j[U],K=U+1,Y=j[K];if(0>o(Q,A))K<H&&0>o(Y,Q)?(j[O]=Y,j[K]=A,O=K):(j[O]=Q,j[U]=A,O=U);else if(K<H&&0>o(Y,A))j[O]=Y,j[K]=A,O=K;else break e}}return P}function o(j,P){var A=j.sortIndex-P.sortIndex;return A!==0?A:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],h=1,d=null,f=3,g=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=j)r(c),P.sortIndex=P.expirationTime,t(u,P);else break;P=n(c)}}function k(j){if(v=!1,y(j),!p)if(n(u)!==null)p=!0,C(b);else{var P=n(c);P!==null&&I(k,P.startTime-j)}}function b(j,P){p=!1,v&&(v=!1,m(T),T=-1),g=!0;var A=f;try{for(y(P),d=n(u);d!==null&&(!(d.expirationTime>P)||j&&!F());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var H=O(d.expirationTime<=P);P=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(u)&&r(u),y(P)}else r(u);d=n(u)}if(d!==null)var V=!0;else{var U=n(c);U!==null&&I(k,U.startTime-P),V=!1}return V}finally{d=null,f=A,g=!1}}var E=!1,S=null,T=-1,D=5,R=-1;function F(){return!(e.unstable_now()-R<D)}function $(){if(S!==null){var j=e.unstable_now();R=j;var P=!0;try{P=S(!0,j)}finally{P?L():(E=!1,S=null)}}else E=!1}var L;if(typeof x=="function")L=function(){x($)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=$,L=function(){M.postMessage(null)}}else L=function(){w($,0)};function C(j){S=j,E||(E=!0,L())}function I(j,P){T=w(function(){j(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,C(b))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var A=f;f=P;try{return j()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=f;f=j;try{return P()}finally{f=A}},e.unstable_scheduleCallback=function(j,P,A){var O=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?O+A:O):A=O,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=A+H,j={id:h++,callback:P,priorityLevel:j,startTime:A,expirationTime:H,sortIndex:-1},A>O?(j.sortIndex=A,t(c,j),n(u)===null&&j===n(c)&&(v?(m(T),T=-1):v=!0,I(k,A-O))):(j.sortIndex=H,t(u,j),p||g||(p=!0,C(b))),j},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(j){var P=f;return function(){var A=f;f=P;try{return j.apply(this,arguments)}finally{f=A}}}})($0);R0.exports=$0;var _x=R0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=_,nt=_x;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A0=new Set,go={};function Un(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(go[e]=t,e=0;e<t.length;e++)A0.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=Object.prototype.hasOwnProperty,Cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Yc={};function Px(e){return cl.call(Yc,e)?!0:cl.call(Xc,e)?!1:Cx.test(e)?Yc[e]=!0:(Xc[e]=!0,!1)}function Tx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mx(e,t,n,r){if(t===null||typeof t>"u"||Tx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_u,ju);Le[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_u,ju);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_u,ju);Le[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cu(e,t,n,r){var o=Le.hasOwnProperty(t)?Le[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mx(t,n,o,r)&&(n=null),r||o===null?Px(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),dl=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),Mu=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),z0=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function Or(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Ea;function qr(e){if(Ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var _a=!1;function ja(e,t){if(!e||_a)return"";_a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var u=`
`+o[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{_a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function Lx(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=ja(e.type,!1),e;case 11:return e=ja(e.type.render,!1),e;case 1:return e=ja(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Yn:return"Portal";case dl:return"Profiler";case Pu:return"StrictMode";case fl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D0:return(e.displayName||"Context")+".Consumer";case I0:return(e._context.displayName||"Context")+".Provider";case Tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mu:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function Rx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $x(e){var t=F0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hs(e){e._valueTracker||(e._valueTracker=$x(e))}function O0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H0(e,t){t=t.checked,t!=null&&Cu(e,"checked",t,!1)}function ml(e,t){H0(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&yl(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yl(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function lr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Zr(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function B0(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function U0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?U0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,W0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ax=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(e){Ax.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ro[t]=ro[e]})});function V0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ro.hasOwnProperty(e)&&ro[e]?(""+t).trim():t+"px"}function G0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=V0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Ix=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(e,t){if(t){if(Ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,ur=null,cr=null;function ed(e){if(e=Xo(e)){if(typeof Nl!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Vi(t),Nl(e.stateNode,e.type,t))}}function X0(e){ur?cr?cr.push(e):cr=[e]:ur=e}function Y0(){if(ur){var e=ur,t=cr;if(cr=ur=null,ed(e),t)for(e=0;e<t.length;e++)ed(t[e])}}function Q0(e,t){return e(t)}function K0(){}var Ca=!1;function q0(e,t,n){if(Ca)return e(t,n);Ca=!0;try{return Q0(e,t,n)}finally{Ca=!1,(ur!==null||cr!==null)&&(K0(),Y0())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Sl=!1;if(Wt)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Sl=!1}function Dx(e,t,n,r,o,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var oo=!1,si=null,ii=!1,El=null,zx={onError:function(e){oo=!0,si=e}};function Fx(e,t,n,r,o,s,i,a,u){oo=!1,si=null,Dx.apply(zx,arguments)}function Ox(e,t,n,r,o,s,i,a,u){if(Fx.apply(this,arguments),oo){if(oo){var c=si;oo=!1,si=null}else throw Error(B(198));ii||(ii=!0,El=c)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function td(e){if(Wn(e)!==e)throw Error(B(188))}function Hx(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return td(o),e;if(s===r)return td(o),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function J0(e){return e=Hx(e),e!==null?eh(e):null}function eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eh(e);if(t!==null)return t;e=e.sibling}return null}var th=nt.unstable_scheduleCallback,nd=nt.unstable_cancelCallback,Bx=nt.unstable_shouldYield,Ux=nt.unstable_requestPaint,ke=nt.unstable_now,Wx=nt.unstable_getCurrentPriorityLevel,Ru=nt.unstable_ImmediatePriority,nh=nt.unstable_UserBlockingPriority,ai=nt.unstable_NormalPriority,Vx=nt.unstable_LowPriority,rh=nt.unstable_IdlePriority,Hi=null,Tt=null;function Gx(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Qx,Xx=Math.log,Yx=Math.LN2;function Qx(e){return e>>>=0,e===0?32:31-(Xx(e)/Yx|0)|0}var gs=64,ms=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Jr(a):(s&=i,s!==0&&(r=Jr(s)))}else i=n&~o,i!==0?r=Jr(i):s!==0&&(r=Jr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),o=1<<n,r|=e[n],t&=~o;return r}function Kx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-wt(s),a=1<<i,u=o[i];u===-1?(!(a&n)||a&r)&&(o[i]=Kx(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oh(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function Pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Zx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function $u(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ue=0;function sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ih,Au,ah,lh,uh,jl=!1,ys=[],ln=null,un=null,cn=null,xo=new Map,vo=new Map,nn=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function Br(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Xo(t),t!==null&&Au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ev(e,t,n,r,o){switch(t){case"focusin":return ln=Br(ln,e,t,n,r,o),!0;case"dragenter":return un=Br(un,e,t,n,r,o),!0;case"mouseover":return cn=Br(cn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return xo.set(s,Br(xo.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,vo.set(s,Br(vo.get(s)||null,e,t,n,r,o)),!0}return!1}function ch(e){var t=Sn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Z0(n),t!==null){e.blockedOn=t,uh(e.priority,function(){ah(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bl=r,n.target.dispatchEvent(r),bl=null}else return t=Xo(n),t!==null&&Au(t),e.blockedOn=n,!1;t.shift()}return!0}function od(e,t,n){Os(e)&&n.delete(t)}function tv(){jl=!1,ln!==null&&Os(ln)&&(ln=null),un!==null&&Os(un)&&(un=null),cn!==null&&Os(cn)&&(cn=null),xo.forEach(od),vo.forEach(od)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,tv)))}function wo(e){function t(o){return Ur(o,e)}if(0<ys.length){Ur(ys[0],e);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Ur(ln,e),un!==null&&Ur(un,e),cn!==null&&Ur(cn,e),xo.forEach(t),vo.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&nn.shift()}var dr=Qt.ReactCurrentBatchConfig,ui=!0;function nv(e,t,n,r){var o=ue,s=dr.transition;dr.transition=null;try{ue=1,Iu(e,t,n,r)}finally{ue=o,dr.transition=s}}function rv(e,t,n,r){var o=ue,s=dr.transition;dr.transition=null;try{ue=4,Iu(e,t,n,r)}finally{ue=o,dr.transition=s}}function Iu(e,t,n,r){if(ui){var o=Cl(e,t,n,r);if(o===null)Fa(e,t,r,ci,n),rd(e,r);else if(ev(o,e,t,n,r))r.stopPropagation();else if(rd(e,r),t&4&&-1<Jx.indexOf(e)){for(;o!==null;){var s=Xo(o);if(s!==null&&ih(s),s=Cl(e,t,n,r),s===null&&Fa(e,t,r,ci,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Fa(e,t,r,null,n)}}var ci=null;function Cl(e,t,n,r){if(ci=null,e=Lu(r),e=Sn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wx()){case Ru:return 1;case nh:return 4;case ai:case Vx:return 16;case rh:return 536870912;default:return 16}default:return 16}}var sn=null,Du=null,Hs=null;function fh(){if(Hs)return Hs;var e,t=Du,n=t.length,r,o="value"in sn?sn.value:sn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Hs=o.slice(e,1<r?1-r:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function sd(){return!1}function st(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xs:sd,this.isPropagationStopped=sd,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=st(Rr),Go=xe({},Rr,{view:0,detail:0}),ov=st(Go),Ta,Ma,Wr,Bi=xe({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(Ta=e.screenX-Wr.screenX,Ma=e.screenY-Wr.screenY):Ma=Ta=0,Wr=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),id=st(Bi),sv=xe({},Bi,{dataTransfer:0}),iv=st(sv),av=xe({},Go,{relatedTarget:0}),La=st(av),lv=xe({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=st(lv),cv=xe({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dv=st(cv),fv=xe({},Rr,{data:0}),ad=st(fv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gv[e])?!!t[e]:!1}function Fu(){return mv}var yv=xe({},Go,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xv=st(yv),vv=xe({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=st(vv),wv=xe({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),kv=st(wv),bv=xe({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=st(bv),Sv=xe({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=st(Sv),_v=[9,13,27,32],Ou=Wt&&"CompositionEvent"in window,so=null;Wt&&"documentMode"in document&&(so=document.documentMode);var jv=Wt&&"TextEvent"in window&&!so,hh=Wt&&(!Ou||so&&8<so&&11>=so),ud=" ",cd=!1;function ph(e,t){switch(e){case"keyup":return _v.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Cv(e,t){switch(e){case"compositionend":return gh(t);case"keypress":return t.which!==32?null:(cd=!0,ud);case"textInput":return e=t.data,e===ud&&cd?null:e;default:return null}}function Pv(e,t){if(Kn)return e==="compositionend"||!Ou&&ph(e,t)?(e=fh(),Hs=Du=sn=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hh&&t.locale!=="ko"?null:t.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tv[e.type]:t==="textarea"}function mh(e,t,n,r){X0(r),t=di(t,"onChange"),0<t.length&&(n=new zu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var io=null,ko=null;function Mv(e){jh(e,0)}function Ui(e){var t=Jn(e);if(O0(t))return e}function Lv(e,t){if(e==="change")return t}var yh=!1;if(Wt){var Ra;if(Wt){var $a="oninput"in document;if(!$a){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),$a=typeof fd.oninput=="function"}Ra=$a}else Ra=!1;yh=Ra&&(!document.documentMode||9<document.documentMode)}function hd(){io&&(io.detachEvent("onpropertychange",xh),ko=io=null)}function xh(e){if(e.propertyName==="value"&&Ui(ko)){var t=[];mh(t,ko,e,Lu(e)),q0(Mv,t)}}function Rv(e,t,n){e==="focusin"?(hd(),io=t,ko=n,io.attachEvent("onpropertychange",xh)):e==="focusout"&&hd()}function $v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(ko)}function Av(e,t){if(e==="click")return Ui(t)}function Iv(e,t){if(e==="input"||e==="change")return Ui(t)}function Dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Dv;function bo(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!cl.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gd(e,t){var n=pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zv(e){var t=wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vh(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=gd(n,s);var i=gd(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fv=Wt&&"documentMode"in document&&11>=document.documentMode,qn=null,Pl=null,ao=null,Tl=!1;function md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tl||qn==null||qn!==oi(r)||(r=qn,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ao&&bo(ao,r)||(ao=r,r=di(Pl,"onSelect"),0<r.length&&(t=new zu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qn)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Aa={},kh={};Wt&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Wi(e){if(Aa[e])return Aa[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kh)return Aa[e]=t[n];return e}var bh=Wi("animationend"),Nh=Wi("animationiteration"),Sh=Wi("animationstart"),Eh=Wi("transitionend"),_h=new Map,yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){_h.set(e,t),Un(t,[e])}for(var Ia=0;Ia<yd.length;Ia++){var Da=yd[Ia],Ov=Da.toLowerCase(),Hv=Da[0].toUpperCase()+Da.slice(1);xn(Ov,"on"+Hv)}xn(bh,"onAnimationEnd");xn(Nh,"onAnimationIteration");xn(Sh,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Eh,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ox(r,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&o.isPropagationStopped())break e;xd(o,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&o.isPropagationStopped())break e;xd(o,a,c),s=u}}}if(ii)throw e=El,ii=!1,El=null,e}function de(e,t){var n=t[Al];n===void 0&&(n=t[Al]=new Set);var r=e+"__bubble";n.has(r)||(Ch(t,e,2,!1),n.add(r))}function za(e,t,n){var r=0;t&&(r|=4),Ch(n,e,r,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[ws]){e[ws]=!0,A0.forEach(function(n){n!=="selectionchange"&&(Bv.has(n)||za(n,!1,e),za(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,za("selectionchange",!1,t))}}function Ch(e,t,n,r){switch(dh(t)){case 1:var o=nv;break;case 4:o=rv;break;default:o=Iu}n=o.bind(null,t,n,e),o=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Fa(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Sn(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}q0(function(){var c=s,h=Lu(n),d=[];e:{var f=_h.get(e);if(f!==void 0){var g=zu,p=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":g=xv;break;case"focusin":p="focus",g=La;break;case"focusout":p="blur",g=La;break;case"beforeblur":case"afterblur":g=La;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=kv;break;case bh:case Nh:case Sh:g=uv;break;case Eh:g=Nv;break;case"scroll":g=ov;break;case"wheel":g=Ev;break;case"copy":case"cut":case"paste":g=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ld}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,y;x!==null;){y=x;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=yo(x,m),k!=null&&v.push(So(x,k,y)))),w)break;x=x.return}0<v.length&&(f=new g(f,p,null,n,h),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==bl&&(p=n.relatedTarget||n.fromElement)&&(Sn(p)||p[Vt]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Sn(p):null,p!==null&&(w=Wn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(v=id,k="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=ld,k="onPointerLeave",m="onPointerEnter",x="pointer"),w=g==null?f:Jn(g),y=p==null?f:Jn(p),f=new v(k,x+"leave",g,n,h),f.target=w,f.relatedTarget=y,k=null,Sn(h)===c&&(v=new v(m,x+"enter",p,n,h),v.target=y,v.relatedTarget=w,k=v),w=k,g&&p)t:{for(v=g,m=p,x=0,y=v;y;y=Gn(y))x++;for(y=0,k=m;k;k=Gn(k))y++;for(;0<x-y;)v=Gn(v),x--;for(;0<y-x;)m=Gn(m),y--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=Gn(v),m=Gn(m)}v=null}else v=null;g!==null&&vd(d,f,g,v,!1),p!==null&&w!==null&&vd(d,w,p,v,!0)}}e:{if(f=c?Jn(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var b=Lv;else if(dd(f))if(yh)b=Iv;else{b=$v;var E=Rv}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Av);if(b&&(b=b(e,c))){mh(d,b,n,h);break e}E&&E(e,f,c),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&yl(f,"number",f.value)}switch(E=c?Jn(c):window,e){case"focusin":(dd(E)||E.contentEditable==="true")&&(qn=E,Pl=c,ao=null);break;case"focusout":ao=Pl=qn=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,md(d,n,h);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":md(d,n,h)}var S;if(Ou)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Kn?ph(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(hh&&n.locale!=="ko"&&(Kn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Kn&&(S=fh()):(sn=h,Du="value"in sn?sn.value:sn.textContent,Kn=!0)),E=di(c,T),0<E.length&&(T=new ad(T,e,null,n,h),d.push({event:T,listeners:E}),S?T.data=S:(S=gh(n),S!==null&&(T.data=S)))),(S=jv?Cv(e,n):Pv(e,n))&&(c=di(c,"onBeforeInput"),0<c.length&&(h=new ad("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}jh(d,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function di(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=yo(e,n),s!=null&&r.unshift(So(e,s,o)),s=yo(e,t),s!=null&&r.push(So(e,s,o))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,o?(u=yo(n,s),u!=null&&i.unshift(So(n,u,a))):o||(u=yo(n,s),u!=null&&i.push(So(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Uv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(Uv,`
`).replace(Wv,"")}function ks(e,t,n){if(t=wd(t),wd(e)!==t&&n)throw Error(B(425))}function fi(){}var Ml=null,Ll=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,kd=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof kd<"u"?function(e){return kd.resolve(null).then(e).catch(Xv)}:$l;function Xv(e){setTimeout(function(){throw e})}function Oa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),wo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);wo(t)}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Pt="__reactFiber$"+$r,Eo="__reactProps$"+$r,Vt="__reactContainer$"+$r,Al="__reactEvents$"+$r,Yv="__reactListeners$"+$r,Qv="__reactHandles$"+$r;function Sn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bd(e);e!==null;){if(n=e[Pt])return n;e=bd(e)}return t}e=n,n=e.parentNode}return null}function Xo(e){return e=e[Pt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Vi(e){return e[Eo]||null}var Il=[],er=-1;function vn(e){return{current:e}}function fe(e){0>er||(e.current=Il[er],Il[er]=null,er--)}function ce(e,t){er++,Il[er]=e.current,e.current=t}var yn={},ze=vn(yn),Xe=vn(!1),$n=yn;function yr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(e){return e=e.childContextTypes,e!=null}function hi(){fe(Xe),fe(ze)}function Nd(e,t,n){if(ze.current!==yn)throw Error(B(168));ce(ze,t),ce(Xe,n)}function Ph(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,Rx(e)||"Unknown",o));return xe({},n,r)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,$n=ze.current,ce(ze,e),ce(Xe,Xe.current),!0}function Sd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ph(e,t,$n),r.__reactInternalMemoizedMergedChildContext=e,fe(Xe),fe(ze),ce(ze,e)):fe(Xe),ce(Xe,n)}var zt=null,Gi=!1,Ha=!1;function Th(e){zt===null?zt=[e]:zt.push(e)}function Kv(e){Gi=!0,Th(e)}function wn(){if(!Ha&&zt!==null){Ha=!0;var e=0,t=ue;try{var n=zt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Gi=!1}catch(o){throw zt!==null&&(zt=zt.slice(e+1)),th(Ru,wn),o}finally{ue=t,Ha=!1}}return null}var tr=[],nr=0,gi=null,mi=0,it=[],at=0,An=null,Ft=1,Ot="";function kn(e,t){tr[nr++]=mi,tr[nr++]=gi,gi=e,mi=t}function Mh(e,t,n){it[at++]=Ft,it[at++]=Ot,it[at++]=An,An=e;var r=Ft;e=Ot;var o=32-wt(r)-1;r&=~(1<<o),n+=1;var s=32-wt(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ft=1<<32-wt(t)+o|n<<o|r,Ot=s+e}else Ft=1<<s|n<<o|r,Ot=e}function Bu(e){e.return!==null&&(kn(e,1),Mh(e,1,0))}function Uu(e){for(;e===gi;)gi=tr[--nr],tr[nr]=null,mi=tr[--nr],tr[nr]=null;for(;e===An;)An=it[--at],it[at]=null,Ot=it[--at],it[at]=null,Ft=it[--at],it[at]=null}var tt=null,et=null,pe=!1,mt=null;function Lh(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ed(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Ft,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zl(e){if(pe){var t=et;if(t){var n=t;if(!Ed(e,t)){if(Dl(e))throw Error(B(418));t=dn(n.nextSibling);var r=tt;t&&Ed(e,t)?Lh(r,n):(e.flags=e.flags&-4097|2,pe=!1,tt=e)}}else{if(Dl(e))throw Error(B(418));e.flags=e.flags&-4097|2,pe=!1,tt=e}}}function _d(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function bs(e){if(e!==tt)return!1;if(!pe)return _d(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=et)){if(Dl(e))throw Rh(),Error(B(418));for(;t;)Lh(e,t),t=dn(t.nextSibling)}if(_d(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?dn(e.stateNode.nextSibling):null;return!0}function Rh(){for(var e=et;e;)e=dn(e.nextSibling)}function xr(){et=tt=null,pe=!1}function Wu(e){mt===null?mt=[e]:mt.push(e)}var qv=Qt.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function $h(e){function t(m,x){if(e){var y=m.deletions;y===null?(m.deletions=[x],m.flags|=16):y.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function o(m,x){return m=gn(m,x),m.index=0,m.sibling=null,m}function s(m,x,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<x?(m.flags|=2,x):y):(m.flags|=2,x)):(m.flags|=1048576,x)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,x,y,k){return x===null||x.tag!==6?(x=Ya(y,m.mode,k),x.return=m,x):(x=o(x,y),x.return=m,x)}function u(m,x,y,k){var b=y.type;return b===Qn?h(m,x,y.props.children,k,y.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===en&&jd(b)===x.type)?(k=o(x,y.props),k.ref=Vr(m,x,y),k.return=m,k):(k=Qs(y.type,y.key,y.props,null,m.mode,k),k.ref=Vr(m,x,y),k.return=m,k)}function c(m,x,y,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Qa(y,m.mode,k),x.return=m,x):(x=o(x,y.children||[]),x.return=m,x)}function h(m,x,y,k,b){return x===null||x.tag!==7?(x=Tn(y,m.mode,k,b),x.return=m,x):(x=o(x,y),x.return=m,x)}function d(m,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ya(""+x,m.mode,y),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fs:return y=Qs(x.type,x.key,x.props,null,m.mode,y),y.ref=Vr(m,null,x),y.return=m,y;case Yn:return x=Qa(x,m.mode,y),x.return=m,x;case en:var k=x._init;return d(m,k(x._payload),y)}if(Zr(x)||Or(x))return x=Tn(x,m.mode,y,null),x.return=m,x;Ns(m,x)}return null}function f(m,x,y,k){var b=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(m,x,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:return y.key===b?u(m,x,y,k):null;case Yn:return y.key===b?c(m,x,y,k):null;case en:return b=y._init,f(m,x,b(y._payload),k)}if(Zr(y)||Or(y))return b!==null?null:h(m,x,y,k,null);Ns(m,y)}return null}function g(m,x,y,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,a(x,m,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fs:return m=m.get(k.key===null?y:k.key)||null,u(x,m,k,b);case Yn:return m=m.get(k.key===null?y:k.key)||null,c(x,m,k,b);case en:var E=k._init;return g(m,x,y,E(k._payload),b)}if(Zr(k)||Or(k))return m=m.get(y)||null,h(x,m,k,b,null);Ns(x,k)}return null}function p(m,x,y,k){for(var b=null,E=null,S=x,T=x=0,D=null;S!==null&&T<y.length;T++){S.index>T?(D=S,S=null):D=S.sibling;var R=f(m,S,y[T],k);if(R===null){S===null&&(S=D);break}e&&S&&R.alternate===null&&t(m,S),x=s(R,x,T),E===null?b=R:E.sibling=R,E=R,S=D}if(T===y.length)return n(m,S),pe&&kn(m,T),b;if(S===null){for(;T<y.length;T++)S=d(m,y[T],k),S!==null&&(x=s(S,x,T),E===null?b=S:E.sibling=S,E=S);return pe&&kn(m,T),b}for(S=r(m,S);T<y.length;T++)D=g(S,m,T,y[T],k),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?T:D.key),x=s(D,x,T),E===null?b=D:E.sibling=D,E=D);return e&&S.forEach(function(F){return t(m,F)}),pe&&kn(m,T),b}function v(m,x,y,k){var b=Or(y);if(typeof b!="function")throw Error(B(150));if(y=b.call(y),y==null)throw Error(B(151));for(var E=b=null,S=x,T=x=0,D=null,R=y.next();S!==null&&!R.done;T++,R=y.next()){S.index>T?(D=S,S=null):D=S.sibling;var F=f(m,S,R.value,k);if(F===null){S===null&&(S=D);break}e&&S&&F.alternate===null&&t(m,S),x=s(F,x,T),E===null?b=F:E.sibling=F,E=F,S=D}if(R.done)return n(m,S),pe&&kn(m,T),b;if(S===null){for(;!R.done;T++,R=y.next())R=d(m,R.value,k),R!==null&&(x=s(R,x,T),E===null?b=R:E.sibling=R,E=R);return pe&&kn(m,T),b}for(S=r(m,S);!R.done;T++,R=y.next())R=g(S,m,T,R.value,k),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?T:R.key),x=s(R,x,T),E===null?b=R:E.sibling=R,E=R);return e&&S.forEach(function($){return t(m,$)}),pe&&kn(m,T),b}function w(m,x,y,k){if(typeof y=="object"&&y!==null&&y.type===Qn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:e:{for(var b=y.key,E=x;E!==null;){if(E.key===b){if(b=y.type,b===Qn){if(E.tag===7){n(m,E.sibling),x=o(E,y.props.children),x.return=m,m=x;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===en&&jd(b)===E.type){n(m,E.sibling),x=o(E,y.props),x.ref=Vr(m,E,y),x.return=m,m=x;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===Qn?(x=Tn(y.props.children,m.mode,k,y.key),x.return=m,m=x):(k=Qs(y.type,y.key,y.props,null,m.mode,k),k.ref=Vr(m,x,y),k.return=m,m=k)}return i(m);case Yn:e:{for(E=y.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(m,x.sibling),x=o(x,y.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Qa(y,m.mode,k),x.return=m,m=x}return i(m);case en:return E=y._init,w(m,x,E(y._payload),k)}if(Zr(y))return p(m,x,y,k);if(Or(y))return v(m,x,y,k);Ns(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(m,x.sibling),x=o(x,y),x.return=m,m=x):(n(m,x),x=Ya(y,m.mode,k),x.return=m,m=x),i(m)):n(m,x)}return w}var vr=$h(!0),Ah=$h(!1),yi=vn(null),xi=null,rr=null,Vu=null;function Gu(){Vu=rr=xi=null}function Xu(e){var t=yi.current;fe(yi),e._currentValue=t}function Fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){xi=e,Vu=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(xi===null)throw Error(B(308));rr=e,xi.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var En=null;function Yu(e){En===null?En=[e]:En.push(e)}function Ih(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Yu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,Yu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$u(e,n)}}function Cd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,r){var o=e.updateQueue;tn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==i&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=o.baseState;i=0,h=c=u=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(f=t,g=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(g,d,f):p,f==null)break e;d=xe({},d,f);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=d):h=h.next=g,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(h===null&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Dn|=i,e.lanes=i,e.memoizedState=d}}function Pd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var Yo={},Mt=vn(Yo),_o=vn(Yo),jo=vn(Yo);function _n(e){if(e===Yo)throw Error(B(174));return e}function Ku(e,t){switch(ce(jo,t),ce(_o,e),ce(Mt,Yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vl(t,e)}fe(Mt),ce(Mt,t)}function wr(){fe(Mt),fe(_o),fe(jo)}function zh(e){_n(jo.current);var t=_n(Mt.current),n=vl(t,e.type);t!==n&&(ce(_o,e),ce(Mt,n))}function qu(e){_o.current===e&&(fe(Mt),fe(_o))}var me=vn(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function Zu(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var Ws=Qt.ReactCurrentDispatcher,Ua=Qt.ReactCurrentBatchConfig,In=0,ye=null,Ee=null,Ce=null,ki=!1,lo=!1,Co=0,Zv=0;function $e(){throw Error(B(321))}function Ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function ec(e,t,n,r,o,s){if(In=s,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?nw:rw,e=n(r,o),lo){s=0;do{if(lo=!1,Co=0,25<=s)throw Error(B(301));s+=1,Ce=Ee=null,t.updateQueue=null,Ws.current=ow,e=n(r,o)}while(lo)}if(Ws.current=bi,t=Ee!==null&&Ee.next!==null,In=0,Ce=Ee=ye=null,ki=!1,t)throw Error(B(300));return e}function tc(){var e=Co!==0;return Co=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ye.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function dt(){if(Ee===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ce===null?ye.memoizedState:Ce.next;if(t!==null)Ce=t,Ee=e;else{if(e===null)throw Error(B(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ce===null?ye.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Po(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=dt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ee,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,u=null,c=s;do{var h=c.lane;if((In&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,i=r):u=u.next=d,ye.lanes|=h,Dn|=h}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,bt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ye.lanes|=s,Dn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Va(e){var t=dt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);bt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Fh(){}function Oh(e,t){var n=ye,r=dt(),o=t(),s=!bt(r.memoizedState,o);if(s&&(r.memoizedState=o,We=!0),r=r.queue,nc(Uh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,To(9,Bh.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(B(349));In&30||Hh(n,t,o)}return o}function Hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bh(e,t,n,r){t.value=n,t.getSnapshot=r,Wh(t)&&Vh(e)}function Uh(e,t,n){return n(function(){Wh(t)&&Vh(e)})}function Wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Vh(e){var t=Gt(e,1);t!==null&&kt(t,e,1,-1)}function Td(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=tw.bind(null,ye,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gh(){return dt().memoizedState}function Vs(e,t,n,r){var o=jt();ye.flags|=e,o.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function Xi(e,t,n,r){var o=dt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var i=Ee.memoizedState;if(s=i.destroy,r!==null&&Ju(r,i.deps)){o.memoizedState=To(t,n,s,r);return}}ye.flags|=e,o.memoizedState=To(1|t,n,s,r)}function Md(e,t){return Vs(8390656,8,e,t)}function nc(e,t){return Xi(2048,8,e,t)}function Xh(e,t){return Xi(4,2,e,t)}function Yh(e,t){return Xi(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,n){return n=n!=null?n.concat([e]):null,Xi(4,4,Qh.bind(null,t,e),n)}function rc(){}function qh(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zh(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jh(e,t,n){return In&21?(bt(n,t)||(n=oh(),ye.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Jv(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Ua.transition;Ua.transition={};try{e(!1),t()}finally{ue=n,Ua.transition=r}}function ep(){return dt().memoizedState}function ew(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tp(e))np(t,n);else if(n=Ih(e,t,n,r),n!==null){var o=Oe();kt(n,e,r,o),rp(n,t,r)}}function tw(e,t,n){var r=pn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(e))np(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,bt(a,i)){var u=t.interleaved;u===null?(o.next=o,Yu(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Ih(e,t,o,r),n!==null&&(o=Oe(),kt(n,e,r,o),rp(n,t,r))}}function tp(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function np(e,t){lo=ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$u(e,n)}}var bi={readContext:ct,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},nw={readContext:ct,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Md,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ew.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Td,useDebugValue:rc,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Td(!1),t=e[0];return e=Jv.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,o=jt();if(pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Pe===null)throw Error(B(349));In&30||Hh(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Md(Uh.bind(null,r,s,e),[e]),r.flags|=2048,To(9,Bh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=jt(),t=Pe.identifierPrefix;if(pe){var n=Ot,r=Ft;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rw={readContext:ct,useCallback:qh,useContext:ct,useEffect:nc,useImperativeHandle:Kh,useInsertionEffect:Xh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Wa,useRef:Gh,useState:function(){return Wa(Po)},useDebugValue:rc,useDeferredValue:function(e){var t=dt();return Jh(t,Ee.memoizedState,e)},useTransition:function(){var e=Wa(Po)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Oh,useId:ep,unstable_isNewReconciler:!1},ow={readContext:ct,useCallback:qh,useContext:ct,useEffect:nc,useImperativeHandle:Kh,useInsertionEffect:Xh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Va,useRef:Gh,useState:function(){return Va(Po)},useDebugValue:rc,useDeferredValue:function(e){var t=dt();return Ee===null?t.memoizedState=e:Jh(t,Ee.memoizedState,e)},useTransition:function(){var e=Va(Po)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Oh,useId:ep,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ol(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yi={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=pn(e),s=Bt(r,o);s.payload=t,n!=null&&(s.callback=n),t=fn(e,s,o),t!==null&&(kt(t,e,o,r),Us(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),o=pn(e),s=Bt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fn(e,s,o),t!==null&&(kt(t,e,o,r),Us(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=pn(e),o=Bt(n,r);o.tag=2,t!=null&&(o.callback=t),t=fn(e,o,r),t!==null&&(kt(t,e,r,n),Us(t,e,r))}};function Ld(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!bo(n,r)||!bo(o,s):!0}function op(e,t,n){var r=!1,o=yn,s=t.contextType;return typeof s=="object"&&s!==null?s=ct(s):(o=Ye(t)?$n:ze.current,r=t.contextTypes,s=(r=r!=null)?yr(e,o):yn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Rd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Hl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Qu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=ct(s):(s=Ye(t)?$n:ze.current,o.context=yr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ol(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Yi.enqueueReplaceState(o,o.state,null),vi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var n="",r=t;do n+=Lx(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function sp(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Si||(Si=!0,Zl=r),Bl(e,t)},n}function ip(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Bl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bl(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function $d(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=vw.bind(null,e,t,n),t.then(e,e))}function Ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Id(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e)}var iw=Qt.ReactCurrentOwner,We=!1;function Fe(e,t,n,r){t.child=e===null?Ah(t,null,n,r):vr(t,e.child,n,r)}function Dd(e,t,n,r,o){n=n.render;var s=t.ref;return fr(t,o),r=ec(e,t,n,r,s,o),n=tc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xt(e,t,o)):(pe&&n&&Bu(t),t.flags|=1,Fe(e,t,r,o),t.child)}function zd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!dc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ap(e,t,s,r,o)):(e=Qs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(i,r)&&e.ref===t.ref)return Xt(e,t,o)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function ap(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(bo(s,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Xt(e,t,o)}return Ul(e,t,n,r,o)}function lp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(sr,Ze),Ze|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(sr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(sr,Ze),Ze|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ce(sr,Ze),Ze|=r;return Fe(e,t,o,n),t.child}function up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ul(e,t,n,r,o){var s=Ye(n)?$n:ze.current;return s=yr(t,s),fr(t,o),n=ec(e,t,n,r,s,o),r=tc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xt(e,t,o)):(pe&&r&&Bu(t),t.flags|=1,Fe(e,t,n,o),t.child)}function Fd(e,t,n,r,o){if(Ye(n)){var s=!0;pi(t)}else s=!1;if(fr(t,o),t.stateNode===null)Gs(e,t),op(t,n,r),Hl(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Ye(n)?$n:ze.current,c=yr(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Rd(t,i,r,c),tn=!1;var f=t.memoizedState;i.state=f,vi(t,r,i,o),u=t.memoizedState,a!==r||f!==u||Xe.current||tn?(typeof h=="function"&&(Ol(t,n,h,r),u=t.memoizedState),(a=tn||Ld(t,n,a,r,f,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Dh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ht(t.type,a),i.props=c,d=t.pendingProps,f=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=Ye(n)?$n:ze.current,u=yr(t,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==u)&&Rd(t,i,r,u),tn=!1,f=t.memoizedState,i.state=f,vi(t,r,i,o);var p=t.memoizedState;a!==d||f!==p||Xe.current||tn?(typeof g=="function"&&(Ol(t,n,g,r),p=t.memoizedState),(c=tn||Ld(t,n,c,r,f,p,u)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Wl(e,t,n,r,s,o)}function Wl(e,t,n,r,o,s){up(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Sd(t,n,!1),Xt(e,t,s);r=t.stateNode,iw.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=vr(t,e.child,null,s),t.child=vr(t,null,a,s)):Fe(e,t,a,s),t.memoizedState=r.state,o&&Sd(t,n,!0),t.child}function cp(e){var t=e.stateNode;t.pendingContext?Nd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nd(e,t.context,!1),Ku(e,t.containerInfo)}function Od(e,t,n,r,o){return xr(),Wu(o),t.flags|=256,Fe(e,t,n,r),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function dp(e,t,n){var r=t.pendingProps,o=me.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(me,o&1),e===null)return zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=qi(i,r,0,null),e=Tn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Gl(n),t.memoizedState=Vl,e):oc(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return aw(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=gn(o,u),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=gn(a,s):(s=Tn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Gl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Vl,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oc(e,t){return t=qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,n,r){return r!==null&&Wu(r),vr(t,e.child,null,n),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aw(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Ga(Error(B(422))),Ss(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=qi({mode:"visible",children:r.children},o,0,null),s=Tn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vr(t,e.child,null,i),t.child.memoizedState=Gl(i),t.memoizedState=Vl,s);if(!(t.mode&1))return Ss(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Ga(s,r,void 0),Ss(e,t,i,r)}if(a=(i&e.childLanes)!==0,We||a){if(r=Pe,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Gt(e,o),kt(r,e,o,-1))}return cc(),r=Ga(Error(B(421))),Ss(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ww.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,et=dn(o.nextSibling),tt=t,pe=!0,mt=null,e!==null&&(it[at++]=Ft,it[at++]=Ot,it[at++]=An,Ft=e.id,Ot=e.overflow,An=t),t=oc(t,r.children),t.flags|=4096,t)}function Hd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fl(e.return,t,n)}function Xa(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function fp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Fe(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,n,t);else if(e.tag===19)Hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&wi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xa(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xa(t,!0,n,null,s);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lw(e,t,n){switch(t.tag){case 3:cp(t),xr();break;case 5:zh(t);break;case 1:Ye(t.type)&&pi(t);break;case 4:Ku(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(yi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?dp(e,t,n):(ce(me,me.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,lp(e,t,n)}return Xt(e,t,n)}var hp,Xl,pp,gp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};pp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_n(Mt.current);var s=null;switch(n){case"input":o=gl(e,o),r=gl(e,r),s=[];break;case"select":o=xe({},o,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":o=xl(e,o),r=xl(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fi)}wl(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(go.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(go.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&de("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};gp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uw(e,t,n){var r=t.pendingProps;switch(Uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ye(t.type)&&hi(),Ae(t),null;case 3:return r=t.stateNode,wr(),fe(Xe),fe(ze),Zu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(tu(mt),mt=null))),Xl(e,t),Ae(t),null;case 5:qu(t);var o=_n(jo.current);if(n=t.type,e!==null&&t.stateNode!=null)pp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ae(t),null}if(e=_n(Mt.current),bs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pt]=t,r[Eo]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(o=0;o<eo.length;o++)de(eo[o],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Kc(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Zc(r,s),de("invalid",r)}wl(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ks(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ks(r.textContent,a,e),o=["children",""+a]):go.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&de("scroll",r)}switch(n){case"input":hs(r),qc(r,s,!0);break;case"textarea":hs(r),Jc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=U0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Pt]=t,e[Eo]=r,hp(e,t,!1,!1),t.stateNode=e;e:{switch(i=kl(n,r),n){case"dialog":de("cancel",e),de("close",e),o=r;break;case"iframe":case"object":case"embed":de("load",e),o=r;break;case"video":case"audio":for(o=0;o<eo.length;o++)de(eo[o],e);o=r;break;case"source":de("error",e),o=r;break;case"img":case"image":case"link":de("error",e),de("load",e),o=r;break;case"details":de("toggle",e),o=r;break;case"input":Kc(e,r),o=gl(e,r),de("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xe({},r,{value:void 0}),de("invalid",e);break;case"textarea":Zc(e,r),o=xl(e,r),de("invalid",e);break;default:o=r}wl(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?G0(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&W0(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&mo(e,u):typeof u=="number"&&mo(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(go.hasOwnProperty(s)?u!=null&&s==="onScroll"&&de("scroll",e):u!=null&&Cu(e,s,u,i))}switch(n){case"input":hs(e),qc(e,r,!1);break;case"textarea":hs(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lr(e,!!r.multiple,s,!1):r.defaultValue!=null&&lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)gp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=_n(jo.current),_n(Mt.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:ks(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Ae(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&et!==null&&t.mode&1&&!(t.flags&128))Rh(),xr(),t.flags|=98560,s=!1;else if(s=bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Pt]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else mt!==null&&(tu(mt),mt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?_e===0&&(_e=3):cc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return wr(),Xl(e,t),e===null&&No(t.stateNode.containerInfo),Ae(t),null;case 10:return Xu(t.type._context),Ae(t),null;case 17:return Ye(t.type)&&hi(),Ae(t),null;case 19:if(fe(me),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Gr(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wi(e),i!==null){for(t.flags|=128,Gr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}s.tail!==null&&ke()>br&&(t.flags|=128,r=!0,Gr(s,!1),t.lanes=4194304)}else{if(!r)if(e=wi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!pe)return Ae(t),null}else 2*ke()-s.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,Gr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ke(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function cw(e,t){switch(Uu(t),t.tag){case 1:return Ye(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),fe(Xe),fe(ze),Zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qu(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return wr(),null;case 10:return Xu(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Es=!1,Ie=!1,dw=typeof WeakSet=="function"?WeakSet:Set,G=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Yl(e,t,n){try{n()}catch(r){we(e,t,r)}}var Bd=!1;function fw(e,t){if(Ml=ui,e=wh(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var g;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++c===o&&(a=i),f===s&&++h===r&&(u=i),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ll={focusedElem:e,selectionRange:n},ui=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){we(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return p=Bd,Bd=!1,p}function uo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Yl(t,n,s)}o=o.next}while(o!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mp(e){var t=e.alternate;t!==null&&(e.alternate=null,mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Eo],delete t[Al],delete t[Yv],delete t[Qv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yp(e){return e.tag===5||e.tag===3||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(r!==4&&(e=e.child,e!==null))for(Kl(e,t,n),e=e.sibling;e!==null;)Kl(e,t,n),e=e.sibling}function ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ql(e,t,n),e=e.sibling;e!==null;)ql(e,t,n),e=e.sibling}var Te=null,pt=!1;function qt(e,t,n){for(n=n.child;n!==null;)xp(e,t,n),n=n.sibling}function xp(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Hi,n)}catch{}switch(n.tag){case 5:Ie||or(n,t);case 6:var r=Te,o=pt;Te=null,qt(e,t,n),Te=r,pt=o,Te!==null&&(pt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(pt?(e=Te,n=n.stateNode,e.nodeType===8?Oa(e.parentNode,n):e.nodeType===1&&Oa(e,n),wo(e)):Oa(Te,n.stateNode));break;case 4:r=Te,o=pt,Te=n.stateNode.containerInfo,pt=!0,qt(e,t,n),Te=r,pt=o;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Yl(n,t,i),o=o.next}while(o!==r)}qt(e,t,n);break;case 1:if(!Ie&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,t,a)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,qt(e,t,n),Ie=r):qt(e,t,n);break;default:qt(e,t,n)}}function Wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dw),t.forEach(function(r){var o=kw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,pt=!1;break e;case 3:Te=a.stateNode.containerInfo,pt=!0;break e;case 4:Te=a.stateNode.containerInfo,pt=!0;break e}a=a.return}if(Te===null)throw Error(B(160));xp(s,i,o),Te=null,pt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){we(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vp(t,e),t=t.sibling}function vp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Et(e),r&4){try{uo(3,e,e.return),Qi(3,e)}catch(v){we(e,e.return,v)}try{uo(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:ft(t,e),Et(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(ft(t,e),Et(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var o=e.stateNode;try{mo(o,"")}catch(v){we(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H0(o,s),kl(a,i);var c=kl(a,s);for(i=0;i<u.length;i+=2){var h=u[i],d=u[i+1];h==="style"?G0(o,d):h==="dangerouslySetInnerHTML"?W0(o,d):h==="children"?mo(o,d):Cu(o,h,d,c)}switch(a){case"input":ml(o,s);break;case"textarea":B0(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?lr(o,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?lr(o,!!s.multiple,s.defaultValue,!0):lr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Eo]=s}catch(v){we(e,e.return,v)}}break;case 6:if(ft(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){we(e,e.return,v)}}break;case 3:if(ft(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:ft(t,e),Et(e);break;case 13:ft(t,e),Et(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ac=ke())),r&4&&Wd(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||h,ft(t,e),Ie=c):ft(t,e),Et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(G=e,h=e.child;h!==null;){for(d=G=h;G!==null;){switch(f=G,g=f.child,f.tag){case 0:case 11:case 14:case 15:uo(4,f,f.return);break;case 1:or(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){we(r,n,v)}}break;case 5:or(f,f.return);break;case 22:if(f.memoizedState!==null){Gd(d);continue}}g!==null?(g.return=f,G=g):Gd(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=V0("display",i))}catch(v){we(e,e.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){we(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ft(t,e),Et(e),r&4&&Wd(e);break;case 21:break;default:ft(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yp(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(mo(o,""),r.flags&=-33);var s=Ud(e);ql(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Ud(e);Kl(e,a,i);break;default:throw Error(B(161))}}catch(u){we(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hw(e,t,n){G=e,wp(e)}function wp(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var o=G,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Es;if(!i){var a=o.alternate,u=a!==null&&a.memoizedState!==null||Ie;a=Es;var c=Ie;if(Es=i,(Ie=u)&&!c)for(G=o;G!==null;)i=G,u=i.child,i.tag===22&&i.memoizedState!==null?Xd(o):u!==null?(u.return=i,G=u):Xd(o);for(;s!==null;)G=s,wp(s),s=s.sibling;G=o,Es=a,Ie=c}Vd(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,G=s):Vd(e)}}function Vd(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Pd(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&wo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ie||t.flags&512&&Ql(t)}catch(f){we(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Gd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Xd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(u){we(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){we(t,o,u)}}var s=t.return;try{Ql(t)}catch(u){we(t,s,u)}break;case 5:var i=t.return;try{Ql(t)}catch(u){we(t,i,u)}}}catch(u){we(t,t.return,u)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var pw=Math.ceil,Ni=Qt.ReactCurrentDispatcher,sc=Qt.ReactCurrentOwner,ut=Qt.ReactCurrentBatchConfig,ie=0,Pe=null,Ne=null,Me=0,Ze=0,sr=vn(0),_e=0,Mo=null,Dn=0,Ki=0,ic=0,co=null,Ue=null,ac=0,br=1/0,Dt=null,Si=!1,Zl=null,hn=null,_s=!1,an=null,Ei=0,fo=0,Jl=null,Xs=-1,Ys=0;function Oe(){return ie&6?ke():Xs!==-1?Xs:Xs=ke()}function pn(e){return e.mode&1?ie&2&&Me!==0?Me&-Me:qv.transition!==null?(Ys===0&&(Ys=oh()),Ys):(e=ue,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e):1}function kt(e,t,n,r){if(50<fo)throw fo=0,Jl=null,Error(B(185));Vo(e,n,r),(!(ie&2)||e!==Pe)&&(e===Pe&&(!(ie&2)&&(Ki|=n),_e===4&&rn(e,Me)),Qe(e,r),n===1&&ie===0&&!(t.mode&1)&&(br=ke()+500,Gi&&wn()))}function Qe(e,t){var n=e.callbackNode;qx(e,t);var r=li(e,e===Pe?Me:0);if(r===0)n!==null&&nd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nd(n),t===1)e.tag===0?Kv(Yd.bind(null,e)):Th(Yd.bind(null,e)),Gv(function(){!(ie&6)&&wn()}),n=null;else{switch(sh(r)){case 1:n=Ru;break;case 4:n=nh;break;case 16:n=ai;break;case 536870912:n=rh;break;default:n=ai}n=Cp(n,kp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kp(e,t){if(Xs=-1,Ys=0,ie&6)throw Error(B(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var r=li(e,e===Pe?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_i(e,r);else{t=r;var o=ie;ie|=2;var s=Np();(Pe!==e||Me!==t)&&(Dt=null,br=ke()+500,Pn(e,t));do try{yw();break}catch(a){bp(e,a)}while(!0);Gu(),Ni.current=s,ie=o,Ne!==null?t=0:(Pe=null,Me=0,t=_e)}if(t!==0){if(t===2&&(o=_l(e),o!==0&&(r=o,t=eu(e,o))),t===1)throw n=Mo,Pn(e,0),rn(e,r),Qe(e,ke()),n;if(t===6)rn(e,r);else{if(o=e.current.alternate,!(r&30)&&!gw(o)&&(t=_i(e,r),t===2&&(s=_l(e),s!==0&&(r=s,t=eu(e,s))),t===1))throw n=Mo,Pn(e,0),rn(e,r),Qe(e,ke()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:bn(e,Ue,Dt);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=ac+500-ke(),10<t)){if(li(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=$l(bn.bind(null,e,Ue,Dt),t);break}bn(e,Ue,Dt);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-wt(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pw(r/1960))-r,10<r){e.timeoutHandle=$l(bn.bind(null,e,Ue,Dt),r);break}bn(e,Ue,Dt);break;case 5:bn(e,Ue,Dt);break;default:throw Error(B(329))}}}return Qe(e,ke()),e.callbackNode===n?kp.bind(null,e):null}function eu(e,t){var n=co;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=_i(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&tu(t)),e}function tu(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function gw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!bt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~ic,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Yd(e){if(ie&6)throw Error(B(327));hr();var t=li(e,0);if(!(t&1))return Qe(e,ke()),null;var n=_i(e,t);if(e.tag!==0&&n===2){var r=_l(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=Mo,Pn(e,0),rn(e,t),Qe(e,ke()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,Ue,Dt),Qe(e,ke()),null}function lc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(br=ke()+500,Gi&&wn())}}function zn(e){an!==null&&an.tag===0&&!(ie&6)&&hr();var t=ie;ie|=1;var n=ut.transition,r=ue;try{if(ut.transition=null,ue=1,e)return e()}finally{ue=r,ut.transition=n,ie=t,!(ie&6)&&wn()}}function uc(){Ze=sr.current,fe(sr)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vv(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hi();break;case 3:wr(),fe(Xe),fe(ze),Zu();break;case 5:qu(r);break;case 4:wr();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Xu(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Pe=e,Ne=e=gn(e.current,null),Me=Ze=t,_e=0,Mo=null,ic=Ki=Dn=0,Ue=co=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}En=null}return e}function bp(e,t){do{var n=Ne;try{if(Gu(),Ws.current=bi,ki){for(var r=ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ki=!1}if(In=0,Ce=Ee=ye=null,lo=!1,Co=0,sc.current=null,n===null||n.return===null){_e=1,Mo=t,Ne=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=Me,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Ad(i);if(g!==null){g.flags&=-257,Id(g,i,a,s,t),g.mode&1&&$d(s,c,t),t=g,u=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(u),t.updateQueue=v}else p.add(u);break e}else{if(!(t&1)){$d(s,c,t),cc();break e}u=Error(B(426))}}else if(pe&&a.mode&1){var w=Ad(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Id(w,i,a,s,t),Wu(kr(u,a));break e}}s=u=kr(u,a),_e!==4&&(_e=2),co===null?co=[s]:co.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=sp(s,u,t);Cd(s,m);break e;case 1:a=u;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hn===null||!hn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=ip(s,a,t);Cd(s,k);break e}}s=s.return}while(s!==null)}Ep(n)}catch(b){t=b,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Np(){var e=Ni.current;return Ni.current=bi,e===null?bi:e}function cc(){(_e===0||_e===3||_e===2)&&(_e=4),Pe===null||!(Dn&268435455)&&!(Ki&268435455)||rn(Pe,Me)}function _i(e,t){var n=ie;ie|=2;var r=Np();(Pe!==e||Me!==t)&&(Dt=null,Pn(e,t));do try{mw();break}catch(o){bp(e,o)}while(!0);if(Gu(),ie=n,Ni.current=r,Ne!==null)throw Error(B(261));return Pe=null,Me=0,_e}function mw(){for(;Ne!==null;)Sp(Ne)}function yw(){for(;Ne!==null&&!Bx();)Sp(Ne)}function Sp(e){var t=jp(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Ep(e):Ne=t,sc.current=null}function Ep(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cw(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Ne=null;return}}else if(n=uw(n,t,Ze),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);_e===0&&(_e=5)}function bn(e,t,n){var r=ue,o=ut.transition;try{ut.transition=null,ue=1,xw(e,t,n,r)}finally{ut.transition=o,ue=r}return null}function xw(e,t,n,r){do hr();while(an!==null);if(ie&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Zx(e,s),e===Pe&&(Ne=Pe=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_s||(_s=!0,Cp(ai,function(){return hr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var i=ue;ue=1;var a=ie;ie|=4,sc.current=null,fw(e,n),vp(n,e),zv(Ll),ui=!!Ml,Ll=Ml=null,e.current=n,hw(n),Ux(),ie=a,ue=i,ut.transition=s}else e.current=n;if(_s&&(_s=!1,an=e,Ei=o),s=e.pendingLanes,s===0&&(hn=null),Gx(n.stateNode),Qe(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Si)throw Si=!1,e=Zl,Zl=null,e;return Ei&1&&e.tag!==0&&hr(),s=e.pendingLanes,s&1?e===Jl?fo++:(fo=0,Jl=e):fo=0,wn(),null}function hr(){if(an!==null){var e=sh(Ei),t=ut.transition,n=ue;try{if(ut.transition=null,ue=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,Ei=0,ie&6)throw Error(B(331));var o=ie;for(ie|=4,G=e.current;G!==null;){var s=G,i=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:uo(8,h,s)}var d=h.child;if(d!==null)d.return=h,G=d;else for(;G!==null;){h=G;var f=h.sibling,g=h.return;if(mp(h),h===c){G=null;break}if(f!==null){f.return=g,G=f;break}G=g}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,G=i;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var x=e.current;for(G=x;G!==null;){i=G;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,G=y;else e:for(i=x;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qi(9,a)}}catch(b){we(a,a.return,b)}if(a===i){G=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,G=k;break e}G=a.return}}if(ie=o,wn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Hi,e)}catch{}r=!0}return r}finally{ue=n,ut.transition=t}}return!1}function Qd(e,t,n){t=kr(n,t),t=sp(e,t,1),e=fn(e,t,1),t=Oe(),e!==null&&(Vo(e,1,t),Qe(e,t))}function we(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=kr(n,e),e=ip(t,e,1),t=fn(t,e,1),e=Oe(),t!==null&&(Vo(t,1,e),Qe(t,e));break}}t=t.return}}function vw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Me&n)===n&&(_e===4||_e===3&&(Me&130023424)===Me&&500>ke()-ac?Pn(e,0):ic|=n),Qe(e,t)}function _p(e,t){t===0&&(e.mode&1?(t=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):t=1);var n=Oe();e=Gt(e,t),e!==null&&(Vo(e,t,n),Qe(e,n))}function ww(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_p(e,n)}function kw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),_p(e,n)}var jp;jp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,lw(e,t,n);We=!!(e.flags&131072)}else We=!1,pe&&t.flags&1048576&&Mh(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var o=yr(t,ze.current);fr(t,n),o=ec(null,t,r,e,o,n);var s=tc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(s=!0,pi(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Qu(t),o.updater=Yi,t.stateNode=o,o._reactInternals=t,Hl(t,r,e,n),t=Wl(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Bu(t),Fe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Nw(r),e=ht(r,e),o){case 0:t=Ul(null,t,r,e,n);break e;case 1:t=Fd(null,t,r,e,n);break e;case 11:t=Dd(null,t,r,e,n);break e;case 14:t=zd(null,t,r,ht(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Ul(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Fd(e,t,r,o,n);case 3:e:{if(cp(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Dh(e,t),vi(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=kr(Error(B(423)),t),t=Od(e,t,r,n,o);break e}else if(r!==o){o=kr(Error(B(424)),t),t=Od(e,t,r,n,o);break e}else for(et=dn(t.stateNode.containerInfo.firstChild),tt=t,pe=!0,mt=null,n=Ah(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===o){t=Xt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return zh(t),e===null&&zl(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Rl(r,o)?i=null:s!==null&&Rl(r,s)&&(t.flags|=32),up(e,t),Fe(e,t,i,n),t.child;case 6:return e===null&&zl(t),null;case 13:return dp(e,t,n);case 4:return Ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Dd(e,t,r,o,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ce(yi,r._currentValue),r._currentValue=i,s!==null)if(bt(s.value,i)){if(s.children===o.children&&!Xe.current){t=Xt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Bt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Fl(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Fl(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Fe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,fr(t,n),o=ct(o),r=r(o),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,o=ht(r,t.pendingProps),o=ht(r.type,o),zd(e,t,r,o,n);case 15:return ap(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ht(r,o),Gs(e,t),t.tag=1,Ye(r)?(e=!0,pi(t)):e=!1,fr(t,n),op(t,r,o),Hl(t,r,o,n),Wl(null,t,r,!0,e,n);case 19:return fp(e,t,n);case 22:return lp(e,t,n)}throw Error(B(156,t.tag))};function Cp(e,t){return th(e,t)}function bw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new bw(e,t,n,r)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nw(e){if(typeof e=="function")return dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tu)return 11;if(e===Mu)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")dc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Qn:return Tn(n.children,o,s,t);case Pu:i=8,o|=8;break;case dl:return e=lt(12,n,t,o|2),e.elementType=dl,e.lanes=s,e;case fl:return e=lt(13,n,t,o),e.elementType=fl,e.lanes=s,e;case hl:return e=lt(19,n,t,o),e.elementType=hl,e.lanes=s,e;case z0:return qi(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I0:i=10;break e;case D0:i=9;break e;case Tu:i=11;break e;case Mu:i=14;break e;case en:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=lt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Tn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function qi(e,t,n,r){return e=lt(22,e,r,t),e.elementType=z0,e.lanes=n,e.stateNode={isHidden:!1},e}function Ya(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Qa(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function fc(e,t,n,r,o,s,i,a,u){return e=new Sw(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=lt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(s),e}function Ew(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pp(e){if(!e)return yn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Ph(e,n,t)}return t}function Tp(e,t,n,r,o,s,i,a,u){return e=fc(n,r,!0,e,o,s,i,a,u),e.context=Pp(null),n=e.current,r=Oe(),o=pn(n),s=Bt(r,o),s.callback=t??null,fn(n,s,o),e.current.lanes=o,Vo(e,o,r),Qe(e,r),e}function Zi(e,t,n,r){var o=t.current,s=Oe(),i=pn(o);return n=Pp(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(o,t,i),e!==null&&(kt(e,o,i,s),Us(e,o,i)),i}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hc(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function _w(){return null}var Mp=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}Ji.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Zi(e,t,null,null)};Ji.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){Zi(null,e,null,null)}),t[Vt]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=lh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&ch(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qd(){}function jw(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=ji(i);s.call(c)}}var i=Tp(t,r,e,0,null,!1,!1,"",qd);return e._reactRootContainer=i,e[Vt]=i.current,No(e.nodeType===8?e.parentNode:e),zn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=ji(u);a.call(c)}}var u=fc(e,0,!1,null,null,!1,!1,"",qd);return e._reactRootContainer=u,e[Vt]=u.current,No(e.nodeType===8?e.parentNode:e),zn(function(){Zi(t,u,n,r)}),u}function ta(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var u=ji(i);a.call(u)}}Zi(t,i,e,o)}else i=jw(n,t,e,o,r);return ji(i)}ih=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&($u(t,n|1),Qe(t,ke()),!(ie&6)&&(br=ke()+500,wn()))}break;case 13:zn(function(){var r=Gt(e,1);if(r!==null){var o=Oe();kt(r,e,1,o)}}),hc(e,1)}};Au=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Oe();kt(t,e,134217728,n)}hc(e,134217728)}};ah=function(e){if(e.tag===13){var t=pn(e),n=Gt(e,t);if(n!==null){var r=Oe();kt(n,e,t,r)}hc(e,t)}};lh=function(){return ue};uh=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Nl=function(e,t,n){switch(t){case"input":if(ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Vi(r);if(!o)throw Error(B(90));O0(r),ml(r,o)}}}break;case"textarea":B0(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};Q0=lc;K0=zn;var Cw={usingClientEntryPoint:!1,Events:[Xo,Jn,Vi,X0,Y0,lc]},Xr={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pw={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J0(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Hi=js.inject(Pw),Tt=js}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(t))throw Error(B(200));return Ew(e,t,null,n)};ot.createRoot=function(e,t){if(!gc(e))throw Error(B(299));var n=!1,r="",o=Mp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fc(e,1,!1,null,null,n,!1,r,o),e[Vt]=t.current,No(e.nodeType===8?e.parentNode:e),new pc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=J0(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return zn(e)};ot.hydrate=function(e,t,n){if(!ea(t))throw Error(B(200));return ta(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!gc(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Mp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Tp(t,null,e,1,n??null,o,!1,s,i),e[Vt]=t.current,No(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ji(t)};ot.render=function(e,t,n){if(!ea(t))throw Error(B(200));return ta(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!ea(e))throw Error(B(40));return e._reactRootContainer?(zn(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};ot.unstable_batchedUpdates=lc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ea(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ta(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),L0.exports=ot;var Tw=L0.exports,Zd=Tw;ul.createRoot=Zd.createRoot,ul.hydrateRoot=Zd.hydrateRoot;function Se(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Se(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Mw={value:()=>{}};function na(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ks(n)}function Ks(e){this._=e}function Lw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ks.prototype=na.prototype={constructor:Ks,on:function(e,t){var n=this._,r=Lw(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Rw(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=Jd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Jd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ks(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Rw(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Jd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Mw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var nu="http://www.w3.org/1999/xhtml";const ef={svg:"http://www.w3.org/2000/svg",xhtml:nu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ra(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ef.hasOwnProperty(t)?{space:ef[t],local:e}:e}function $w(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nu&&t.documentElement.namespaceURI===nu?t.createElement(e):t.createElementNS(n,e)}}function Aw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rp(e){var t=ra(e);return(t.local?Aw:$w)(t)}function Iw(){}function mc(e){return e==null?Iw:function(){return this.querySelector(e)}}function Dw(e){typeof e!="function"&&(e=mc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=new Array(i),u,c,h=0;h<i;++h)(u=s[h])&&(c=e.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),a[h]=c);return new rt(r,this._parents)}function zw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fw(){return[]}function $p(e){return e==null?Fw:function(){return this.querySelectorAll(e)}}function Ow(e){return function(){return zw(e.apply(this,arguments))}}function Hw(e){typeof e=="function"?e=Ow(e):e=$p(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],a=i.length,u,c=0;c<a;++c)(u=i[c])&&(r.push(e.call(u,u.__data__,c,i)),o.push(u));return new rt(r,o)}function Ap(e){return function(){return this.matches(e)}}function Ip(e){return function(t){return t.matches(e)}}var Bw=Array.prototype.find;function Uw(e){return function(){return Bw.call(this.children,e)}}function Ww(){return this.firstElementChild}function Vw(e){return this.select(e==null?Ww:Uw(typeof e=="function"?e:Ip(e)))}var Gw=Array.prototype.filter;function Xw(){return Array.from(this.children)}function Yw(e){return function(){return Gw.call(this.children,e)}}function Qw(e){return this.selectAll(e==null?Xw:Yw(typeof e=="function"?e:Ip(e)))}function Kw(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],u,c=0;c<i;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&a.push(u);return new rt(r,this._parents)}function Dp(e){return new Array(e.length)}function qw(){return new rt(this._enter||this._groups.map(Dp),this._parents)}function Ci(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ci.prototype={constructor:Ci,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Zw(e){return function(){return e}}function Jw(e,t,n,r,o,s){for(var i=0,a,u=t.length,c=s.length;i<c;++i)(a=t[i])?(a.__data__=s[i],r[i]=a):n[i]=new Ci(e,s[i]);for(;i<u;++i)(a=t[i])&&(o[i]=a)}function e1(e,t,n,r,o,s,i){var a,u,c=new Map,h=t.length,d=s.length,f=new Array(h),g;for(a=0;a<h;++a)(u=t[a])&&(f[a]=g=i.call(u,u.__data__,a,t)+"",c.has(g)?o[a]=u:c.set(g,u));for(a=0;a<d;++a)g=i.call(e,s[a],a,s)+"",(u=c.get(g))?(r[a]=u,u.__data__=s[a],c.delete(g)):n[a]=new Ci(e,s[a]);for(a=0;a<h;++a)(u=t[a])&&c.get(f[a])===u&&(o[a]=u)}function t1(e){return e.__data__}function n1(e,t){if(!arguments.length)return Array.from(this,t1);var n=t?e1:Jw,r=this._parents,o=this._groups;typeof e!="function"&&(e=Zw(e));for(var s=o.length,i=new Array(s),a=new Array(s),u=new Array(s),c=0;c<s;++c){var h=r[c],d=o[c],f=d.length,g=r1(e.call(h,h&&h.__data__,c,r)),p=g.length,v=a[c]=new Array(p),w=i[c]=new Array(p),m=u[c]=new Array(f);n(h,d,v,w,m,g,t);for(var x=0,y=0,k,b;x<p;++x)if(k=v[x]){for(x>=y&&(y=x+1);!(b=w[y])&&++y<p;);k._next=b||null}}return i=new rt(i,r),i._enter=a,i._exit=u,i}function r1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o1(){return new rt(this._exit||this._groups.map(Dp),this._parents)}function s1(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function i1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),u=0;u<i;++u)for(var c=n[u],h=r[u],d=c.length,f=a[u]=new Array(d),g,p=0;p<d;++p)(g=c[p]||h[p])&&(f[p]=g);for(;u<o;++u)a[u]=n[u];return new rt(a,this._parents)}function a1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function l1(e){e||(e=u1);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],a=i.length,u=o[s]=new Array(a),c,h=0;h<a;++h)(c=i[h])&&(u[h]=c);u.sort(t)}return new rt(o,this._parents).order()}function u1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function c1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function d1(){return Array.from(this)}function f1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function h1(){let e=0;for(const t of this)++e;return e}function p1(){return!this.node()}function g1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,a;s<i;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this}function m1(e){return function(){this.removeAttribute(e)}}function y1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x1(e,t){return function(){this.setAttribute(e,t)}}function v1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function w1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function b1(e,t){var n=ra(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?y1:m1:typeof t=="function"?n.local?k1:w1:n.local?v1:x1)(n,t))}function zp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function N1(e){return function(){this.style.removeProperty(e)}}function S1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function E1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _1(e,t,n){return arguments.length>1?this.each((t==null?N1:typeof t=="function"?E1:S1)(e,t,n??"")):Nr(this.node(),e)}function Nr(e,t){return e.style.getPropertyValue(t)||zp(e).getComputedStyle(e,null).getPropertyValue(t)}function j1(e){return function(){delete this[e]}}function C1(e,t){return function(){this[e]=t}}function P1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function T1(e,t){return arguments.length>1?this.each((t==null?j1:typeof t=="function"?P1:C1)(e,t)):this.node()[e]}function Fp(e){return e.trim().split(/^|\s+/)}function yc(e){return e.classList||new Op(e)}function Op(e){this._node=e,this._names=Fp(e.getAttribute("class")||"")}Op.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hp(e,t){for(var n=yc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Bp(e,t){for(var n=yc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function M1(e){return function(){Hp(this,e)}}function L1(e){return function(){Bp(this,e)}}function R1(e,t){return function(){(t.apply(this,arguments)?Hp:Bp)(this,e)}}function $1(e,t){var n=Fp(e+"");if(arguments.length<2){for(var r=yc(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?R1:t?M1:L1)(n,t))}function A1(){this.textContent=""}function I1(e){return function(){this.textContent=e}}function D1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function z1(e){return arguments.length?this.each(e==null?A1:(typeof e=="function"?D1:I1)(e)):this.node().textContent}function F1(){this.innerHTML=""}function O1(e){return function(){this.innerHTML=e}}function H1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function B1(e){return arguments.length?this.each(e==null?F1:(typeof e=="function"?H1:O1)(e)):this.node().innerHTML}function U1(){this.nextSibling&&this.parentNode.appendChild(this)}function W1(){return this.each(U1)}function V1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G1(){return this.each(V1)}function X1(e){var t=typeof e=="function"?e:Rp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Y1(){return null}function Q1(e,t){var n=typeof e=="function"?e:Rp(e),r=t==null?Y1:typeof t=="function"?t:mc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function K1(){var e=this.parentNode;e&&e.removeChild(this)}function q1(){return this.each(K1)}function Z1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function J1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ek(e){return this.select(e?J1:Z1)}function tk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nk(e){return function(t){e.call(this,t,this.__data__)}}function rk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ok(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function sk(e,t,n){return function(){var r=this.__on,o,s=nk(t);if(r){for(var i=0,a=r.length;i<a;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function ik(e,t,n){var r=rk(e+""),o,s=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,h;u<c;++u)for(o=0,h=a[u];o<s;++o)if((i=r[o]).type===h.type&&i.name===h.name)return h.value}return}for(a=t?sk:ok,o=0;o<s;++o)this.each(a(r[o],t,n));return this}function Up(e,t,n){var r=zp(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function ak(e,t){return function(){return Up(this,e,t)}}function lk(e,t){return function(){return Up(this,e,t.apply(this,arguments))}}function uk(e,t){return this.each((typeof t=="function"?lk:ak)(e,t))}function*ck(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var Wp=[null];function rt(e,t){this._groups=e,this._parents=t}function Qo(){return new rt([[document.documentElement]],Wp)}function dk(){return this}rt.prototype=Qo.prototype={constructor:rt,select:Dw,selectAll:Hw,selectChild:Vw,selectChildren:Qw,filter:Kw,data:n1,enter:qw,exit:o1,join:s1,merge:i1,selection:dk,order:a1,sort:l1,call:c1,nodes:d1,node:f1,size:h1,empty:p1,each:g1,attr:b1,style:_1,property:T1,classed:$1,text:z1,html:B1,raise:W1,lower:G1,append:X1,insert:Q1,remove:q1,clone:ek,datum:tk,on:ik,dispatch:uk,[Symbol.iterator]:ck};function Je(e){return typeof e=="string"?new rt([[document.querySelector(e)]],[document.documentElement]):new rt([[e]],Wp)}function fk(e){let t;for(;t=e.sourceEvent;)e=t;return e}function gt(e,t){if(e=fk(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const hk={passive:!1},Lo={capture:!0,passive:!1};function Ka(e){e.stopImmediatePropagation()}function pr(e){e.preventDefault(),e.stopImmediatePropagation()}function Vp(e){var t=e.document.documentElement,n=Je(e).on("dragstart.drag",pr,Lo);"onselectstart"in t?n.on("selectstart.drag",pr,Lo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Gp(e,t){var n=e.document.documentElement,r=Je(e).on("dragstart.drag",null);t&&(r.on("click.drag",pr,Lo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cs=e=>()=>e;function ru(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:a,dx:u,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}ru.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function pk(e){return!e.ctrlKey&&!e.button}function gk(){return this.parentNode}function mk(e,t){return t??{x:e.x,y:e.y}}function yk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xp(){var e=pk,t=gk,n=mk,r=yk,o={},s=na("start","drag","end"),i=0,a,u,c,h,d=0;function f(k){k.on("mousedown.drag",g).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,hk).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(k,b){if(!(h||!e.call(this,k,b))){var E=y(this,t.call(this,k,b),k,b,"mouse");E&&(Je(k.view).on("mousemove.drag",p,Lo).on("mouseup.drag",v,Lo),Vp(k.view),Ka(k),c=!1,a=k.clientX,u=k.clientY,E("start",k))}}function p(k){if(pr(k),!c){var b=k.clientX-a,E=k.clientY-u;c=b*b+E*E>d}o.mouse("drag",k)}function v(k){Je(k.view).on("mousemove.drag mouseup.drag",null),Gp(k.view,c),pr(k),o.mouse("end",k)}function w(k,b){if(e.call(this,k,b)){var E=k.changedTouches,S=t.call(this,k,b),T=E.length,D,R;for(D=0;D<T;++D)(R=y(this,S,k,b,E[D].identifier,E[D]))&&(Ka(k),R("start",k,E[D]))}}function m(k){var b=k.changedTouches,E=b.length,S,T;for(S=0;S<E;++S)(T=o[b[S].identifier])&&(pr(k),T("drag",k,b[S]))}function x(k){var b=k.changedTouches,E=b.length,S,T;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<E;++S)(T=o[b[S].identifier])&&(Ka(k),T("end",k,b[S]))}function y(k,b,E,S,T,D){var R=s.copy(),F=gt(D||E,b),$,L,N;if((N=n.call(k,new ru("beforestart",{sourceEvent:E,target:f,identifier:T,active:i,x:F[0],y:F[1],dx:0,dy:0,dispatch:R}),S))!=null)return $=N.x-F[0]||0,L=N.y-F[1]||0,function M(C,I,j){var P=F,A;switch(C){case"start":o[T]=M,A=i++;break;case"end":delete o[T],--i;case"drag":F=gt(j||I,b),A=i;break}R.call(C,k,new ru(C,{sourceEvent:I,subject:N,target:f,identifier:T,active:A,x:F[0]+$,y:F[1]+L,dx:F[0]-P[0],dy:F[1]-P[1],dispatch:R}),S)}}return f.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Cs(!!k),f):e},f.container=function(k){return arguments.length?(t=typeof k=="function"?k:Cs(k),f):t},f.subject=function(k){return arguments.length?(n=typeof k=="function"?k:Cs(k),f):n},f.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:Cs(!!k),f):r},f.on=function(){var k=s.on.apply(s,arguments);return k===s?f:k},f.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,f):Math.sqrt(d)},f}function xc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yp(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ko(){}var Ro=.7,Pi=1/Ro,gr="\\s*([+-]?\\d+)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xk=/^#([0-9a-f]{3,8})$/,vk=new RegExp(`^rgb\\(${gr},${gr},${gr}\\)$`),wk=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),kk=new RegExp(`^rgba\\(${gr},${gr},${gr},${$o}\\)$`),bk=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${$o}\\)$`),Nk=new RegExp(`^hsl\\(${$o},${Lt},${Lt}\\)$`),Sk=new RegExp(`^hsla\\(${$o},${Lt},${Lt},${$o}\\)$`),tf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xc(Ko,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nf,formatHex:nf,formatHex8:Ek,formatHsl:_k,formatRgb:rf,toString:rf});function nf(){return this.rgb().formatHex()}function Ek(){return this.rgb().formatHex8()}function _k(){return Qp(this).formatHsl()}function rf(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?of(t):n===3?new Ve(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ps(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ps(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vk.exec(e))?new Ve(t[1],t[2],t[3],1):(t=wk.exec(e))?new Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kk.exec(e))?Ps(t[1],t[2],t[3],t[4]):(t=bk.exec(e))?Ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nk.exec(e))?lf(t[1],t[2]/100,t[3]/100,1):(t=Sk.exec(e))?lf(t[1],t[2]/100,t[3]/100,t[4]):tf.hasOwnProperty(e)?of(tf[e]):e==="transparent"?new Ve(NaN,NaN,NaN,0):null}function of(e){return new Ve(e>>16&255,e>>8&255,e&255,1)}function Ps(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ve(e,t,n,r)}function jk(e){return e instanceof Ko||(e=Fn(e)),e?(e=e.rgb(),new Ve(e.r,e.g,e.b,e.opacity)):new Ve}function ou(e,t,n,r){return arguments.length===1?jk(e):new Ve(e,t,n,r??1)}function Ve(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xc(Ve,ou,Yp(Ko,{brighter(e){return e=e==null?Pi:Math.pow(Pi,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ro:Math.pow(Ro,e),new Ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ve(Mn(this.r),Mn(this.g),Mn(this.b),Ti(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sf,formatHex:sf,formatHex8:Ck,formatRgb:af,toString:af}));function sf(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function Ck(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function af(){const e=Ti(this.opacity);return`${e===1?"rgb(":"rgba("}${Mn(this.r)}, ${Mn(this.g)}, ${Mn(this.b)}${e===1?")":`, ${e})`}`}function Ti(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jn(e){return e=Mn(e),(e<16?"0":"")+e.toString(16)}function lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yt(e,t,n,r)}function Qp(e){if(e instanceof yt)return new yt(e.h,e.s,e.l,e.opacity);if(e instanceof Ko||(e=Fn(e)),!e)return new yt;if(e instanceof yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,a=s-o,u=(s+o)/2;return a?(t===s?i=(n-r)/a+(n<r)*6:n===s?i=(r-t)/a+2:i=(t-n)/a+4,a/=u<.5?s+o:2-s-o,i*=60):a=u>0&&u<1?0:i,new yt(i,a,u,e.opacity)}function Pk(e,t,n,r){return arguments.length===1?Qp(e):new yt(e,t,n,r??1)}function yt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xc(yt,Pk,Yp(Ko,{brighter(e){return e=e==null?Pi:Math.pow(Pi,e),new yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ro:Math.pow(Ro,e),new yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ve(qa(e>=240?e-240:e+120,o,r),qa(e,o,r),qa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new yt(uf(this.h),Ts(this.s),Ts(this.l),Ti(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ti(this.opacity);return`${e===1?"hsl(":"hsla("}${uf(this.h)}, ${Ts(this.s)*100}%, ${Ts(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uf(e){return e=(e||0)%360,e<0?e+360:e}function Ts(e){return Math.max(0,Math.min(1,e||0))}function qa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vc=e=>()=>e;function Tk(e,t){return function(n){return e+n*t}}function Mk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Lk(e){return(e=+e)==1?Kp:function(t,n){return n-t?Mk(t,n,e):vc(isNaN(t)?n:t)}}function Kp(e,t){var n=t-e;return n?Tk(e,n):vc(isNaN(e)?t:e)}const Mi=function e(t){var n=Lk(t);function r(o,s){var i=n((o=ou(o)).r,(s=ou(s)).r),a=n(o.g,s.g),u=n(o.b,s.b),c=Kp(o.opacity,s.opacity);return function(h){return o.r=i(h),o.g=a(h),o.b=u(h),o.opacity=c(h),o+""}}return r.gamma=e,r}(1);function Rk(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(s){for(o=0;o<n;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function $k(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ak(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),s=new Array(n),i;for(i=0;i<r;++i)o[i]=ho(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<r;++i)s[i]=o[i](a);return s}}function Ik(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dk(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=ho(e[o],t[o]):r[o]=t[o];return function(s){for(o in n)r[o]=n[o](s);return r}}var su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Za=new RegExp(su.source,"g");function zk(e){return function(){return e}}function Fk(e){return function(t){return e(t)+""}}function qp(e,t){var n=su.lastIndex=Za.lastIndex=0,r,o,s,i=-1,a=[],u=[];for(e=e+"",t=t+"";(r=su.exec(e))&&(o=Za.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(r=r[0])===(o=o[0])?a[i]?a[i]+=o:a[++i]=o:(a[++i]=null,u.push({i,x:Ct(r,o)})),n=Za.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?u[0]?Fk(u[0].x):zk(t):(t=u.length,function(c){for(var h=0,d;h<t;++h)a[(d=u[h]).i]=d.x(c);return a.join("")})}function ho(e,t){var n=typeof t,r;return t==null||n==="boolean"?vc(t):(n==="number"?Ct:n==="string"?(r=Fn(t))?(t=r,Mi):qp:t instanceof Fn?Mi:t instanceof Date?Ik:$k(t)?Rk:Array.isArray(t)?Ak:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dk:Ct)(e,t)}var cf=180/Math.PI,iu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zp(e,t,n,r,o,s){var i,a,u;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*cf,skewX:Math.atan(u)*cf,scaleX:i,scaleY:a}}var Ms;function Ok(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?iu:Zp(t.a,t.b,t.c,t.d,t.e,t.f)}function Hk(e){return e==null||(Ms||(Ms=document.createElementNS("http://www.w3.org/2000/svg","g")),Ms.setAttribute("transform",e),!(e=Ms.transform.baseVal.consolidate()))?iu:(e=e.matrix,Zp(e.a,e.b,e.c,e.d,e.e,e.f))}function Jp(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function s(c,h,d,f,g,p){if(c!==d||h!==f){var v=g.push("translate(",null,t,null,n);p.push({i:v-4,x:Ct(c,d)},{i:v-2,x:Ct(h,f)})}else(d||f)&&g.push("translate("+d+t+f+n)}function i(c,h,d,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:Ct(c,h)})):h&&d.push(o(d)+"rotate("+h+r)}function a(c,h,d,f){c!==h?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:Ct(c,h)}):h&&d.push(o(d)+"skewX("+h+r)}function u(c,h,d,f,g,p){if(c!==d||h!==f){var v=g.push(o(g)+"scale(",null,",",null,")");p.push({i:v-4,x:Ct(c,d)},{i:v-2,x:Ct(h,f)})}else(d!==1||f!==1)&&g.push(o(g)+"scale("+d+","+f+")")}return function(c,h){var d=[],f=[];return c=e(c),h=e(h),s(c.translateX,c.translateY,h.translateX,h.translateY,d,f),i(c.rotate,h.rotate,d,f),a(c.skewX,h.skewX,d,f),u(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,f),c=h=null,function(g){for(var p=-1,v=f.length,w;++p<v;)d[(w=f[p]).i]=w.x(g);return d.join("")}}}var Bk=Jp(Ok,"px, ","px)","deg)"),Uk=Jp(Hk,", ",")",")"),Wk=1e-12;function df(e){return((e=Math.exp(e))+1/e)/2}function Vk(e){return((e=Math.exp(e))-1/e)/2}function Gk(e){return((e=Math.exp(2*e))-1)/(e+1)}const qs=function e(t,n,r){function o(s,i){var a=s[0],u=s[1],c=s[2],h=i[0],d=i[1],f=i[2],g=h-a,p=d-u,v=g*g+p*p,w,m;if(v<Wk)m=Math.log(f/c)/t,w=function(S){return[a+S*g,u+S*p,c*Math.exp(t*S*m)]};else{var x=Math.sqrt(v),y=(f*f-c*c+r*v)/(2*c*n*x),k=(f*f-c*c-r*v)/(2*f*n*x),b=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(k*k+1)-k);m=(E-b)/t,w=function(S){var T=S*m,D=df(b),R=c/(n*x)*(D*Gk(t*T+b)-Vk(b));return[a+R*g,u+R*p,c*D/df(t*T+b)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return o.rho=function(s){var i=Math.max(.001,+s),a=i*i,u=a*a;return e(i,a,u)},o}(Math.SQRT2,2,4);var Sr=0,to=0,Yr=0,eg=1e3,Li,no,Ri=0,On=0,oa=0,Ao=typeof performance=="object"&&performance.now?performance:Date,tg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wc(){return On||(tg(Xk),On=Ao.now()+oa)}function Xk(){On=0}function $i(){this._call=this._time=this._next=null}$i.prototype=ng.prototype={constructor:$i,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wc():+n)+(t==null?0:+t),!this._next&&no!==this&&(no?no._next=this:Li=this,no=this),this._call=e,this._time=n,au()},stop:function(){this._call&&(this._call=null,this._time=1/0,au())}};function ng(e,t,n){var r=new $i;return r.restart(e,t,n),r}function Yk(){wc(),++Sr;for(var e=Li,t;e;)(t=On-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Sr}function ff(){On=(Ri=Ao.now())+oa,Sr=to=0;try{Yk()}finally{Sr=0,Kk(),On=0}}function Qk(){var e=Ao.now(),t=e-Ri;t>eg&&(oa-=t,Ri=e)}function Kk(){for(var e,t=Li,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Li=n);no=e,au(r)}function au(e){if(!Sr){to&&(to=clearTimeout(to));var t=e-On;t>24?(e<1/0&&(to=setTimeout(ff,e-Ao.now()-oa)),Yr&&(Yr=clearInterval(Yr))):(Yr||(Ri=Ao.now(),Yr=setInterval(Qk,eg)),Sr=1,tg(ff))}}function hf(e,t,n){var r=new $i;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var qk=na("start","end","cancel","interrupt"),Zk=[],rg=0,pf=1,lu=2,Zs=3,gf=4,uu=5,Js=6;function sa(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Jk(e,n,{name:t,index:r,group:o,on:qk,tween:Zk,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rg})}function kc(e,t){var n=Nt(e,t);if(n.state>rg)throw new Error("too late; already scheduled");return n}function $t(e,t){var n=Nt(e,t);if(n.state>Zs)throw new Error("too late; already running");return n}function Nt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Jk(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ng(s,0,n.time);function s(c){n.state=pf,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var h,d,f,g;if(n.state!==pf)return u();for(h in r)if(g=r[h],g.name===n.name){if(g.state===Zs)return hf(i);g.state===gf?(g.state=Js,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[h]):+h<t&&(g.state=Js,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[h])}if(hf(function(){n.state===Zs&&(n.state=gf,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=lu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lu){for(n.state=Zs,o=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(g=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=g);o.length=d+1}}function a(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=uu,1),d=-1,f=o.length;++d<f;)o[d].call(e,h);n.state===uu&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Js,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ei(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>lu&&r.state<uu,r.state=Js,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function eb(e){return this.each(function(){ei(this,e)})}function tb(e,t){var n,r;return function(){var o=$t(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function nb(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=$t(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var a={name:t,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=a;break}u===c&&o.push(a)}s.tween=o}}function rb(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Nt(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?tb:nb)(n,e,t))}function bc(e,t,n){var r=e._id;return e.each(function(){var o=$t(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Nt(o,r).value[t]}}function og(e,t){var n;return(typeof t=="number"?Ct:t instanceof Fn?Mi:(n=Fn(t))?(t=n,Mi):qp)(e,t)}function ob(e){return function(){this.removeAttribute(e)}}function sb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ib(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function ab(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function lb(e,t,n){var r,o,s;return function(){var i,a=n(this),u;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),u=a+"",i===u?null:i===r&&u===o?s:(o=u,s=t(r=i,a)))}}function ub(e,t,n){var r,o,s;return function(){var i,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),u=a+"",i===u?null:i===r&&u===o?s:(o=u,s=t(r=i,a)))}}function cb(e,t){var n=ra(e),r=n==="transform"?Uk:og;return this.attrTween(e,typeof t=="function"?(n.local?ub:lb)(n,r,bc(this,"attr."+e,t)):t==null?(n.local?sb:ob)(n):(n.local?ab:ib)(n,r,t))}function db(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function fb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hb(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&fb(e,s)),n}return o._value=t,o}function pb(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&db(e,s)),n}return o._value=t,o}function gb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ra(e);return this.tween(n,(r.local?hb:pb)(r,t))}function mb(e,t){return function(){kc(this,e).delay=+t.apply(this,arguments)}}function yb(e,t){return t=+t,function(){kc(this,e).delay=t}}function xb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mb:yb)(t,e)):Nt(this.node(),t).delay}function vb(e,t){return function(){$t(this,e).duration=+t.apply(this,arguments)}}function wb(e,t){return t=+t,function(){$t(this,e).duration=t}}function kb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vb:wb)(t,e)):Nt(this.node(),t).duration}function bb(e,t){if(typeof t!="function")throw new Error;return function(){$t(this,e).ease=t}}function Nb(e){var t=this._id;return arguments.length?this.each(bb(t,e)):Nt(this.node(),t).ease}function Sb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$t(this,e).ease=n}}function Eb(e){if(typeof e!="function")throw new Error;return this.each(Sb(this._id,e))}function _b(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],u,c=0;c<i;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&a.push(u);return new Yt(r,this._parents,this._name,this._id)}function jb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),a=0;a<s;++a)for(var u=t[a],c=n[a],h=u.length,d=i[a]=new Array(h),f,g=0;g<h;++g)(f=u[g]||c[g])&&(d[g]=f);for(;a<r;++a)i[a]=t[a];return new Yt(i,this._parents,this._name,this._id)}function Cb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Pb(e,t,n){var r,o,s=Cb(t)?kc:$t;return function(){var i=s(this,e),a=i.on;a!==r&&(o=(r=a).copy()).on(t,n),i.on=o}}function Tb(e,t){var n=this._id;return arguments.length<2?Nt(this.node(),n).on.on(e):this.each(Pb(n,e,t))}function Mb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Lb(){return this.on("end.remove",Mb(this._id))}function Rb(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var a=r[i],u=a.length,c=s[i]=new Array(u),h,d,f=0;f<u;++f)(h=a[f])&&(d=e.call(h,h.__data__,f,a))&&("__data__"in h&&(d.__data__=h.__data__),c[f]=d,sa(c[f],t,n,f,c,Nt(h,n)));return new Yt(s,this._parents,t,n)}function $b(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$p(e));for(var r=this._groups,o=r.length,s=[],i=[],a=0;a<o;++a)for(var u=r[a],c=u.length,h,d=0;d<c;++d)if(h=u[d]){for(var f=e.call(h,h.__data__,d,u),g,p=Nt(h,n),v=0,w=f.length;v<w;++v)(g=f[v])&&sa(g,t,n,v,f,p);s.push(f),i.push(h)}return new Yt(s,i,t,n)}var Ab=Qo.prototype.constructor;function Ib(){return new Ab(this._groups,this._parents)}function Db(e,t){var n,r,o;return function(){var s=Nr(this,e),i=(this.style.removeProperty(e),Nr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function sg(e){return function(){this.style.removeProperty(e)}}function zb(e,t,n){var r,o=n+"",s;return function(){var i=Nr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function Fb(e,t,n){var r,o,s;return function(){var i=Nr(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Nr(this,e))),i===u?null:i===r&&u===o?s:(o=u,s=t(r=i,a))}}function Ob(e,t){var n,r,o,s="style."+t,i="end."+s,a;return function(){var u=$t(this,e),c=u.on,h=u.value[s]==null?a||(a=sg(t)):void 0;(c!==n||o!==h)&&(r=(n=c).copy()).on(i,o=h),u.on=r}}function Hb(e,t,n){var r=(e+="")=="transform"?Bk:og;return t==null?this.styleTween(e,Db(e,r)).on("end.style."+e,sg(e)):typeof t=="function"?this.styleTween(e,Fb(e,r,bc(this,"style."+e,t))).each(Ob(this._id,e)):this.styleTween(e,zb(e,r,t),n).on("end.style."+e,null)}function Bb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ub(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Bb(e,i,n)),r}return s._value=t,s}function Wb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ub(e,t,n??""))}function Vb(e){return function(){this.textContent=e}}function Gb(e){return function(){var t=e(this);this.textContent=t??""}}function Xb(e){return this.tween("text",typeof e=="function"?Gb(bc(this,"text",e)):Vb(e==null?"":e+""))}function Yb(e){return function(t){this.textContent=e.call(this,t)}}function Qb(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Yb(o)),t}return r._value=e,r}function Kb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Qb(e))}function qb(){for(var e=this._name,t=this._id,n=ig(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,u,c=0;c<a;++c)if(u=i[c]){var h=Nt(u,t);sa(u,e,n,c,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Yt(r,this._parents,e,n)}function Zb(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var a={value:i},u={value:function(){--o===0&&s()}};n.each(function(){var c=$t(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),o===0&&s()})}var Jb=0;function Yt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ig(){return++Jb}var It=Qo.prototype;Yt.prototype={constructor:Yt,select:Rb,selectAll:$b,selectChild:It.selectChild,selectChildren:It.selectChildren,filter:_b,merge:jb,selection:Ib,transition:qb,call:It.call,nodes:It.nodes,node:It.node,size:It.size,empty:It.empty,each:It.each,on:Tb,attr:cb,attrTween:gb,style:Hb,styleTween:Wb,text:Xb,textTween:Kb,remove:Lb,tween:rb,delay:xb,duration:kb,ease:Nb,easeVarying:Eb,end:Zb,[Symbol.iterator]:It[Symbol.iterator]};function eN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var tN={time:null,delay:0,duration:250,ease:eN};function nN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function rN(e){var t,n;e instanceof Yt?(t=e._id,e=e._name):(t=ig(),(n=tN).time=wc(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,u,c=0;c<a;++c)(u=i[c])&&sa(u,e,t,c,i,n||nN(u,t));return new Yt(r,this._parents,e,t)}Qo.prototype.interrupt=eb;Qo.prototype.transition=rN;const Ls=e=>()=>e;function oN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ht(e,t,n){this.k=e,this.x=t,this.y=n}Ht.prototype={constructor:Ht,scale:function(e){return e===1?this:new Ht(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ht(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ia=new Ht(1,0,0);ag.prototype=Ht.prototype;function ag(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ia;return e.__zoom}function Ja(e){e.stopImmediatePropagation()}function Qr(e){e.preventDefault(),e.stopImmediatePropagation()}function sN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function iN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function mf(){return this.__zoom||ia}function aN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function lN(){return navigator.maxTouchPoints||"ontouchstart"in this}function uN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function lg(){var e=sN,t=iN,n=uN,r=aN,o=lN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,u=qs,c=na("start","zoom","end"),h,d,f,g=500,p=150,v=0,w=10;function m(N){N.property("__zoom",mf).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",F).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(N,M,C,I){var j=N.selection?N.selection():N;j.property("__zoom",mf),N!==j?b(N,M,C,I):j.interrupt().each(function(){E(this,arguments).event(I).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},m.scaleBy=function(N,M,C,I){m.scaleTo(N,function(){var j=this.__zoom.k,P=typeof M=="function"?M.apply(this,arguments):M;return j*P},C,I)},m.scaleTo=function(N,M,C,I){m.transform(N,function(){var j=t.apply(this,arguments),P=this.__zoom,A=C==null?k(j):typeof C=="function"?C.apply(this,arguments):C,O=P.invert(A),H=typeof M=="function"?M.apply(this,arguments):M;return n(y(x(P,H),A,O),j,i)},C,I)},m.translateBy=function(N,M,C,I){m.transform(N,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),i)},null,I)},m.translateTo=function(N,M,C,I,j){m.transform(N,function(){var P=t.apply(this,arguments),A=this.__zoom,O=I==null?k(P):typeof I=="function"?I.apply(this,arguments):I;return n(ia.translate(O[0],O[1]).scale(A.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof C=="function"?-C.apply(this,arguments):-C),P,i)},I,j)};function x(N,M){return M=Math.max(s[0],Math.min(s[1],M)),M===N.k?N:new Ht(M,N.x,N.y)}function y(N,M,C){var I=M[0]-C[0]*N.k,j=M[1]-C[1]*N.k;return I===N.x&&j===N.y?N:new Ht(N.k,I,j)}function k(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function b(N,M,C,I){N.on("start.zoom",function(){E(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(I).end()}).tween("zoom",function(){var j=this,P=arguments,A=E(j,P).event(I),O=t.apply(j,P),H=C==null?k(O):typeof C=="function"?C.apply(j,P):C,V=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),U=j.__zoom,Q=typeof M=="function"?M.apply(j,P):M,K=u(U.invert(H).concat(V/U.k),Q.invert(H).concat(V/Q.k));return function(Y){if(Y===1)Y=Q;else{var W=K(Y),q=V/W[2];Y=new Ht(q,H[0]-W[0]*q,H[1]-W[1]*q)}A.zoom(null,Y)}})}function E(N,M,C){return!C&&N.__zooming||new S(N,M)}function S(N,M){this.that=N,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,M),this.taps=0}S.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,M){return this.mouse&&N!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var M=Je(this.that).datum();c.call(N,this.that,new oN(N,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),M)}};function T(N,...M){if(!e.apply(this,arguments))return;var C=E(this,M).event(N),I=this.__zoom,j=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),P=gt(N);if(C.wheel)(C.mouse[0][0]!==P[0]||C.mouse[0][1]!==P[1])&&(C.mouse[1]=I.invert(C.mouse[0]=P)),clearTimeout(C.wheel);else{if(I.k===j)return;C.mouse=[P,I.invert(P)],ei(this),C.start()}Qr(N),C.wheel=setTimeout(A,p),C.zoom("mouse",n(y(x(I,j),C.mouse[0],C.mouse[1]),C.extent,i));function A(){C.wheel=null,C.end()}}function D(N,...M){if(f||!e.apply(this,arguments))return;var C=N.currentTarget,I=E(this,M,!0).event(N),j=Je(N.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",V,!0),P=gt(N,C),A=N.clientX,O=N.clientY;Vp(N.view),Ja(N),I.mouse=[P,this.__zoom.invert(P)],ei(this),I.start();function H(U){if(Qr(U),!I.moved){var Q=U.clientX-A,K=U.clientY-O;I.moved=Q*Q+K*K>v}I.event(U).zoom("mouse",n(y(I.that.__zoom,I.mouse[0]=gt(U,C),I.mouse[1]),I.extent,i))}function V(U){j.on("mousemove.zoom mouseup.zoom",null),Gp(U.view,I.moved),Qr(U),I.event(U).end()}}function R(N,...M){if(e.apply(this,arguments)){var C=this.__zoom,I=gt(N.changedTouches?N.changedTouches[0]:N,this),j=C.invert(I),P=C.k*(N.shiftKey?.5:2),A=n(y(x(C,P),I,j),t.apply(this,M),i);Qr(N),a>0?Je(this).transition().duration(a).call(b,A,I,N):Je(this).call(m.transform,A,I,N)}}function F(N,...M){if(e.apply(this,arguments)){var C=N.touches,I=C.length,j=E(this,M,N.changedTouches.length===I).event(N),P,A,O,H;for(Ja(N),A=0;A<I;++A)O=C[A],H=gt(O,this),H=[H,this.__zoom.invert(H),O.identifier],j.touch0?!j.touch1&&j.touch0[2]!==H[2]&&(j.touch1=H,j.taps=0):(j.touch0=H,P=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),P&&(j.taps<2&&(d=H[0],h=setTimeout(function(){h=null},g)),ei(this),j.start())}}function $(N,...M){if(this.__zooming){var C=E(this,M).event(N),I=N.changedTouches,j=I.length,P,A,O,H;for(Qr(N),P=0;P<j;++P)A=I[P],O=gt(A,this),C.touch0&&C.touch0[2]===A.identifier?C.touch0[0]=O:C.touch1&&C.touch1[2]===A.identifier&&(C.touch1[0]=O);if(A=C.that.__zoom,C.touch1){var V=C.touch0[0],U=C.touch0[1],Q=C.touch1[0],K=C.touch1[1],Y=(Y=Q[0]-V[0])*Y+(Y=Q[1]-V[1])*Y,W=(W=K[0]-U[0])*W+(W=K[1]-U[1])*W;A=x(A,Math.sqrt(Y/W)),O=[(V[0]+Q[0])/2,(V[1]+Q[1])/2],H=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(C.touch0)O=C.touch0[0],H=C.touch0[1];else return;C.zoom("touch",n(y(A,O,H),C.extent,i))}}function L(N,...M){if(this.__zooming){var C=E(this,M).event(N),I=N.changedTouches,j=I.length,P,A;for(Ja(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),P=0;P<j;++P)A=I[P],C.touch0&&C.touch0[2]===A.identifier?delete C.touch0:C.touch1&&C.touch1[2]===A.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(A=gt(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<w)){var O=Je(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return m.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Ls(+N),m):r},m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Ls(!!N),m):e},m.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:Ls(!!N),m):o},m.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Ls([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),m):t},m.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],m):[s[0],s[1]]},m.translateExtent=function(N){return arguments.length?(i[0][0]=+N[0][0],i[1][0]=+N[1][0],i[0][1]=+N[0][1],i[1][1]=+N[1][1],m):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},m.constrain=function(N){return arguments.length?(n=N,m):n},m.duration=function(N){return arguments.length?(a=+N,m):a},m.interpolate=function(N){return arguments.length?(u=N,m):u},m.on=function(){var N=c.on.apply(c,arguments);return N===c?m:N},m.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,m):Math.sqrt(v)},m.tapDistance=function(N){return arguments.length?(w=+N,m):w},m}const Rt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Io=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ug=["Enter"," ","Escape"],cg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Er;(function(e){e.Strict="strict",e.Loose="loose"})(Er||(Er={}));var Ln;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ln||(Ln={}));var Do;(function(e){e.Partial="partial",e.Full="full"})(Do||(Do={}));const dg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var on;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(on||(on={}));var zo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(zo||(zo={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));const yf={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top};function fg(e){return e===null?null:e?"valid":"invalid"}const hg=e=>"id"in e&&"source"in e&&"target"in e,cN=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Nc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),qo=(e,t=[0,0])=>{const{width:n,height:r}=Kt(e),o=e.origin??t,s=n*o[0],i=r*o[1];return{x:e.position.x-s,y:e.position.y-i}},dN=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const s=typeof o=="string";let i=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(o):Nc(o)?o:t.nodeLookup.get(o.id));const a=i?Ai(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return aa(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return la(n)},Zo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=aa(n,Ai(o)),r=!0)}),r?la(n):{x:0,y:0,width:0,height:0}},Sc=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1)=>{const a={...es(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(const c of e.values()){const{measured:h,selectable:d=!0,hidden:f=!1}=c;if(i&&!d||f)continue;const g=h.width??c.width??c.initialWidth??null,p=h.height??c.height??c.initialHeight??null,v=Fo(a,jr(c)),w=(g??0)*(p??0),m=s&&v>0;(!c.internals.handleBounds||m||v>=w||c.dragging)&&u.push(c)}return u},fN=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function hN(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function pN({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const a=hN(e,i),u=Zo(a),c=Ec(u,t,n,(i==null?void 0:i.minZoom)??o,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function pg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:s}){const i=n.get(e),a=i.parentId?n.get(i.parentId):void 0,{x:u,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},h=i.origin??r;let d=i.extent||o;if(i.extent==="parent"&&!i.expandParent)if(!a)s==null||s("005",Rt.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(d=[[u,c],[u+g,c+p]])}else a&&Cr(i.extent)&&(d=[[i.extent[0][0]+u,i.extent[0][1]+c],[i.extent[1][0]+u,i.extent[1][1]+c]]);const f=Cr(d)?Hn(t,d,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",Rt.error015())),{position:{x:f.x-u+(i.measured.width??0)*h[0],y:f.y-c+(i.measured.height??0)*h[1]},positionAbsolute:f}}async function gN({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const s=new Set(e.map(f=>f.id)),i=[];for(const f of n){if(f.deletable===!1)continue;const g=s.has(f.id),p=!g&&f.parentId&&i.find(v=>v.id===f.parentId);(g||p)&&i.push(f)}const a=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),h=fN(i,u);for(const f of u)a.has(f.id)&&!h.find(p=>p.id===f.id)&&h.push(f);if(!o)return{edges:h,nodes:i};const d=await o({nodes:i,edges:h});return typeof d=="boolean"?d?{edges:h,nodes:i}:{edges:[],nodes:[]}:d}const _r=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Hn=(e={x:0,y:0},t,n)=>({x:_r(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:_r(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function gg(e,t,n){const{width:r,height:o}=Kt(n),{x:s,y:i}=n.internals.positionAbsolute;return Hn(e,[[s,i],[s+r,i+o]],t)}const xf=(e,t,n)=>e<t?_r(Math.abs(e-t),1,t)/t:e>n?-_r(Math.abs(e-n),1,t)/t:0,mg=(e,t,n=15,r=40)=>{const o=xf(e.x,r,t.width-r)*n,s=xf(e.y,r,t.height-r)*n;return[o,s]},aa=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),cu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),la=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),jr=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=Nc(e)?e.internals.positionAbsolute:qo(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},Ai=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=Nc(e)?e.internals.positionAbsolute:qo(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},yg=(e,t)=>la(aa(cu(e),cu(t))),Fo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vf=e=>xt(e.width)&&xt(e.height)&&xt(e.x)&&xt(e.y),xt=e=>!isNaN(e)&&isFinite(e),mN=(e,t)=>{},Jo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),es=({x:e,y:t},[n,r,o],s=!1,i=[1,1])=>{const a={x:(e-n)/o,y:(t-r)/o};return s?Jo(a,i):a},Ii=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Xn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function yN(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Xn(e,n),o=Xn(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Xn(e.top??e.y??0,n),o=Xn(e.bottom??e.y??0,n),s=Xn(e.left??e.x??0,t),i=Xn(e.right??e.x??0,t);return{top:r,right:i,bottom:o,left:s,x:s+i,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function xN(e,t,n,r,o,s){const{x:i,y:a}=Ii(e,[t,n,r]),{x:u,y:c}=Ii({x:e.x+e.width,y:e.y+e.height},[t,n,r]),h=o-u,d=s-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(h),bottom:Math.floor(d)}}const Ec=(e,t,n,r,o,s)=>{const i=yN(s,t,n),a=(t-i.x)/e.width,u=(n-i.y)/e.height,c=Math.min(a,u),h=_r(c,r,o),d=e.x+e.width/2,f=e.y+e.height/2,g=t/2-d*h,p=n/2-f*h,v=xN(e,g,p,h,t,n),w={left:Math.min(v.left-i.left,0),top:Math.min(v.top-i.top,0),right:Math.min(v.right-i.right,0),bottom:Math.min(v.bottom-i.bottom,0)};return{x:g-w.left+w.right,y:p-w.top+w.bottom,zoom:h}},Oo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Cr(e){return e!=null&&e!=="parent"}function Kt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function xg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function vg(e,t={width:0,height:0},n,r,o){const s={...e},i=r.get(n);if(i){const a=i.origin||o;s.x+=i.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function wf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function vN(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function wN(e){return{...cg,...e||{}}}function po(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:s,y:i}=vt(e),a=es({x:s-((o==null?void 0:o.left)??0),y:i-((o==null?void 0:o.top)??0)},r),{x:u,y:c}=n?Jo(a,t):a;return{xSnapped:u,ySnapped:c,...a}}const _c=e=>({width:e.offsetWidth,height:e.offsetHeight}),wg=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},kN=["INPUT","SELECT","TEXTAREA"];function kg(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:kN.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const bg=e=>"clientX"in e,vt=(e,t)=>{var s,i;const n=bg(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},kf=(e,t,n,r,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:o,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,..._c(i)}})};function Ng({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:a}){const u=e*.125+o*.375+i*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,h=Math.abs(u-e),d=Math.abs(c-t);return[u,c,h,d]}function Rs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case X.Left:return[t-Rs(t-r,s),n];case X.Right:return[t+Rs(r-t,s),n];case X.Top:return[t,n-Rs(n-o,s)];case X.Bottom:return[t,n+Rs(o-n,s)]}}function Sg({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:s=X.Top,curvature:i=.25}){const[a,u]=bf({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,h]=bf({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,g,p]=Ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:h});return[`M${e},${t} C${a},${u} ${c},${h} ${r},${o}`,d,f,g,p]}function Eg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[s,a,o,i]}function bN({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const s=o&&n?1e3:0,i=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+i}function NN({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const s=aa(Ai(e),Ai(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Fo(i,la(s))>0}const SN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,EN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),_N=(e,t)=>{if(!e.source||!e.target)return t;let n;return hg(e)?n={...e}:n={...e,id:SN(e)},EN(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function _g({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,a]=Eg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,a]}const Nf={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},jN=({source:e,sourcePosition:t=X.Bottom,target:n})=>t===X.Left||t===X.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Sf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function CN({source:e,sourcePosition:t=X.Bottom,target:n,targetPosition:r=X.Top,center:o,offset:s,stepPosition:i}){const a=Nf[t],u=Nf[r],c={x:e.x+a.x*s,y:e.y+a.y*s},h={x:n.x+u.x*s,y:n.y+u.y*s},d=jN({source:c,sourcePosition:t,target:h}),f=d.x!==0?"x":"y",g=d[f];let p=[],v,w;const m={x:0,y:0},x={x:0,y:0},[,,y,k]=Eg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){f==="x"?(v=o.x??c.x+(h.x-c.x)*i,w=o.y??(c.y+h.y)/2):(v=o.x??(c.x+h.x)/2,w=o.y??c.y+(h.y-c.y)*i);const E=[{x:v,y:c.y},{x:v,y:h.y}],S=[{x:c.x,y:w},{x:h.x,y:w}];a[f]===g?p=f==="x"?E:S:p=f==="x"?S:E}else{const E=[{x:c.x,y:h.y}],S=[{x:h.x,y:c.y}];if(f==="x"?p=a.x===g?S:E:p=a.y===g?E:S,t===r){const $=Math.abs(e[f]-n[f]);if($<=s){const L=Math.min(s-1,s-$);a[f]===g?m[f]=(c[f]>e[f]?-1:1)*L:x[f]=(h[f]>n[f]?-1:1)*L}}if(t!==r){const $=f==="x"?"y":"x",L=a[f]===u[$],N=c[$]>h[$],M=c[$]<h[$];(a[f]===1&&(!L&&N||L&&M)||a[f]!==1&&(!L&&M||L&&N))&&(p=f==="x"?E:S)}const T={x:c.x+m.x,y:c.y+m.y},D={x:h.x+x.x,y:h.y+x.y},R=Math.max(Math.abs(T.x-p[0].x),Math.abs(D.x-p[0].x)),F=Math.max(Math.abs(T.y-p[0].y),Math.abs(D.y-p[0].y));R>=F?(v=(T.x+D.x)/2,w=p[0].y):(v=p[0].x,w=(T.y+D.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...p,{x:h.x+x.x,y:h.y+x.y},n],v,w,y,k]}function PN(e,t,n,r){const o=Math.min(Sf(e,t)/2,Sf(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+o*c},${i}Q ${s},${i} ${s},${i+o*h}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${s},${i+o*u}Q ${s},${i} ${s+o*a},${i}`}function du({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:s=X.Top,borderRadius:i=5,centerX:a,centerY:u,offset:c=20,stepPosition:h=.5}){const[d,f,g,p,v]=CN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:a,y:u},offset:c,stepPosition:h});return[d.reduce((m,x,y)=>{let k="";return y>0&&y<d.length-1?k=PN(d[y-1],x,d[y+1],i):k=`${y===0?"M":"L"}${x.x} ${x.y}`,m+=k,m},""),f,g,p,v]}function Ef(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function TN(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Ef(t)||!Ef(n))return null;const r=t.internals.handleBounds||_f(t.handles),o=n.internals.handleBounds||_f(n.handles),s=jf((r==null?void 0:r.source)??[],e.sourceHandle),i=jf(e.connectionMode===Er.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!s||!i)return(d=e.onError)==null||d.call(e,"008",Rt.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(s==null?void 0:s.position)||X.Bottom,u=(i==null?void 0:i.position)||X.Top,c=Ho(t,s,a),h=Ho(n,i,u);return{sourceX:c.x,sourceY:c.y,targetX:h.x,targetY:h.y,sourcePosition:a,targetPosition:u}}function _f(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ho(e,t,n=X.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:a}=t??Kt(e);if(r)return{x:o+i/2,y:s+a/2};switch((t==null?void 0:t.position)??n){case X.Top:return{x:o+i/2,y:s};case X.Right:return{x:o+i,y:s+a/2};case X.Bottom:return{x:o+i/2,y:s+a};case X.Left:return{x:o,y:s+a/2}}}function jf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function fu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function MN(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const s=new Set;return e.reduce((i,a)=>([a.markerStart||r,a.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const c=fu(u,t);s.has(c)||(i.push({id:c,color:u.color||n,...u}),s.add(c))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))}const jg=1e3,LN=10,jc={nodeOrigin:[0,0],nodeExtent:Io,elevateNodesOnSelect:!0,defaults:{}},RN={...jc,checkEquality:!0};function Cc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function $N(e,t,n){const r=Cc(jc,n);for(const o of e.values())if(o.parentId)Pc(o,e,t,r);else{const s=qo(o,r.nodeOrigin),i=Cr(o.extent)?o.extent:r.nodeExtent,a=Hn(s,i,Kt(o));o.internals.positionAbsolute=a}}function AN(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const s={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(s):o.type==="target"&&r.push(s)}return{source:n,target:r}}function hu(e,t,n,r){var c,h;const o=Cc(RN,r);let s={i:-1},i=e.length>0;const a=new Map(t),u=o!=null&&o.elevateNodesOnSelect?jg:0;t.clear(),n.clear();for(const d of e){let f=a.get(d.id);if(o.checkEquality&&d===(f==null?void 0:f.internals.userNode))t.set(d.id,f);else{const g=qo(d,o.nodeOrigin),p=Cr(d.extent)?d.extent:o.nodeExtent,v=Hn(g,p,Kt(d));f={...o.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(h=d.measured)==null?void 0:h.height},internals:{positionAbsolute:v,handleBounds:AN(d,f),z:Cg(d,u),userNode:d}},t.set(d.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),d.parentId&&Pc(f,t,n,r,s)}return i}function IN(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Pc(e,t,n,r,o){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:a}=Cc(jc,r),u=e.parentId,c=t.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}IN(e,n),o&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++o.i,c.internals.z=c.internals.z+o.i*LN),o&&c.internals.rootParentIndex!==void 0&&(o.i=c.internals.rootParentIndex);const h=s?jg:0,{x:d,y:f,z:g}=DN(e,c,i,a,h),{positionAbsolute:p}=e.internals,v=d!==p.x||f!==p.y;(v||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:d,y:f}:p,z:g}})}function Cg(e,t){return(xt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function DN(e,t,n,r,o){const{x:s,y:i}=t.internals.positionAbsolute,a=Kt(e),u=qo(e,n),c=Cr(e.extent)?Hn(u,e.extent,a):u;let h=Hn({x:s+c.x,y:i+c.y},r,a);e.extent==="parent"&&(h=gg(h,a,t));const d=Cg(e,o),f=t.internals.z??0;return{x:h.x,y:h.y,z:f>=d?f+1:d}}function Tc(e,t,n,r=[0,0]){var i;const o=[],s=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const c=((i=s.get(a.parentId))==null?void 0:i.expandedRect)??jr(u),h=yg(c,a.rect);s.set(a.parentId,{expandedRect:h,parent:u})}return s.size>0&&s.forEach(({expandedRect:a,parent:u},c)=>{var y;const h=u.internals.positionAbsolute,d=Kt(u),f=u.origin??r,g=a.x<h.x?Math.round(Math.abs(h.x-a.x)):0,p=a.y<h.y?Math.round(Math.abs(h.y-a.y)):0,v=Math.max(d.width,Math.round(a.width)),w=Math.max(d.height,Math.round(a.height)),m=(v-d.width)*f[0],x=(w-d.height)*f[1];(g>0||p>0||m||x)&&(o.push({id:c,type:"position",position:{x:u.position.x-g+m,y:u.position.y-p+x}}),(y=n.get(c))==null||y.forEach(k=>{e.some(b=>b.id===k.id)||o.push({id:k.id,type:"position",position:{x:k.position.x+g,y:k.position.y+p}})})),(d.width<a.width||d.height<a.height||g||p)&&o.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:v+(g?f[0]*g-m:0),height:w+(p?f[1]*p-x:0)}})}),o}function zN(e,t,n,r,o,s){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const u=[],c=window.getComputedStyle(i),{m22:h}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const g=t.get(f.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const p=_c(f.nodeElement),v=g.measured.width!==p.width||g.measured.height!==p.height;if(!!(p.width&&p.height&&(v||!g.internals.handleBounds||f.force))){const m=f.nodeElement.getBoundingClientRect(),x=Cr(g.extent)?g.extent:s;let{positionAbsolute:y}=g.internals;g.parentId&&g.extent==="parent"?y=gg(y,p,t.get(g.parentId)):x&&(y=Hn(y,x,p));const k={...g,measured:p,internals:{...g.internals,positionAbsolute:y,handleBounds:{source:kf("source",f.nodeElement,m,h,g.id),target:kf("target",f.nodeElement,m,h,g.id)}}};t.set(g.id,k),g.parentId&&Pc(k,t,n,{nodeOrigin:o}),a=!0,v&&(u.push({id:g.id,type:"dimensions",dimensions:p}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:jr(k,o)}))}}if(d.length>0){const f=Tc(d,t,n,o);u.push(...f)}return{changes:u,updatedInternals:a}}async function FN({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],r),a=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(a)}function Cf(e,t,n,r,o,s){let i=o;const a=r.get(i)||new Map;r.set(i,a.set(n,t)),i=`${o}-${e}`;const u=r.get(i)||new Map;if(r.set(i,u.set(n,t)),s){i=`${o}-${e}-${s}`;const c=r.get(i)||new Map;r.set(i,c.set(n,t))}}function Pg(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:s,sourceHandle:i=null,targetHandle:a=null}=r,u={edgeId:r.id,source:o,target:s,sourceHandle:i,targetHandle:a},c=`${o}-${i}--${s}-${a}`,h=`${s}-${a}--${o}-${i}`;Cf("source",u,h,e,o,i),Cf("target",u,c,e,s,a),t.set(r.id,r)}}function Tg(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Tg(n,t):!1}function Pf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function ON(e,t,n,r){const o=new Map;for(const[s,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!Tg(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const a=e.get(s);a&&o.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function el({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,a,u;const o=[];for(const[c,h]of t){const d=(i=n.get(c))==null?void 0:i.internals.userNode;d&&o.push({...d,position:h.position,dragging:r})}if(!e)return[o[0],o];const s=(a=n.get(e))==null?void 0:a.internals.userNode;return[s?{...s,position:((u=t.get(e))==null?void 0:u.position)||s.position,dragging:r}:o[0],o]}function HN({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const s={x:n-o.distance.x,y:r-o.distance.y},i=Jo(s,t);return{x:i.x-s.x,y:i.y-s.y}}function BN({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let s={x:null,y:null},i=0,a=new Map,u=!1,c={x:0,y:0},h=null,d=!1,f=null,g=!1,p=!1,v=null;function w({noDragClassName:x,handleSelector:y,domNode:k,isSelectable:b,nodeId:E,nodeClickDistance:S=0}){f=Je(k);function T({x:$,y:L}){const{nodeLookup:N,nodeExtent:M,snapGrid:C,snapToGrid:I,nodeOrigin:j,onNodeDrag:P,onSelectionDrag:A,onError:O,updateNodePositions:H}=t();s={x:$,y:L};let V=!1;const U=a.size>1,Q=U&&M?cu(Zo(a)):null,K=U&&I?HN({dragItems:a,snapGrid:C,x:$,y:L}):null;for(const[Y,W]of a){if(!N.has(Y))continue;let q={x:$-W.distance.x,y:L-W.distance.y};I&&(q=K?{x:Math.round(q.x+K.x),y:Math.round(q.y+K.y)}:Jo(q,C));let re=null;if(U&&M&&!W.extent&&Q){const{positionAbsolute:Z}=W.internals,oe=Z.x-Q.x+M[0][0],ae=Z.x+W.measured.width-Q.x2+M[1][0],he=Z.y-Q.y+M[0][1],Re=Z.y+W.measured.height-Q.y2+M[1][1];re=[[oe,he],[ae,Re]]}const{position:te,positionAbsolute:J}=pg({nodeId:Y,nextPosition:q,nodeLookup:N,nodeExtent:re||M,nodeOrigin:j,onError:O});V=V||W.position.x!==te.x||W.position.y!==te.y,W.position=te,W.internals.positionAbsolute=J}if(p=p||V,!!V&&(H(a,!0),v&&(r||P||!E&&A))){const[Y,W]=el({nodeId:E,dragItems:a,nodeLookup:N});r==null||r(v,a,Y,W),P==null||P(v,Y,W),E||A==null||A(v,W)}}async function D(){if(!h)return;const{transform:$,panBy:L,autoPanSpeed:N,autoPanOnNodeDrag:M}=t();if(!M){u=!1,cancelAnimationFrame(i);return}const[C,I]=mg(c,h,N);(C!==0||I!==0)&&(s.x=(s.x??0)-C/$[2],s.y=(s.y??0)-I/$[2],await L({x:C,y:I})&&T(s)),i=requestAnimationFrame(D)}function R($){var U;const{nodeLookup:L,multiSelectionActive:N,nodesDraggable:M,transform:C,snapGrid:I,snapToGrid:j,selectNodesOnDrag:P,onNodeDragStart:A,onSelectionDragStart:O,unselectNodesAndEdges:H}=t();d=!0,(!P||!b)&&!N&&E&&((U=L.get(E))!=null&&U.selected||H()),b&&P&&E&&(e==null||e(E));const V=po($.sourceEvent,{transform:C,snapGrid:I,snapToGrid:j,containerBounds:h});if(s=V,a=ON(L,M,V,E),a.size>0&&(n||A||!E&&O)){const[Q,K]=el({nodeId:E,dragItems:a,nodeLookup:L});n==null||n($.sourceEvent,a,Q,K),A==null||A($.sourceEvent,Q,K),E||O==null||O($.sourceEvent,K)}}const F=Xp().clickDistance(S).on("start",$=>{const{domNode:L,nodeDragThreshold:N,transform:M,snapGrid:C,snapToGrid:I}=t();h=(L==null?void 0:L.getBoundingClientRect())||null,g=!1,p=!1,v=$.sourceEvent,N===0&&R($),s=po($.sourceEvent,{transform:M,snapGrid:C,snapToGrid:I,containerBounds:h}),c=vt($.sourceEvent,h)}).on("drag",$=>{const{autoPanOnNodeDrag:L,transform:N,snapGrid:M,snapToGrid:C,nodeDragThreshold:I,nodeLookup:j}=t(),P=po($.sourceEvent,{transform:N,snapGrid:M,snapToGrid:C,containerBounds:h});if(v=$.sourceEvent,($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1||E&&!j.has(E))&&(g=!0),!g){if(!u&&L&&d&&(u=!0,D()),!d){const A=vt($.sourceEvent,h),O=A.x-c.x,H=A.y-c.y;Math.sqrt(O*O+H*H)>I&&R($)}(s.x!==P.xSnapped||s.y!==P.ySnapped)&&a&&d&&(c=vt($.sourceEvent,h),T(P))}}).on("end",$=>{if(!(!d||g)&&(u=!1,d=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:L,updateNodePositions:N,onNodeDragStop:M,onSelectionDragStop:C}=t();if(p&&(N(a,!1),p=!1),o||M||!E&&C){const[I,j]=el({nodeId:E,dragItems:a,nodeLookup:L,dragging:!1});o==null||o($.sourceEvent,a,I,j),M==null||M($.sourceEvent,I,j),E||C==null||C($.sourceEvent,j)}}}).filter($=>{const L=$.target;return!$.button&&(!x||!Pf(L,`.${x}`,k))&&(!y||Pf(L,y,k))});f.call(F)}function m(){f==null||f.on(".drag",null)}return{update:w,destroy:m}}function UN(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Fo(o,jr(s))>0&&r.push(s);return r}const WN=250;function VN(e,t,n,r){var a,u;let o=[],s=1/0;const i=UN(e,n,t+WN);for(const c of i){const h=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const d of h){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:g}=Ho(c,d,d.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));p>t||(p<s?(o=[{...d,x:f,y:g}],s=p):p===s&&o.push({...d,x:f,y:g}))}}if(!o.length)return null;if(o.length>1){const c=r.type==="source"?"target":"source";return o.find(h=>h.type===c)??o[0]}return o[0]}function Mg(e,t,n,r,o,s=!1){var c,h,d;const i=r.get(e);if(!i)return null;const a=o==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((h=i.internals.handleBounds)==null?void 0:h.source)??[],...((d=i.internals.handleBounds)==null?void 0:d.target)??[]],u=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return u&&s?{...u,...Ho(i,u,u.position,!0)}:u}function Lg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function GN(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Rg=()=>!0;function XN(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:s,isTarget:i,domNode:a,nodeLookup:u,lib:c,autoPanOnConnect:h,flowId:d,panBy:f,cancelConnection:g,onConnectStart:p,onConnect:v,onConnectEnd:w,isValidConnection:m=Rg,onReconnectEnd:x,updateConnection:y,getTransform:k,getFromHandle:b,autoPanSpeed:E,dragThreshold:S=1,handleDomNode:T}){const D=wg(e.target);let R=0,F;const{x:$,y:L}=vt(e),N=Lg(s,T),M=a==null?void 0:a.getBoundingClientRect();let C=!1;if(!M||!N)return;const I=Mg(o,N,r,u,t);if(!I)return;let j=vt(e,M),P=!1,A=null,O=!1,H=null;function V(){if(!h||!M)return;const[te,J]=mg(j,M,E);f({x:te,y:J}),R=requestAnimationFrame(V)}const U={...I,nodeId:o,type:N,position:I.position},Q=u.get(o);let Y={inProgress:!0,isValid:null,from:Ho(Q,U,X.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:Q,to:j,toHandle:null,toPosition:yf[U.position],toNode:null};function W(){C=!0,y(Y),p==null||p(e,{nodeId:o,handleId:r,handleType:N})}S===0&&W();function q(te){if(!C){const{x:ae,y:he}=vt(te),Re=ae-$,At=he-L;if(!(Re*Re+At*At>S*S))return;W()}if(!b()||!U){re(te);return}const J=k();j=vt(te,M),F=VN(es(j,J,!1,[1,1]),n,u,U),P||(V(),P=!0);const Z=$g(te,{handle:F,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:m,doc:D,lib:c,flowId:d,nodeLookup:u});H=Z.handleDomNode,A=Z.connection,O=GN(!!F,Z.isValid);const oe={...Y,isValid:O,to:Z.toHandle&&O?Ii({x:Z.toHandle.x,y:Z.toHandle.y},J):j,toHandle:Z.toHandle,toPosition:O&&Z.toHandle?Z.toHandle.position:yf[U.position],toNode:Z.toHandle?u.get(Z.toHandle.nodeId):null};O&&F&&Y.toHandle&&oe.toHandle&&Y.toHandle.type===oe.toHandle.type&&Y.toHandle.nodeId===oe.toHandle.nodeId&&Y.toHandle.id===oe.toHandle.id&&Y.to.x===oe.to.x&&Y.to.y===oe.to.y||(y(oe),Y=oe)}function re(te){if(!("touches"in te&&te.touches.length>0)){if(C){(F||H)&&A&&O&&(v==null||v(A));const{inProgress:J,...Z}=Y,oe={...Z,toPosition:Y.toHandle?Y.toPosition:null};w==null||w(te,oe),s&&(x==null||x(te,oe))}g(),cancelAnimationFrame(R),P=!1,O=!1,A=null,H=null,D.removeEventListener("mousemove",q),D.removeEventListener("mouseup",re),D.removeEventListener("touchmove",q),D.removeEventListener("touchend",re)}}D.addEventListener("mousemove",q),D.addEventListener("mouseup",re),D.addEventListener("touchmove",q),D.addEventListener("touchend",re)}function $g(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:s,doc:i,lib:a,flowId:u,isValidConnection:c=Rg,nodeLookup:h}){const d=s==="target",f=t?i.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:p}=vt(e),v=i.elementFromPoint(g,p),w=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:f,m={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=Lg(void 0,w),y=w.getAttribute("data-nodeid"),k=w.getAttribute("data-handleid"),b=w.classList.contains("connectable"),E=w.classList.contains("connectableend");if(!y||!x)return m;const S={source:d?y:r,sourceHandle:d?k:o,target:d?r:y,targetHandle:d?o:k};m.connection=S;const D=b&&E&&(n===Er.Strict?d&&x==="source"||!d&&x==="target":y!==r||k!==o);m.isValid=D&&c(S),m.toHandle=Mg(y,x,k,h,n,!0)}return m}const pu={onPointerDown:XN,isValid:$g};function YN({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Je(e);function s({translateExtent:a,width:u,height:c,zoomStep:h=1,pannable:d=!0,zoomable:f=!0,inversePan:g=!1}){const p=y=>{if(y.sourceEvent.type!=="wheel"||!t)return;const k=n(),b=y.sourceEvent.ctrlKey&&Oo()?10:1,E=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*h,S=k[2]*Math.pow(2,E*b);t.scaleTo(S)};let v=[0,0];const w=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(v=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},m=y=>{const k=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const b=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],E=[b[0]-v[0],b[1]-v[1]];v=b;const S=r()*Math.max(k[2],Math.log(k[2]))*(g?-1:1),T={x:k[0]-E[0]*S,y:k[1]-E[1]*S},D=[[0,0],[u,c]];t.setViewportConstrained({x:T.x,y:T.y,zoom:k[2]},D,a)},x=lg().on("start",w).on("zoom",d?m:null).on("zoom.wheel",f?p:null);o.call(x,{})}function i(){o.on("zoom",null)}return{update:s,destroy:i,pointer:gt}}const ua=e=>({x:e.x,y:e.y,zoom:e.k}),tl=({x:e,y:t,zoom:n})=>ia.translate(e,t).scale(n),ir=(e,t)=>e.target.closest(`.${t}`),Ag=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),QN=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,nl=(e,t=0,n=QN,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},Ig=e=>{const t=e.ctrlKey&&Oo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function KN({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:c}){return h=>{if(ir(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(h.ctrlKey&&i){const w=gt(h),m=Ig(h),x=d*Math.pow(2,m);r.scaleTo(n,x,w,h);return}const f=h.deltaMode===1?20:1;let g=o===Ln.Vertical?0:h.deltaX*f,p=o===Ln.Horizontal?0:h.deltaY*f;!Oo()&&h.shiftKey&&o!==Ln.Vertical&&(g=h.deltaY*f,p=0),r.translateBy(n,-(g/d)*s,-(p/d)*s,{internal:!0});const v=ua(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(h,v),e.panScrollTimeout=setTimeout(()=>{c==null||c(h,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(h,v))}}function qN({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const s=r.type==="wheel",i=!t&&s&&!r.ctrlKey,a=ir(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),i||a)return null;r.preventDefault(),n.call(this,r,o)}}function ZN({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,i,a;if((s=r.sourceEvent)!=null&&s.internal)return;const o=ua(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function JN({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return s=>{var i,a;e.usedRightMouseButton=!!(n&&Ag(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||r([s.transform.x,s.transform.y,s.transform.k]),o&&!((a=s.sourceEvent)!=null&&a.internal)&&(o==null||o(s.sourceEvent,ua(s.transform)))}}function eS({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:s}){return i=>{var a;if(!((a=i.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,s&&Ag(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const u=ua(i.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(i.sourceEvent,u)},n?150:0)}}}function tS({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:a,noPanClassName:u,lib:c,connectionInProgress:h}){return d=>{var w;const f=e||t,g=n&&d.ctrlKey,p=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(ir(d,`${c}-flow__node`)||ir(d,`${c}-flow__edge`)))return!0;if(!r&&!f&&!o&&!s&&!n||i||h&&!p||ir(d,a)&&p||ir(d,u)&&(!p||o&&p&&!e)||!n&&d.ctrlKey&&p)return!1;if(!n&&d.type==="touchstart"&&((w=d.touches)==null?void 0:w.length)>1)return d.preventDefault(),!1;if(!f&&!o&&!g&&p||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||p)&&v}}function nS({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:s,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:u,onDraggingChange:c}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=lg().clickDistance(!xt(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),g=Je(e).call(f);y({x:s.x,y:s.y,zoom:_r(s.zoom,t,n)},[[0,0],[d.width,d.height]],o);const p=g.on("wheel.zoom"),v=g.on("dblclick.zoom");f.wheelDelta(Ig);function w($,L){return g?new Promise(N=>{f==null||f.interpolate((L==null?void 0:L.interpolate)==="linear"?ho:qs).transform(nl(g,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>N(!0)),$)}):Promise.resolve(!1)}function m({noWheelClassName:$,noPanClassName:L,onPaneContextMenu:N,userSelectionActive:M,panOnScroll:C,panOnDrag:I,panOnScrollMode:j,panOnScrollSpeed:P,preventScrolling:A,zoomOnPinch:O,zoomOnScroll:H,zoomOnDoubleClick:V,zoomActivationKeyPressed:U,lib:Q,onTransformChange:K,connectionInProgress:Y}){M&&!h.isZoomingOrPanning&&x();const q=C&&!U&&!M?KN({zoomPanValues:h,noWheelClassName:$,d3Selection:g,d3Zoom:f,panOnScrollMode:j,panOnScrollSpeed:P,zoomOnPinch:O,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:u}):qN({noWheelClassName:$,preventScrolling:A,d3ZoomHandler:p});if(g.on("wheel.zoom",q,{passive:!1}),!M){const te=ZN({zoomPanValues:h,onDraggingChange:c,onPanZoomStart:a});f.on("start",te);const J=JN({zoomPanValues:h,panOnDrag:I,onPaneContextMenu:!!N,onPanZoom:i,onTransformChange:K});f.on("zoom",J);const Z=eS({zoomPanValues:h,panOnDrag:I,panOnScroll:C,onPaneContextMenu:N,onPanZoomEnd:u,onDraggingChange:c});f.on("end",Z)}const re=tS({zoomActivationKeyPressed:U,panOnDrag:I,zoomOnScroll:H,panOnScroll:C,zoomOnDoubleClick:V,zoomOnPinch:O,userSelectionActive:M,noPanClassName:L,noWheelClassName:$,lib:Q,connectionInProgress:Y});f.filter(re),V?g.on("dblclick.zoom",v):g.on("dblclick.zoom",null)}function x(){f.on("zoom",null)}async function y($,L,N){const M=tl($),C=f==null?void 0:f.constrain()(M,L,N);return C&&await w(C),new Promise(I=>I(C))}async function k($,L){const N=tl($);return await w(N,L),new Promise(M=>M(N))}function b($){if(g){const L=tl($),N=g.property("__zoom");(N.k!==$.zoom||N.x!==$.x||N.y!==$.y)&&(f==null||f.transform(g,L,null,{sync:!0}))}}function E(){const $=g?ag(g.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function S($,L){return g?new Promise(N=>{f==null||f.interpolate((L==null?void 0:L.interpolate)==="linear"?ho:qs).scaleTo(nl(g,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>N(!0)),$)}):Promise.resolve(!1)}function T($,L){return g?new Promise(N=>{f==null||f.interpolate((L==null?void 0:L.interpolate)==="linear"?ho:qs).scaleBy(nl(g,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>N(!0)),$)}):Promise.resolve(!1)}function D($){f==null||f.scaleExtent($)}function R($){f==null||f.translateExtent($)}function F($){const L=!xt($)||$<0?0:$;f==null||f.clickDistance(L)}return{update:m,destroy:x,setViewport:k,setViewportConstrained:y,getViewport:E,scaleTo:S,scaleBy:T,setScaleExtent:D,setTranslateExtent:R,syncViewport:b,setClickDistance:F}}var Pr;(function(e){e.Line="line",e.Handle="handle"})(Pr||(Pr={}));function rS({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:s}){const i=e-t,a=n-r,u=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&o&&(u[0]=u[0]*-1),a&&s&&(u[1]=u[1]*-1),u}function Tf(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Zt(e,t){return Math.max(0,t-e)}function Jt(e,t){return Math.max(0,e-t)}function $s(e,t,n){return Math.max(0,t-e,e-n)}function Mf(e,t){return e?!t:t}function oS(e,t,n,r,o,s,i,a){let{affectsX:u,affectsY:c}=t;const{isHorizontal:h,isVertical:d}=t,f=h&&d,{xSnapped:g,ySnapped:p}=n,{minWidth:v,maxWidth:w,minHeight:m,maxHeight:x}=r,{x:y,y:k,width:b,height:E,aspectRatio:S}=e;let T=Math.floor(h?g-e.pointerX:0),D=Math.floor(d?p-e.pointerY:0);const R=b+(u?-T:T),F=E+(c?-D:D),$=-s[0]*b,L=-s[1]*E;let N=$s(R,v,w),M=$s(F,m,x);if(i){let j=0,P=0;u&&T<0?j=Zt(y+T+$,i[0][0]):!u&&T>0&&(j=Jt(y+R+$,i[1][0])),c&&D<0?P=Zt(k+D+L,i[0][1]):!c&&D>0&&(P=Jt(k+F+L,i[1][1])),N=Math.max(N,j),M=Math.max(M,P)}if(a){let j=0,P=0;u&&T>0?j=Jt(y+T,a[0][0]):!u&&T<0&&(j=Zt(y+R,a[1][0])),c&&D>0?P=Jt(k+D,a[0][1]):!c&&D<0&&(P=Zt(k+F,a[1][1])),N=Math.max(N,j),M=Math.max(M,P)}if(o){if(h){const j=$s(R/S,m,x)*S;if(N=Math.max(N,j),i){let P=0;!u&&!c||u&&!c&&f?P=Jt(k+L+R/S,i[1][1])*S:P=Zt(k+L+(u?T:-T)/S,i[0][1])*S,N=Math.max(N,P)}if(a){let P=0;!u&&!c||u&&!c&&f?P=Zt(k+R/S,a[1][1])*S:P=Jt(k+(u?T:-T)/S,a[0][1])*S,N=Math.max(N,P)}}if(d){const j=$s(F*S,v,w)/S;if(M=Math.max(M,j),i){let P=0;!u&&!c||c&&!u&&f?P=Jt(y+F*S+$,i[1][0])/S:P=Zt(y+(c?D:-D)*S+$,i[0][0])/S,M=Math.max(M,P)}if(a){let P=0;!u&&!c||c&&!u&&f?P=Zt(y+F*S,a[1][0])/S:P=Jt(y+(c?D:-D)*S,a[0][0])/S,M=Math.max(M,P)}}}D=D+(D<0?M:-M),T=T+(T<0?N:-N),o&&(f?R>F*S?D=(Mf(u,c)?-T:T)/S:T=(Mf(u,c)?-D:D)*S:h?(D=T/S,c=u):(T=D*S,u=c));const C=u?y+T:y,I=c?k+D:k;return{width:b+(u?-T:T),height:E+(c?-D:D),x:s[0]*T*(u?-1:1)+C,y:s[1]*D*(c?-1:1)+I}}const Dg={width:0,height:0,x:0,y:0},sS={...Dg,pointerX:0,pointerY:0,aspectRatio:1};function iS(e){return[[0,0],[e.measured.width,e.measured.height]]}function aS(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,a=n[0]*s,u=n[1]*i;return[[r-a,o-u],[r+s-a,o+i-u]]}function lS({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const s=Je(e);let i={controlDirection:Tf("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:h,keepAspectRatio:d,resizeDirection:f,onResizeStart:g,onResize:p,onResizeEnd:v,shouldResize:w}){let m={...Dg},x={...sS};i={boundaries:h,resizeDirection:f,keepAspectRatio:d,controlDirection:Tf(c)};let y,k=null,b=[],E,S,T,D=!1;const R=Xp().on("start",F=>{const{nodeLookup:$,transform:L,snapGrid:N,snapToGrid:M,nodeOrigin:C,paneDomNode:I}=n();if(y=$.get(t),!y)return;k=(I==null?void 0:I.getBoundingClientRect())??null;const{xSnapped:j,ySnapped:P}=po(F.sourceEvent,{transform:L,snapGrid:N,snapToGrid:M,containerBounds:k});m={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},x={...m,pointerX:j,pointerY:P,aspectRatio:m.width/m.height},E=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(E=$.get(y.parentId),S=E&&y.extent==="parent"?iS(E):void 0),b=[],T=void 0;for(const[A,O]of $)if(O.parentId===t&&(b.push({id:A,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const H=aS(O,y,O.origin??C);T?T=[[Math.min(H[0][0],T[0][0]),Math.min(H[0][1],T[0][1])],[Math.max(H[1][0],T[1][0]),Math.max(H[1][1],T[1][1])]]:T=H}g==null||g(F,{...m})}).on("drag",F=>{const{transform:$,snapGrid:L,snapToGrid:N,nodeOrigin:M}=n(),C=po(F.sourceEvent,{transform:$,snapGrid:L,snapToGrid:N,containerBounds:k}),I=[];if(!y)return;const{x:j,y:P,width:A,height:O}=m,H={},V=y.origin??M,{width:U,height:Q,x:K,y:Y}=oS(x,i.controlDirection,C,i.boundaries,i.keepAspectRatio,V,S,T),W=U!==A,q=Q!==O,re=K!==j&&W,te=Y!==P&&q;if(!re&&!te&&!W&&!q)return;if((re||te||V[0]===1||V[1]===1)&&(H.x=re?K:m.x,H.y=te?Y:m.y,m.x=H.x,m.y=H.y,b.length>0)){const ae=K-j,he=Y-P;for(const Re of b)Re.position={x:Re.position.x-ae+V[0]*(U-A),y:Re.position.y-he+V[1]*(Q-O)},I.push(Re)}if((W||q)&&(H.width=W&&(!i.resizeDirection||i.resizeDirection==="horizontal")?U:m.width,H.height=q&&(!i.resizeDirection||i.resizeDirection==="vertical")?Q:m.height,m.width=H.width,m.height=H.height),E&&y.expandParent){const ae=V[0]*(H.width??0);H.x&&H.x<ae&&(m.x=ae,x.x=x.x-(H.x-ae));const he=V[1]*(H.height??0);H.y&&H.y<he&&(m.y=he,x.y=x.y-(H.y-he))}const J=rS({width:m.width,prevWidth:A,height:m.height,prevHeight:O,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),Z={...m,direction:J};(w==null?void 0:w(F,Z))!==!1&&(D=!0,p==null||p(F,Z),r(H,I))}).on("end",F=>{D&&(v==null||v(F,{...m}),o==null||o({...m}),D=!1)});s.call(R)}function u(){s.on(".drag",null)}return{update:a,destroy:u}}var zg={exports:{}},Fg={},Og={exports:{}},Hg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=_;function uS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cS=typeof Object.is=="function"?Object.is:uS,dS=Tr.useState,fS=Tr.useEffect,hS=Tr.useLayoutEffect,pS=Tr.useDebugValue;function gS(e,t){var n=t(),r=dS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return hS(function(){o.value=n,o.getSnapshot=t,rl(o)&&s({inst:o})},[e,n,t]),fS(function(){return rl(o)&&s({inst:o}),e(function(){rl(o)&&s({inst:o})})},[e]),pS(n),n}function rl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cS(e,n)}catch{return!0}}function mS(e,t){return t()}var yS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mS:gS;Hg.useSyncExternalStore=Tr.useSyncExternalStore!==void 0?Tr.useSyncExternalStore:yS;Og.exports=Hg;var xS=Og.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=_,vS=xS;function wS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kS=typeof Object.is=="function"?Object.is:wS,bS=vS.useSyncExternalStore,NS=ca.useRef,SS=ca.useEffect,ES=ca.useMemo,_S=ca.useDebugValue;Fg.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=NS(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=ES(function(){function u(g){if(!c){if(c=!0,h=g,g=r(g),o!==void 0&&i.hasValue){var p=i.value;if(o(p,g))return d=p}return d=g}if(p=d,kS(h,g))return p;var v=r(g);return o!==void 0&&o(p,v)?(h=g,p):(h=g,d=v)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,n,r,o]);var a=bS(e,s[0],s[1]);return SS(function(){i.hasValue=!0,i.value=a},[a]),_S(a),a};zg.exports=Fg;var jS=zg.exports;const Bg=w0(jS),CS={},Lf=e=>{let t;const n=new Set,r=(h,d)=>{const f=typeof h=="function"?h(t):h;if(!Object.is(f,t)){const g=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,g))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(CS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,u);return u},Ug=e=>e?Lf(e):Lf,{useDebugValue:PS}=Eu,{useSyncExternalStoreWithSelector:TS}=Bg,MS=e=>e;function Wg(e,t=MS,n){const r=TS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return PS(r),r}const Rf=(e,t)=>{const n=Ug(e),r=(o,s=t)=>Wg(n,o,s);return Object.assign(r,n),r},LS=(e,t)=>e?Rf(e,t):Rf;function ve(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const da=_.createContext(null),RS=da.Provider,Vg=Rt.error001();function se(e,t){const n=_.useContext(da);if(n===null)throw new Error(Vg);return Wg(n,e,t)}function ge(){const e=_.useContext(da);if(e===null)throw new Error(Vg);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const $f={display:"none"},$S={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Gg="react-flow__node-desc",Xg="react-flow__edge-desc",AS="react-flow__aria-live",IS=e=>e.ariaLiveMessage,DS=e=>e.ariaLabelConfig;function zS({rfId:e}){const t=se(IS);return l.jsx("div",{id:`${AS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:$S,children:t})}function FS({rfId:e,disableKeyboardA11y:t}){const n=se(DS);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${Gg}-${e}`,style:$f,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${Xg}-${e}`,style:$f,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(zS,{rfId:e})]})}const fa=_.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},s)=>{const i=`${e}`.split("-");return l.jsx("div",{className:Se(["react-flow__panel",n,...i]),style:r,ref:s,...o,children:t})});fa.displayName="Panel";function OS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(fa,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const HS=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},As=e=>e.id;function BS(e,t){return ve(e.selectedNodes.map(As),t.selectedNodes.map(As))&&ve(e.selectedEdges.map(As),t.selectedEdges.map(As))}function US({onSelectionChange:e}){const t=ge(),{selectedNodes:n,selectedEdges:r}=se(HS,BS);return _.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,r,e]),null}const WS=e=>!!e.onSelectionChangeHandlers;function VS({onSelectionChange:e}){const t=se(WS);return e||t?l.jsx(US,{onSelectionChange:e}):null}const Yg=[0,0],GS={x:0,y:0,zoom:1},XS=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Af=[...XS,"rfId"],YS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),If={translateExtent:Io,nodeOrigin:Yg,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function QS(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:u,setPaneClickDistance:c}=se(YS,ve),h=ge();_.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=If,a()}),[]);const d=_.useRef(If);return _.useEffect(()=>{for(const f of Af){const g=e[f],p=d.current[f];g!==p&&(typeof e[f]>"u"||(f==="nodes"?t(g):f==="edges"?n(g):f==="minZoom"?r(g):f==="maxZoom"?o(g):f==="translateExtent"?s(g):f==="nodeExtent"?i(g):f==="paneClickDistance"?c(g):f==="ariaLabelConfig"?h.setState({ariaLabelConfig:wN(g)}):f==="fitView"?h.setState({fitViewQueued:g}):f==="fitViewOptions"?h.setState({fitViewOptions:g}):h.setState({[f]:g})))}d.current=e},Af.map(f=>e[f])),null}function Df(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function KS(e){var r;const[t,n]=_.useState(e==="system"?null:e);return _.useEffect(()=>{if(e!=="system"){n(e);return}const o=Df(),s=()=>n(o!=null&&o.matches?"dark":"light");return s(),o==null||o.addEventListener("change",s),()=>{o==null||o.removeEventListener("change",s)}},[e]),t!==null?t:(r=Df())!=null&&r.matches?"dark":"light"}const zf=typeof document<"u"?document:null;function Bo(e=null,t={target:zf,actInsideInputWithModifier:!0}){const[n,r]=_.useState(!1),o=_.useRef(!1),s=_.useRef(new Set([])),[i,a]=_.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=c.reduce((d,f)=>d.concat(...f),[]);return[c,h]}return[[],[]]},[e]);return _.useEffect(()=>{const u=(t==null?void 0:t.target)??zf,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const h=g=>{var w,m;if(o.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!o.current||o.current&&!c)&&kg(g))return!1;const v=Of(g.code,a);if(s.current.add(g[v]),Ff(i,s.current,!1)){const x=((m=(w=g.composedPath)==null?void 0:w.call(g))==null?void 0:m[0])||g.target,y=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(o.current||!y)&&g.preventDefault(),r(!0)}},d=g=>{const p=Of(g.code,a);Ff(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[p]),g.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",h),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{u==null||u.removeEventListener("keydown",h),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function Ff(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Of(e,t){return t.includes(e)?"code":"key"}const qS=()=>{const e=ge();return _.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:s,maxZoom:i,panZoom:a}=e.getState(),u=Ec(t,r,o,s,i,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:a,y:u}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-u},h=n.snapGrid??o,d=n.snapToGrid??s;return es(c,r,d,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:s}=r.getBoundingClientRect(),i=Ii(t,n);return{x:i.x+o,y:i.y+s}}}),[])};function Qg(e,t){const n=[],r=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const i=r.get(s.id);i?i.push(s):r.set(s.id,[s])}for(const s of t){const i=r.get(s.id);if(!i){n.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const a={...s};for(const u of i)ZS(u,a);n.push(a)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function ZS(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function JS(e,t){return Qg(e,t)}function e2(e,t){return Qg(e,t)}function Nn(e,t){return{id:e,type:"select",selected:t}}function ar(e,t=new Set,n=!1){const r=[];for(const[o,s]of e){const i=t.has(o);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),r.push(Nn(s.id,i)))}return r}function Hf({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const a=t.get(i.id),u=((o=a==null?void 0:a.internals)==null?void 0:o.userNode)??a;u!==void 0&&u!==i&&n.push({id:i.id,item:i,type:"replace"}),u===void 0&&n.push({item:i,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function Bf(e){return{id:e.id,type:"remove"}}const Uf=e=>cN(e),t2=e=>hg(e);function Kg(e){return _.forwardRef(e)}const n2=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Wf(e){const[t,n]=_.useState(BigInt(0)),[r]=_.useState(()=>r2(()=>n(o=>o+BigInt(1))));return n2(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function r2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const qg=_.createContext(null);function o2({children:e}){const t=ge(),n=_.useCallback(a=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:h,onNodesChange:d,nodeLookup:f,fitViewQueued:g}=t.getState();let p=u;for(const w of a)p=typeof w=="function"?w(p):w;const v=Hf({items:p,lookup:f});h&&c(p),v.length>0?d==null||d(v):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:m,setNodes:x}=t.getState();w&&x(m)})},[]),r=Wf(n),o=_.useCallback(a=>{const{edges:u=[],setEdges:c,hasDefaultEdges:h,onEdgesChange:d,edgeLookup:f}=t.getState();let g=u;for(const p of a)g=typeof p=="function"?p(g):p;h?c(g):d&&d(Hf({items:g,lookup:f}))},[]),s=Wf(o),i=_.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return l.jsx(qg.Provider,{value:i,children:e})}function s2(){const e=_.useContext(qg);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const i2=e=>!!e.panZoom;function ha(){const e=qS(),t=ge(),n=s2(),r=se(i2),o=_.useMemo(()=>{const s=d=>t.getState().nodeLookup.get(d),i=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},u=d=>{var m,x;const{nodeLookup:f,nodeOrigin:g}=t.getState(),p=Uf(d)?d:f.get(d.id),v=p.parentId?vg(p.position,p.measured,p.parentId,f,g):p.position,w={...p,position:v,width:((m=p.measured)==null?void 0:m.width)??p.width,height:((x=p.measured)==null?void 0:x.height)??p.height};return jr(w)},c=(d,f,g={replace:!1})=>{i(p=>p.map(v=>{if(v.id===d){const w=typeof f=="function"?f(v):f;return g.replace&&Uf(w)?w:{...v,...w}}return v}))},h=(d,f,g={replace:!1})=>{a(p=>p.map(v=>{if(v.id===d){const w=typeof f=="function"?f(v):f;return g.replace&&t2(w)?w:{...v,...w}}return v}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=s(d))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(f=>({...f}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:i,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(g=>[...g,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(g=>[...g,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:g}=t.getState(),[p,v,w]=g;return{nodes:d.map(m=>({...m})),edges:f.map(m=>({...m})),viewport:{x:p,y:v,zoom:w}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:g,edges:p,onNodesDelete:v,onEdgesDelete:w,triggerNodeChanges:m,triggerEdgeChanges:x,onDelete:y,onBeforeDelete:k}=t.getState(),{nodes:b,edges:E}=await gN({nodesToRemove:d,edgesToRemove:f,nodes:g,edges:p,onBeforeDelete:k}),S=E.length>0,T=b.length>0;if(S){const D=E.map(Bf);w==null||w(E),x(D)}if(T){const D=b.map(Bf);v==null||v(b),m(D)}return(T||S)&&(y==null||y({nodes:b,edges:E})),{deletedNodes:b,deletedEdges:E}},getIntersectingNodes:(d,f=!0,g)=>{const p=vf(d),v=p?d:u(d),w=g!==void 0;return v?(g||t.getState().nodes).filter(m=>{const x=t.getState().nodeLookup.get(m.id);if(x&&!p&&(m.id===d.id||!x.internals.positionAbsolute))return!1;const y=jr(w?m:x),k=Fo(y,v);return f&&k>0||k>=y.width*y.height||k>=v.width*v.height}):[]},isNodeIntersecting:(d,f,g=!0)=>{const v=vf(d)?d:u(d);if(!v)return!1;const w=Fo(v,f);return g&&w>0||w>=f.width*f.height||w>=v.width*v.height},updateNode:c,updateNodeData:(d,f,g={replace:!1})=>{c(d,p=>{const v=typeof f=="function"?f(p):f;return g.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},g)},updateEdge:h,updateEdgeData:(d,f,g={replace:!1})=>{h(d,p=>{const v=typeof f=="function"?f(p):f;return g.replace?{...p,data:v}:{...p,data:{...p.data,...v}}},g)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:g}=t.getState();return dN(d,{nodeLookup:f,nodeOrigin:g})},getHandleConnections:({type:d,id:f,nodeId:g})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${g}-${d}${f?`-${f}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:g})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${g}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:p.values())??[])},fitView:async d=>{const f=t.getState().fitViewResolver??vN();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(g=>[...g]),f.promise}}},[]);return _.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Vf=e=>e.selected,a2=typeof window<"u"?window:void 0;function l2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=ge(),{deleteElements:r}=ha(),o=Bo(e,{actInsideInputWithModifier:!1}),s=Bo(t,{target:a2});_.useEffect(()=>{if(o){const{edges:i,nodes:a}=n.getState();r({nodes:a.filter(Vf),edges:i.filter(Vf)}),n.setState({nodesSelectionActive:!1})}},[o]),_.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function u2(e){const t=ge();_.useEffect(()=>{const n=()=>{var o,s,i,a;if(!e.current||!(((s=(o=e.current).checkVisibility)==null?void 0:s.call(o))??!0))return!1;const r=_c(e.current);(r.height===0||r.width===0)&&((a=(i=t.getState()).onError)==null||a.call(i,"004",Rt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const pa={position:"absolute",width:"100%",height:"100%",top:0,left:0},c2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function d2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=Ln.Free,zoomOnDoubleClick:i=!0,panOnDrag:a=!0,defaultViewport:u,translateExtent:c,minZoom:h,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:g=!0,children:p,noWheelClassName:v,noPanClassName:w,onViewportChange:m,isControlledViewport:x,paneClickDistance:y}){const k=ge(),b=_.useRef(null),{userSelectionActive:E,lib:S,connectionInProgress:T}=se(c2,ve),D=Bo(f),R=_.useRef();u2(b);const F=_.useCallback($=>{m==null||m({x:$[0],y:$[1],zoom:$[2]}),x||k.setState({transform:$})},[m,x]);return _.useEffect(()=>{if(b.current){R.current=nS({domNode:b.current,minZoom:h,maxZoom:d,translateExtent:c,viewport:u,paneClickDistance:y,onDraggingChange:M=>k.setState({paneDragging:M}),onPanZoomStart:(M,C)=>{const{onViewportChangeStart:I,onMoveStart:j}=k.getState();j==null||j(M,C),I==null||I(C)},onPanZoom:(M,C)=>{const{onViewportChange:I,onMove:j}=k.getState();j==null||j(M,C),I==null||I(C)},onPanZoomEnd:(M,C)=>{const{onViewportChangeEnd:I,onMoveEnd:j}=k.getState();j==null||j(M,C),I==null||I(C)}});const{x:$,y:L,zoom:N}=R.current.getViewport();return k.setState({panZoom:R.current,transform:[$,L,N],domNode:b.current.closest(".react-flow")}),()=>{var M;(M=R.current)==null||M.destroy()}}},[]),_.useEffect(()=>{var $;($=R.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:a,zoomActivationKeyPressed:D,preventScrolling:g,noPanClassName:w,userSelectionActive:E,noWheelClassName:v,lib:S,onTransformChange:F,connectionInProgress:T})},[e,t,n,r,o,s,i,a,D,g,w,E,v,S,F,T]),l.jsx("div",{className:"react-flow__renderer",ref:b,style:pa,children:p})}const f2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function h2(){const{userSelectionActive:e,userSelectionRect:t}=se(f2,ve);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ol=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},p2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function g2({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Do.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:h,onPaneMouseMove:d,onPaneMouseLeave:f,children:g}){const p=ge(),{userSelectionActive:v,elementsSelectable:w,dragging:m,connectionInProgress:x}=se(p2,ve),y=w&&(e||v),k=_.useRef(null),b=_.useRef(),E=_.useRef(new Set),S=_.useRef(new Set),T=_.useRef(!1),D=_.useRef(!1),R=j=>{if(T.current||x){T.current=!1;return}a==null||a(j),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},F=j=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){j.preventDefault();return}u==null||u(j)},$=c?j=>c(j):void 0,L=j=>{(o&&k.current===j.target||!o||t)&&j.stopPropagation()},N=j=>{var Q,K;const{resetSelectedElements:P,domNode:A}=p.getState();b.current=A==null?void 0:A.getBoundingClientRect();const O=j.target!==k.current&&!!j.target.closest(".nokey"),H=o&&k.current===j.target||!o||t;if(!w||!e||j.button!==0||!b.current||O||!H||!j.isPrimary)return;j.stopPropagation(),j.preventDefault(),(K=(Q=j.target)==null?void 0:Q.setPointerCapture)==null||K.call(Q,j.pointerId),D.current=!0,T.current=!1;const{x:V,y:U}=vt(j.nativeEvent,b.current);P(),p.setState({userSelectionRect:{width:0,height:0,startX:V,startY:U,x:V,y:U}}),s==null||s(j)},M=j=>{const{userSelectionRect:P,transform:A,nodeLookup:O,edgeLookup:H,connectionLookup:V,triggerNodeChanges:U,triggerEdgeChanges:Q,defaultEdgeOptions:K}=p.getState();if(!b.current||!P)return;T.current=!0;const{x:Y,y:W}=vt(j.nativeEvent,b.current),{startX:q,startY:re}=P,te={startX:q,startY:re,x:Y<q?Y:q,y:W<re?W:re,width:Math.abs(Y-q),height:Math.abs(W-re)},J=E.current,Z=S.current;E.current=new Set(Sc(O,te,A,n===Do.Partial,!0).map(ae=>ae.id)),S.current=new Set;const oe=(K==null?void 0:K.selectable)??!0;for(const ae of E.current){const he=V.get(ae);if(he)for(const{edgeId:Re}of he.values()){const At=H.get(Re);At&&(At.selectable??oe)&&S.current.add(Re)}}if(!wf(J,E.current)){const ae=ar(O,E.current,!0);U(ae)}if(!wf(Z,S.current)){const ae=ar(H,S.current);Q(ae)}p.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},C=j=>{var A,O;if(j.button!==0||!D.current)return;(O=(A=j.target)==null?void 0:A.releasePointerCapture)==null||O.call(A,j.pointerId);const{userSelectionRect:P}=p.getState();!v&&P&&j.target===k.current&&(R==null||R(j)),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),i==null||i(j),(t||o)&&(T.current=!1),D.current=!1},I=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:Se(["react-flow__pane",{draggable:I,dragging:m,selection:e}]),onClick:y?void 0:ol(R,k),onContextMenu:ol(F,k),onWheel:ol($,k),onPointerEnter:y?void 0:h,onPointerMove:y?M:d,onPointerUp:y?C:void 0,onPointerDownCapture:y?N:void 0,onClickCapture:y?L:void 0,onPointerLeave:f,ref:k,style:pa,children:[g,l.jsx(h2,{})]})}function gu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:a,onError:u}=t.getState(),c=a.get(e);if(!c){u==null||u("012",Rt.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):o([e])}function Zg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,nodeClickDistance:i}){const a=ge(),[u,c]=_.useState(!1),h=_.useRef();return _.useEffect(()=>{h.current=BN({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{gu({id:d,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),_.useEffect(()=>{var d,f;if(t)(d=h.current)==null||d.destroy();else if(e.current)return(f=h.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:i}),()=>{var g;(g=h.current)==null||g.destroy()}},[n,r,t,s,e,o]),u}const m2=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Jg(){const e=ge();return _.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:s,nodesDraggable:i,onError:a,updateNodePositions:u,nodeLookup:c,nodeOrigin:h}=e.getState(),d=new Map,f=m2(i),g=o?s[0]:5,p=o?s[1]:5,v=n.direction.x*g*n.factor,w=n.direction.y*p*n.factor;for(const[,m]of c){if(!f(m))continue;let x={x:m.internals.positionAbsolute.x+v,y:m.internals.positionAbsolute.y+w};o&&(x=Jo(x,s));const{position:y,positionAbsolute:k}=pg({nodeId:m.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:h,onError:a});m.position=y,m.internals.positionAbsolute=k,d.set(m.id,m)}u(d)},[])}const Mc=_.createContext(null),y2=Mc.Provider;Mc.Consumer;const em=()=>_.useContext(Mc),x2=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),v2=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:s,connection:i}=r,{fromHandle:a,toHandle:u,isValid:c}=i,h=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:h,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:s===Er.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:h&&c}};function w2({type:e="source",position:t=X.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:a,children:u,className:c,onMouseDown:h,onTouchStart:d,...f},g){var M,C;const p=i||null,v=e==="target",w=ge(),m=em(),{connectOnClick:x,noPanClassName:y,rfId:k}=se(x2,ve),{connectingFrom:b,connectingTo:E,clickConnecting:S,isPossibleEndHandle:T,connectionInProcess:D,clickConnectionInProcess:R,valid:F}=se(v2(m,p,e),ve);m||(C=(M=w.getState()).onError)==null||C.call(M,"010",Rt.error010());const $=I=>{const{defaultEdgeOptions:j,onConnect:P,hasDefaultEdges:A}=w.getState(),O={...j,...I};if(A){const{edges:H,setEdges:V}=w.getState();V(_N(O,H))}P==null||P(O),a==null||a(O)},L=I=>{if(!m)return;const j=bg(I.nativeEvent);if(o&&(j&&I.button===0||!j)){const P=w.getState();pu.onPointerDown(I.nativeEvent,{handleDomNode:I.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:v,handleId:p,nodeId:m,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:$,isValidConnection:n||P.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}j?h==null||h(I):d==null||d(I)},N=I=>{const{onClickConnectStart:j,onClickConnectEnd:P,connectionClickStartHandle:A,connectionMode:O,isValidConnection:H,lib:V,rfId:U,nodeLookup:Q,connection:K}=w.getState();if(!m||!A&&!o)return;if(!A){j==null||j(I.nativeEvent,{nodeId:m,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,id:p}});return}const Y=wg(I.target),W=n||H,{connection:q,isValid:re}=pu.isValid(I.nativeEvent,{handle:{nodeId:m,id:p,type:e},connectionMode:O,fromNodeId:A.nodeId,fromHandleId:A.id||null,fromType:A.type,isValidConnection:W,flowId:U,doc:Y,lib:V,nodeLookup:Q});re&&q&&$(q);const te=structuredClone(K);delete te.inProgress,te.toPosition=te.toHandle?te.toHandle.position:null,P==null||P(I,te),w.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":p,"data-nodeid":m,"data-handlepos":t,"data-id":`${k}-${m}-${p}-${e}`,className:Se(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,c,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:s,clickconnecting:S,connectingfrom:b,connectingto:E,valid:F,connectionindicator:r&&(!D||T)&&(D||R?s:o)}]),onMouseDown:L,onTouchStart:L,onClick:x?N:void 0,ref:g,...f,children:u})}const je=_.memo(Kg(w2));function k2({data:e,isConnectable:t,sourcePosition:n=X.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(je,{type:"source",position:n,isConnectable:t})]})}function b2({data:e,isConnectable:t,targetPosition:n=X.Top,sourcePosition:r=X.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(je,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,l.jsx(je,{type:"source",position:r,isConnectable:t})]})}function N2(){return null}function S2({data:e,isConnectable:t,targetPosition:n=X.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(je,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Di={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Gf={input:k2,default:b2,output:S2,group:N2};function E2(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const _2=e=>{const{width:t,height:n,x:r,y:o}=Zo(e.nodeLookup,{filter:s=>!!s.selected});return{width:xt(t)?t:null,height:xt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function j2({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ge(),{width:o,height:s,transformString:i,userSelectionActive:a}=se(_2,ve),u=Jg(),c=_.useRef(null);if(_.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),Zg({nodeRef:c}),a||!o||!s)return null;const h=e?f=>{const g=r.getState().nodes.filter(p=>p.selected);e(f,g)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(Di,f.key)&&(f.preventDefault(),u({direction:Di[f.key],factor:f.shiftKey?4:1}))};return l.jsx("div",{className:Se(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:l.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:o,height:s}})})}const Xf=typeof window<"u"?window:void 0,C2=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function tm({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:a,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:h,selectionMode:d,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:p,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:m,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:k,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:T,defaultViewport:D,translateExtent:R,minZoom:F,maxZoom:$,preventScrolling:L,onSelectionContextMenu:N,noWheelClassName:M,noPanClassName:C,disableKeyboardA11y:I,onViewportChange:j,isControlledViewport:P}){const{nodesSelectionActive:A,userSelectionActive:O}=se(C2),H=Bo(c,{target:Xf}),V=Bo(v,{target:Xf}),U=V||T,Q=V||k,K=h&&U!==!0,Y=H||O||K;return l2({deleteKeyCode:u,multiSelectionKeyCode:p}),l.jsx(d2,{onPaneContextMenu:s,elementsSelectable:m,zoomOnScroll:x,zoomOnPinch:y,panOnScroll:Q,panOnScrollSpeed:b,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:!H&&U,defaultViewport:D,translateExtent:R,minZoom:F,maxZoom:$,zoomActivationKeyCode:w,preventScrolling:L,noWheelClassName:M,noPanClassName:C,onViewportChange:j,isControlledViewport:P,paneClickDistance:a,children:l.jsxs(g2,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:U,isSelecting:!!Y,selectionMode:d,selectionKeyPressed:H,selectionOnDrag:K,children:[e,A&&l.jsx(j2,{onSelectionContextMenu:N,noPanClassName:C,disableKeyboardA11y:I})]})})}tm.displayName="FlowRenderer";const P2=_.memo(tm),T2=e=>t=>e?Sc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function M2(e){return se(_.useCallback(T2(e),[e]),ve)}const L2=e=>e.updateNodeInternals;function R2(){const e=se(L2),[t]=_.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:o.target,force:!0})}),e(r)}));return _.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function $2({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=ge(),s=_.useRef(null),i=_.useRef(null),a=_.useRef(e.sourcePosition),u=_.useRef(e.targetPosition),c=_.useRef(t),h=n&&!!e.internals.handleBounds;return _.useEffect(()=>{s.current&&!e.hidden&&(!h||i.current!==s.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(s.current),i.current=s.current)},[h,e.hidden]),_.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),_.useEffect(()=>{if(s.current){const d=c.current!==t,f=a.current!==e.sourcePosition,g=u.current!==e.targetPosition;(d||f||g)&&(c.current=t,a.current=e.sourcePosition,u.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function A2({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:s,onDoubleClick:i,nodesDraggable:a,elementsSelectable:u,nodesConnectable:c,nodesFocusable:h,resizeObserver:d,noDragClassName:f,noPanClassName:g,disableKeyboardA11y:p,rfId:v,nodeTypes:w,nodeClickDistance:m,onError:x}){const{node:y,internals:k,isParent:b}=se(W=>{const q=W.nodeLookup.get(e),re=W.parentLookup.has(e);return{node:q,internals:q.internals,isParent:re}},ve);let E=y.type||"default",S=(w==null?void 0:w[E])||Gf[E];S===void 0&&(x==null||x("003",Rt.error003(E)),E="default",S=(w==null?void 0:w.default)||Gf.default);const T=!!(y.draggable||a&&typeof y.draggable>"u"),D=!!(y.selectable||u&&typeof y.selectable>"u"),R=!!(y.connectable||c&&typeof y.connectable>"u"),F=!!(y.focusable||h&&typeof y.focusable>"u"),$=ge(),L=xg(y),N=$2({node:y,nodeType:E,hasDimensions:L,resizeObserver:d}),M=Zg({nodeRef:N,disabled:y.hidden||!T,noDragClassName:f,handleSelector:y.dragHandle,nodeId:e,isSelectable:D,nodeClickDistance:m}),C=Jg();if(y.hidden)return null;const I=Kt(y),j=E2(y),P=D||T||t||n||r||o,A=n?W=>n(W,{...k.userNode}):void 0,O=r?W=>r(W,{...k.userNode}):void 0,H=o?W=>o(W,{...k.userNode}):void 0,V=s?W=>s(W,{...k.userNode}):void 0,U=i?W=>i(W,{...k.userNode}):void 0,Q=W=>{const{selectNodesOnDrag:q,nodeDragThreshold:re}=$.getState();D&&(!q||!T||re>0)&&gu({id:e,store:$,nodeRef:N}),t&&t(W,{...k.userNode})},K=W=>{if(!(kg(W.nativeEvent)||p)){if(ug.includes(W.key)&&D){const q=W.key==="Escape";gu({id:e,store:$,unselect:q,nodeRef:N})}else if(T&&y.selected&&Object.prototype.hasOwnProperty.call(Di,W.key)){W.preventDefault();const{ariaLabelConfig:q}=$.getState();$.setState({ariaLiveMessage:q["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),C({direction:Di[W.key],factor:W.shiftKey?4:1})}}},Y=()=>{var oe;if(p||!((oe=N.current)!=null&&oe.matches(":focus-visible")))return;const{transform:W,width:q,height:re,autoPanOnNodeFocus:te,setCenter:J}=$.getState();if(!te)return;Sc(new Map([[e,y]]),{x:0,y:0,width:q,height:re},W,!0).length>0||J(y.position.x+I.width/2,y.position.y+I.height/2,{zoom:W[2]})};return l.jsx("div",{className:Se(["react-flow__node",`react-flow__node-${E}`,{[g]:T},y.className,{selected:y.selected,selectable:D,parent:b,draggable:T,dragging:M}]),ref:N,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:L?"visible":"hidden",...y.style,...j},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:A,onMouseMove:O,onMouseLeave:H,onContextMenu:V,onClick:Q,onDoubleClick:U,onKeyDown:F?K:void 0,tabIndex:F?0:void 0,onFocus:F?Y:void 0,role:y.ariaRole??(F?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${Gg}-${v}`,"aria-label":y.ariaLabel,...y.domAttributes,children:l.jsx(y2,{value:e,children:l.jsx(S,{id:e,data:y.data,type:E,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:y.selected??!1,selectable:D,draggable:T,deletable:y.deletable??!0,isConnectable:R,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:M,dragHandle:y.dragHandle,zIndex:k.z,parentId:y.parentId,...I})})})}var I2=_.memo(A2);const D2=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function nm(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:s}=se(D2,ve),i=M2(e.onlyRenderVisibleElements),a=R2();return l.jsx("div",{className:"react-flow__nodes",style:pa,children:i.map(u=>l.jsx(I2,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},u))})}nm.displayName="NodeRenderer";const z2=_.memo(nm);function F2(e){return se(_.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),i=n.nodeLookup.get(o.target);s&&i&&NN({sourceNode:s,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ve)}const O2=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},H2=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Yf={[zo.Arrow]:O2,[zo.ArrowClosed]:H2};function B2(e){const t=ge();return _.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Yf,e)?Yf[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",Rt.error009(e)),null)},[e])}const U2=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const u=B2(t);return u?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:l.jsx(u,{color:n,strokeWidth:i})}):null},rm=({defaultColor:e,rfId:t})=>{const n=se(s=>s.edges),r=se(s=>s.defaultEdgeOptions),o=_.useMemo(()=>MN(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:o.map(s=>l.jsx(U2,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};rm.displayName="MarkerDefinitions";var W2=_.memo(rm);function om({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:u,className:c,...h}){const[d,f]=_.useState({x:1,y:0,width:0,height:0}),g=Se(["react-flow__edge-textwrapper",c]),p=_.useRef(null);return _.useEffect(()=>{if(p.current){const v=p.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:g,visibility:d.width?"visible":"hidden",...h,children:[o&&l.jsx("rect",{width:d.width+2*i[0],x:-i[0],y:-i[1],height:d.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),l.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:p,style:r,children:n}),u]}):null}om.displayName="EdgeText";const V2=_.memo(om);function ga({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:u,interactionWidth:c=20,...h}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...h,d:e,fill:"none",className:Se(["react-flow__edge-path",h.className])}),c?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&xt(t)&&xt(n)?l.jsx(V2,{x:t,y:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:u}):null]})}function Qf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===X.Left||e===X.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function sm({sourceX:e,sourceY:t,sourcePosition:n=X.Bottom,targetX:r,targetY:o,targetPosition:s=X.Top}){const[i,a]=Qf({pos:n,x1:e,y1:t,x2:r,y2:o}),[u,c]=Qf({pos:s,x1:r,y1:o,x2:e,y2:t}),[h,d,f,g]=Ng({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${i},${a} ${u},${c} ${r},${o}`,h,d,f,g]}function im(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:i,targetPosition:a,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:g,style:p,markerEnd:v,markerStart:w,interactionWidth:m})=>{const[x,y,k]=sm({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:s,targetPosition:a}),b=e.isInternal?void 0:t;return l.jsx(ga,{id:b,path:x,labelX:y,labelY:k,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:g,style:p,markerEnd:v,markerStart:w,interactionWidth:m})})}const G2=im({isInternal:!1}),am=im({isInternal:!0});G2.displayName="SimpleBezierEdge";am.displayName="SimpleBezierEdgeInternal";function lm(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:f,sourcePosition:g=X.Bottom,targetPosition:p=X.Top,markerEnd:v,markerStart:w,pathOptions:m,interactionWidth:x})=>{const[y,k,b]=du({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:s,targetPosition:p,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),E=e.isInternal?void 0:t;return l.jsx(ga,{id:E,path:y,labelX:k,labelY:b,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:f,markerEnd:v,markerStart:w,interactionWidth:x})})}const um=lm({isInternal:!1}),cm=lm({isInternal:!0});um.displayName="SmoothStepEdge";cm.displayName="SmoothStepEdgeInternal";function dm(e){return _.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return l.jsx(um,{...n,id:r,pathOptions:_.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const X2=dm({isInternal:!1}),fm=dm({isInternal:!0});X2.displayName="StepEdge";fm.displayName="StepEdgeInternal";function hm(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:p,interactionWidth:v})=>{const[w,m,x]=_g({sourceX:n,sourceY:r,targetX:o,targetY:s}),y=e.isInternal?void 0:t;return l.jsx(ga,{id:y,path:w,labelX:m,labelY:x,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:p,interactionWidth:v})})}const Y2=hm({isInternal:!1}),pm=hm({isInternal:!0});Y2.displayName="StraightEdge";pm.displayName="StraightEdgeInternal";function gm(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:i=X.Bottom,targetPosition:a=X.Top,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:g,style:p,markerEnd:v,markerStart:w,pathOptions:m,interactionWidth:x})=>{const[y,k,b]=Sg({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:s,targetPosition:a,curvature:m==null?void 0:m.curvature}),E=e.isInternal?void 0:t;return l.jsx(ga,{id:E,path:y,labelX:k,labelY:b,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:g,style:p,markerEnd:v,markerStart:w,interactionWidth:x})})}const Q2=gm({isInternal:!1}),mm=gm({isInternal:!0});Q2.displayName="BezierEdge";mm.displayName="BezierEdgeInternal";const Kf={default:mm,straight:pm,step:fm,smoothstep:cm,simplebezier:am},qf={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},K2=(e,t,n)=>n===X.Left?e-t:n===X.Right?e+t:e,q2=(e,t,n)=>n===X.Top?e-t:n===X.Bottom?e+t:e,Zf="react-flow__edgeupdater";function Jf({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:a}){return l.jsx("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:Se([Zf,`${Zf}-${a}`]),cx:K2(t,r,e),cy:q2(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Z2({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:s,targetY:i,sourcePosition:a,targetPosition:u,onReconnect:c,onReconnectStart:h,onReconnectEnd:d,setReconnecting:f,setUpdateHover:g}){const p=ge(),v=(k,b)=>{if(k.button!==0)return;const{autoPanOnConnect:E,domNode:S,isValidConnection:T,connectionMode:D,connectionRadius:R,lib:F,onConnectStart:$,onConnectEnd:L,cancelConnection:N,nodeLookup:M,rfId:C,panBy:I,updateConnection:j}=p.getState(),P=b.type==="target",A=(V,U)=>{f(!1),d==null||d(V,n,b.type,U)},O=V=>c==null?void 0:c(n,V),H=(V,U)=>{f(!0),h==null||h(k,n,b.type),$==null||$(V,U)};pu.onPointerDown(k.nativeEvent,{autoPanOnConnect:E,connectionMode:D,connectionRadius:R,domNode:S,handleId:b.id,nodeId:b.nodeId,nodeLookup:M,isTarget:P,edgeUpdaterType:b.type,lib:F,flowId:C,cancelConnection:N,panBy:I,isValidConnection:T,onConnect:O,onConnectStart:H,onConnectEnd:L,onReconnectEnd:A,updateConnection:j,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},w=k=>v(k,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=k=>v(k,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>g(!0),y=()=>g(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(Jf,{position:a,centerX:r,centerY:o,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&l.jsx(Jf,{position:u,centerX:s,centerY:i,radius:t,onMouseDown:m,onMouseEnter:x,onMouseOut:y,type:"target"})]})}function J2({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:s,onContextMenu:i,onMouseEnter:a,onMouseMove:u,onMouseLeave:c,reconnectRadius:h,onReconnect:d,onReconnectStart:f,onReconnectEnd:g,rfId:p,edgeTypes:v,noPanClassName:w,onError:m,disableKeyboardA11y:x}){let y=se(J=>J.edgeLookup.get(e));const k=se(J=>J.defaultEdgeOptions);y=k?{...k,...y}:y;let b=y.type||"default",E=(v==null?void 0:v[b])||Kf[b];E===void 0&&(m==null||m("011",Rt.error011(b)),b="default",E=(v==null?void 0:v.default)||Kf.default);const S=!!(y.focusable||t&&typeof y.focusable>"u"),T=typeof d<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),D=!!(y.selectable||r&&typeof y.selectable>"u"),R=_.useRef(null),[F,$]=_.useState(!1),[L,N]=_.useState(!1),M=ge(),{zIndex:C,sourceX:I,sourceY:j,targetX:P,targetY:A,sourcePosition:O,targetPosition:H}=se(_.useCallback(J=>{const Z=J.nodeLookup.get(y.source),oe=J.nodeLookup.get(y.target);if(!Z||!oe)return{zIndex:y.zIndex,...qf};const ae=TN({id:e,sourceNode:Z,targetNode:oe,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:J.connectionMode,onError:m});return{zIndex:bN({selected:y.selected,zIndex:y.zIndex,sourceNode:Z,targetNode:oe,elevateOnSelect:J.elevateEdgesOnSelect}),...ae||qf}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),ve),V=_.useMemo(()=>y.markerStart?`url('#${fu(y.markerStart,p)}')`:void 0,[y.markerStart,p]),U=_.useMemo(()=>y.markerEnd?`url('#${fu(y.markerEnd,p)}')`:void 0,[y.markerEnd,p]);if(y.hidden||I===null||j===null||P===null||A===null)return null;const Q=J=>{var he;const{addSelectedEdges:Z,unselectNodesAndEdges:oe,multiSelectionActive:ae}=M.getState();D&&(M.setState({nodesSelectionActive:!1}),y.selected&&ae?(oe({nodes:[],edges:[y]}),(he=R.current)==null||he.blur()):Z([e])),o&&o(J,y)},K=s?J=>{s(J,{...y})}:void 0,Y=i?J=>{i(J,{...y})}:void 0,W=a?J=>{a(J,{...y})}:void 0,q=u?J=>{u(J,{...y})}:void 0,re=c?J=>{c(J,{...y})}:void 0,te=J=>{var Z;if(!x&&ug.includes(J.key)&&D){const{unselectNodesAndEdges:oe,addSelectedEdges:ae}=M.getState();J.key==="Escape"?((Z=R.current)==null||Z.blur(),oe({edges:[y]})):ae([e])}};return l.jsx("svg",{style:{zIndex:C},children:l.jsxs("g",{className:Se(["react-flow__edge",`react-flow__edge-${b}`,y.className,w,{selected:y.selected,animated:y.animated,inactive:!D&&!o,updating:F,selectable:D}]),onClick:Q,onDoubleClick:K,onContextMenu:Y,onMouseEnter:W,onMouseMove:q,onMouseLeave:re,onKeyDown:S?te:void 0,tabIndex:S?0:void 0,role:y.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":S?`${Xg}-${p}`:void 0,ref:R,...y.domAttributes,children:[!L&&l.jsx(E,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:D,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:I,sourceY:j,targetX:P,targetY:A,sourcePosition:O,targetPosition:H,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:V,markerEnd:U,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),T&&l.jsx(Z2,{edge:y,isReconnectable:T,reconnectRadius:h,onReconnect:d,onReconnectStart:f,onReconnectEnd:g,sourceX:I,sourceY:j,targetX:P,targetY:A,sourcePosition:O,targetPosition:H,setUpdateHover:$,setReconnecting:N})]})})}var eE=_.memo(J2);const tE=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ym({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:h,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:g,onReconnectEnd:p,disableKeyboardA11y:v}){const{edgesFocusable:w,edgesReconnectable:m,elementsSelectable:x,onError:y}=se(tE,ve),k=F2(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(W2,{defaultColor:e,rfId:n}),k.map(b=>l.jsx(eE,{id:b,edgesFocusable:w,edgesReconnectable:m,elementsSelectable:x,noPanClassName:o,onReconnect:s,onContextMenu:i,onMouseEnter:a,onMouseMove:u,onMouseLeave:c,onClick:h,reconnectRadius:d,onDoubleClick:f,onReconnectStart:g,onReconnectEnd:p,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:v},b))]})}ym.displayName="EdgeRenderer";const nE=_.memo(ym),rE=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function oE({children:e}){const t=se(rE);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function sE(e){const t=ha(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const iE=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function aE(e){const t=se(iE),n=ge();return _.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function lE(e){return e.connection.inProgress?{...e.connection,to:es(e.connection.to,e.transform)}:{...e.connection}}function uE(e){return lE}function cE(e){const t=uE();return se(t,ve)}const dE=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function fE({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:s,height:i,isValid:a,inProgress:u}=se(dE,ve);return!(s&&o&&u)?null:l.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:Se(["react-flow__connection",fg(a)]),children:l.jsx(xm,{style:t,type:n,CustomComponent:r,isValid:a})})})}const xm=({style:e,type:t=on.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:s,fromNode:i,fromHandle:a,fromPosition:u,to:c,toNode:h,toHandle:d,toPosition:f}=cE();if(!o)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:f,connectionStatus:fg(r),toNode:h,toHandle:d});let g="";const p={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:f};switch(t){case on.Bezier:[g]=Sg(p);break;case on.SimpleBezier:[g]=sm(p);break;case on.Step:[g]=du({...p,borderRadius:0});break;case on.SmoothStep:[g]=du(p);break;default:[g]=_g(p)}return l.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};xm.displayName="ConnectionLine";const hE={};function e0(e=hE){_.useRef(e),ge(),_.useEffect(()=>{},[e])}function pE(){ge(),_.useRef(!1),_.useEffect(()=>{},[])}function vm({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:h,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:g,connectionLineType:p,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:m,selectionKeyCode:x,selectionOnDrag:y,selectionMode:k,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,deleteKeyCode:T,onlyRenderVisibleElements:D,elementsSelectable:R,defaultViewport:F,translateExtent:$,minZoom:L,maxZoom:N,preventScrolling:M,defaultMarkerColor:C,zoomOnScroll:I,zoomOnPinch:j,panOnScroll:P,panOnScrollSpeed:A,panOnScrollMode:O,zoomOnDoubleClick:H,panOnDrag:V,onPaneClick:U,onPaneMouseEnter:Q,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneScroll:W,onPaneContextMenu:q,paneClickDistance:re,nodeClickDistance:te,onEdgeContextMenu:J,onEdgeMouseEnter:Z,onEdgeMouseMove:oe,onEdgeMouseLeave:ae,reconnectRadius:he,onReconnect:Re,onReconnectStart:At,onReconnectEnd:ss,noDragClassName:is,noWheelClassName:as,noPanClassName:Dr,disableKeyboardA11y:zr,nodeExtent:ka,rfId:ls,viewport:Vn,onViewportChange:Fr}){return e0(e),e0(t),pE(),sE(n),aE(Vn),l.jsx(P2,{onPaneClick:U,onPaneMouseEnter:Q,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneContextMenu:q,onPaneScroll:W,paneClickDistance:re,deleteKeyCode:T,selectionKeyCode:x,selectionOnDrag:y,selectionMode:k,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:b,panActivationKeyCode:E,zoomActivationKeyCode:S,elementsSelectable:R,zoomOnScroll:I,zoomOnPinch:j,zoomOnDoubleClick:H,panOnScroll:P,panOnScrollSpeed:A,panOnScrollMode:O,panOnDrag:V,defaultViewport:F,translateExtent:$,minZoom:L,maxZoom:N,onSelectionContextMenu:d,preventScrolling:M,noDragClassName:is,noWheelClassName:as,noPanClassName:Dr,disableKeyboardA11y:zr,onViewportChange:Fr,isControlledViewport:!!Vn,children:l.jsxs(oE,{children:[l.jsx(nE,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:i,onReconnect:Re,onReconnectStart:At,onReconnectEnd:ss,onlyRenderVisibleElements:D,onEdgeContextMenu:J,onEdgeMouseEnter:Z,onEdgeMouseMove:oe,onEdgeMouseLeave:ae,reconnectRadius:he,defaultMarkerColor:C,noPanClassName:Dr,disableKeyboardA11y:zr,rfId:ls}),l.jsx(fE,{style:v,type:p,component:w,containerStyle:m}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(z2,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:h,nodeClickDistance:te,onlyRenderVisibleElements:D,noPanClassName:Dr,noDragClassName:is,disableKeyboardA11y:zr,nodeExtent:ka,rfId:ls}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}vm.displayName="GraphView";const gE=_.memo(vm),t0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:u=.5,maxZoom:c=2,nodeOrigin:h,nodeExtent:d}={})=>{const f=new Map,g=new Map,p=new Map,v=new Map,w=r??t??[],m=n??e??[],x=h??[0,0],y=d??Io;Pg(p,v,w);const k=hu(m,f,g,{nodeOrigin:x,nodeExtent:y,elevateNodesOnSelect:!1});let b=[0,0,1];if(i&&o&&s){const E=Zo(f,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:S,y:T,zoom:D}=Ec(E,o,s,u,c,(a==null?void 0:a.padding)??.1);b=[S,T,D]}return{rfId:"1",width:o??0,height:s??0,transform:b,nodes:m,nodesInitialized:k,nodeLookup:f,parentLookup:g,edges:w,edgeLookup:v,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Io,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Er.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...dg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:mN,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:cg}},mE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:u,maxZoom:c,nodeOrigin:h,nodeExtent:d})=>LS((f,g)=>{async function p(){const{nodeLookup:v,panZoom:w,fitViewOptions:m,fitViewResolver:x,width:y,height:k,minZoom:b,maxZoom:E}=g();w&&(await pN({nodes:v,width:y,height:k,panZoom:w,minZoom:b,maxZoom:E},m),x==null||x.resolve(!0),f({fitViewResolver:null}))}return{...t0({nodes:e,edges:t,width:o,height:s,fitView:i,fitViewOptions:a,minZoom:u,maxZoom:c,nodeOrigin:h,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:v=>{const{nodeLookup:w,parentLookup:m,nodeOrigin:x,elevateNodesOnSelect:y,fitViewQueued:k}=g(),b=hu(v,w,m,{nodeOrigin:x,nodeExtent:d,elevateNodesOnSelect:y,checkEquality:!0});k&&b?(p(),f({nodes:v,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:v,nodesInitialized:b})},setEdges:v=>{const{connectionLookup:w,edgeLookup:m}=g();Pg(w,m,v),f({edges:v})},setDefaultNodesAndEdges:(v,w)=>{if(v){const{setNodes:m}=g();m(v),f({hasDefaultNodes:!0})}if(w){const{setEdges:m}=g();m(w),f({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:w,nodeLookup:m,parentLookup:x,domNode:y,nodeOrigin:k,nodeExtent:b,debug:E,fitViewQueued:S}=g(),{changes:T,updatedInternals:D}=zN(v,m,x,y,k,b);D&&($N(m,x,{nodeOrigin:k,nodeExtent:b}),S?(p(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(T==null?void 0:T.length)>0&&(E&&console.log("React Flow: trigger node changes",T),w==null||w(T)))},updateNodePositions:(v,w=!1)=>{const m=[],x=[],{nodeLookup:y,triggerNodeChanges:k}=g();for(const[b,E]of v){const S=y.get(b),T=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(E!=null&&E.position)),D={id:b,type:"position",position:T?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:w};T&&S.parentId&&m.push({id:b,parentId:S.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),x.push(D)}if(m.length>0){const{parentLookup:b,nodeOrigin:E}=g(),S=Tc(m,y,b,E);x.push(...S)}k(x)},triggerNodeChanges:v=>{const{onNodesChange:w,setNodes:m,nodes:x,hasDefaultNodes:y,debug:k}=g();if(v!=null&&v.length){if(y){const b=JS(v,x);m(b)}k&&console.log("React Flow: trigger node changes",v),w==null||w(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:w,setEdges:m,edges:x,hasDefaultEdges:y,debug:k}=g();if(v!=null&&v.length){if(y){const b=e2(v,x);m(b)}k&&console.log("React Flow: trigger edge changes",v),w==null||w(v)}},addSelectedNodes:v=>{const{multiSelectionActive:w,edgeLookup:m,nodeLookup:x,triggerNodeChanges:y,triggerEdgeChanges:k}=g();if(w){const b=v.map(E=>Nn(E,!0));y(b);return}y(ar(x,new Set([...v]),!0)),k(ar(m))},addSelectedEdges:v=>{const{multiSelectionActive:w,edgeLookup:m,nodeLookup:x,triggerNodeChanges:y,triggerEdgeChanges:k}=g();if(w){const b=v.map(E=>Nn(E,!0));k(b);return}k(ar(m,new Set([...v]))),y(ar(x,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:w}={})=>{const{edges:m,nodes:x,nodeLookup:y,triggerNodeChanges:k,triggerEdgeChanges:b}=g(),E=v||x,S=w||m,T=E.map(R=>{const F=y.get(R.id);return F&&(F.selected=!1),Nn(R.id,!1)}),D=S.map(R=>Nn(R.id,!1));k(T),b(D)},setMinZoom:v=>{const{panZoom:w,maxZoom:m}=g();w==null||w.setScaleExtent([v,m]),f({minZoom:v})},setMaxZoom:v=>{const{panZoom:w,minZoom:m}=g();w==null||w.setScaleExtent([m,v]),f({maxZoom:v})},setTranslateExtent:v=>{var w;(w=g().panZoom)==null||w.setTranslateExtent(v),f({translateExtent:v})},setPaneClickDistance:v=>{var w;(w=g().panZoom)==null||w.setClickDistance(v)},resetSelectedElements:()=>{const{edges:v,nodes:w,triggerNodeChanges:m,triggerEdgeChanges:x,elementsSelectable:y}=g();if(!y)return;const k=w.reduce((E,S)=>S.selected?[...E,Nn(S.id,!1)]:E,[]),b=v.reduce((E,S)=>S.selected?[...E,Nn(S.id,!1)]:E,[]);m(k),x(b)},setNodeExtent:v=>{const{nodes:w,nodeLookup:m,parentLookup:x,nodeOrigin:y,elevateNodesOnSelect:k,nodeExtent:b}=g();v[0][0]===b[0][0]&&v[0][1]===b[0][1]&&v[1][0]===b[1][0]&&v[1][1]===b[1][1]||(hu(w,m,x,{nodeOrigin:y,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1}),f({nodeExtent:v}))},panBy:v=>{const{transform:w,width:m,height:x,panZoom:y,translateExtent:k}=g();return FN({delta:v,panZoom:y,transform:w,translateExtent:k,width:m,height:x})},setCenter:async(v,w,m)=>{const{width:x,height:y,maxZoom:k,panZoom:b}=g();if(!b)return Promise.resolve(!1);const E=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:k;return await b.setViewport({x:x/2-v*E,y:y/2-w*E,zoom:E},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...dg}})},updateConnection:v=>{f({connection:v})},reset:()=>f({...t0()})}},Object.is);function wm({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:s,initialMinZoom:i,initialMaxZoom:a,initialFitViewOptions:u,fitView:c,nodeOrigin:h,nodeExtent:d,children:f}){const[g]=_.useState(()=>mE({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:c,minZoom:i,maxZoom:a,fitViewOptions:u,nodeOrigin:h,nodeExtent:d}));return l.jsx(RS,{value:g,children:l.jsx(o2,{children:f})})}function yE({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:s,height:i,fitView:a,fitViewOptions:u,minZoom:c,maxZoom:h,nodeOrigin:d,nodeExtent:f}){return _.useContext(da)?l.jsx(l.Fragment,{children:e}):l.jsx(wm,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:s,initialHeight:i,fitView:a,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:h,nodeOrigin:d,nodeExtent:f,children:e})}const xE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function vE({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s,edgeTypes:i,onNodeClick:a,onEdgeClick:u,onInit:c,onMove:h,onMoveStart:d,onMoveEnd:f,onConnect:g,onConnectStart:p,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:k,onNodeContextMenu:b,onNodeDoubleClick:E,onNodeDragStart:S,onNodeDrag:T,onNodeDragStop:D,onNodesDelete:R,onEdgesDelete:F,onDelete:$,onSelectionChange:L,onSelectionDragStart:N,onSelectionDrag:M,onSelectionDragStop:C,onSelectionContextMenu:I,onSelectionStart:j,onSelectionEnd:P,onBeforeDelete:A,connectionMode:O,connectionLineType:H=on.Bezier,connectionLineStyle:V,connectionLineComponent:U,connectionLineContainerStyle:Q,deleteKeyCode:K="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:W=!1,selectionMode:q=Do.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:te=Oo()?"Meta":"Control",zoomActivationKeyCode:J=Oo()?"Meta":"Control",snapToGrid:Z,snapGrid:oe,onlyRenderVisibleElements:ae=!1,selectNodesOnDrag:he,nodesDraggable:Re,autoPanOnNodeFocus:At,nodesConnectable:ss,nodesFocusable:is,nodeOrigin:as=Yg,edgesFocusable:Dr,edgesReconnectable:zr,elementsSelectable:ka=!0,defaultViewport:ls=GS,minZoom:Vn=.5,maxZoom:Fr=2,translateExtent:Ic=Io,preventScrolling:ty=!0,nodeExtent:ba,defaultMarkerColor:ny="#b1b1b7",zoomOnScroll:ry=!0,zoomOnPinch:oy=!0,panOnScroll:sy=!1,panOnScrollSpeed:iy=.5,panOnScrollMode:ay=Ln.Free,zoomOnDoubleClick:ly=!0,panOnDrag:uy=!0,onPaneClick:cy,onPaneMouseEnter:dy,onPaneMouseMove:fy,onPaneMouseLeave:hy,onPaneScroll:py,onPaneContextMenu:gy,paneClickDistance:Dc=0,nodeClickDistance:my=0,children:yy,onReconnect:xy,onReconnectStart:vy,onReconnectEnd:wy,onEdgeContextMenu:ky,onEdgeDoubleClick:by,onEdgeMouseEnter:Ny,onEdgeMouseMove:Sy,onEdgeMouseLeave:Ey,reconnectRadius:_y=10,onNodesChange:jy,onEdgesChange:Cy,noDragClassName:Py="nodrag",noWheelClassName:Ty="nowheel",noPanClassName:zc="nopan",fitView:Fc,fitViewOptions:Oc,connectOnClick:My,attributionPosition:Ly,proOptions:Ry,defaultEdgeOptions:$y,elevateNodesOnSelect:Ay,elevateEdgesOnSelect:Iy,disableKeyboardA11y:Hc=!1,autoPanOnConnect:Dy,autoPanOnNodeDrag:zy,autoPanSpeed:Fy,connectionRadius:Oy,isValidConnection:Hy,onError:By,style:Uy,id:Bc,nodeDragThreshold:Wy,connectionDragThreshold:Vy,viewport:Gy,onViewportChange:Xy,width:Yy,height:Qy,colorMode:Ky="light",debug:qy,onScroll:us,ariaLabelConfig:Zy,...Jy},ex){const Na=Bc||"1",tx=KS(Ky),nx=_.useCallback(Uc=>{Uc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),us==null||us(Uc)},[us]);return l.jsx("div",{"data-testid":"rf__wrapper",...Jy,onScroll:nx,style:{...Uy,...xE},ref:ex,className:Se(["react-flow",o,tx]),id:Bc,role:"application",children:l.jsxs(yE,{nodes:e,edges:t,width:Yy,height:Qy,fitView:Fc,fitViewOptions:Oc,minZoom:Vn,maxZoom:Fr,nodeOrigin:as,nodeExtent:ba,children:[l.jsx(gE,{onInit:c,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:k,onNodeContextMenu:b,onNodeDoubleClick:E,nodeTypes:s,edgeTypes:i,connectionLineType:H,connectionLineStyle:V,connectionLineComponent:U,connectionLineContainerStyle:Q,selectionKeyCode:Y,selectionOnDrag:W,selectionMode:q,deleteKeyCode:K,multiSelectionKeyCode:te,panActivationKeyCode:re,zoomActivationKeyCode:J,onlyRenderVisibleElements:ae,defaultViewport:ls,translateExtent:Ic,minZoom:Vn,maxZoom:Fr,preventScrolling:ty,zoomOnScroll:ry,zoomOnPinch:oy,zoomOnDoubleClick:ly,panOnScroll:sy,panOnScrollSpeed:iy,panOnScrollMode:ay,panOnDrag:uy,onPaneClick:cy,onPaneMouseEnter:dy,onPaneMouseMove:fy,onPaneMouseLeave:hy,onPaneScroll:py,onPaneContextMenu:gy,paneClickDistance:Dc,nodeClickDistance:my,onSelectionContextMenu:I,onSelectionStart:j,onSelectionEnd:P,onReconnect:xy,onReconnectStart:vy,onReconnectEnd:wy,onEdgeContextMenu:ky,onEdgeDoubleClick:by,onEdgeMouseEnter:Ny,onEdgeMouseMove:Sy,onEdgeMouseLeave:Ey,reconnectRadius:_y,defaultMarkerColor:ny,noDragClassName:Py,noWheelClassName:Ty,noPanClassName:zc,rfId:Na,disableKeyboardA11y:Hc,nodeExtent:ba,viewport:Gy,onViewportChange:Xy}),l.jsx(QS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:p,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:Re,autoPanOnNodeFocus:At,nodesConnectable:ss,nodesFocusable:is,edgesFocusable:Dr,edgesReconnectable:zr,elementsSelectable:ka,elevateNodesOnSelect:Ay,elevateEdgesOnSelect:Iy,minZoom:Vn,maxZoom:Fr,nodeExtent:ba,onNodesChange:jy,onEdgesChange:Cy,snapToGrid:Z,snapGrid:oe,connectionMode:O,translateExtent:Ic,connectOnClick:My,defaultEdgeOptions:$y,fitView:Fc,fitViewOptions:Oc,onNodesDelete:R,onEdgesDelete:F,onDelete:$,onNodeDragStart:S,onNodeDrag:T,onNodeDragStop:D,onSelectionDrag:M,onSelectionDragStart:N,onSelectionDragStop:C,onMove:h,onMoveStart:d,onMoveEnd:f,noPanClassName:zc,nodeOrigin:as,rfId:Na,autoPanOnConnect:Dy,autoPanOnNodeDrag:zy,autoPanSpeed:Fy,onError:By,connectionRadius:Oy,isValidConnection:Hy,selectNodesOnDrag:he,nodeDragThreshold:Wy,connectionDragThreshold:Vy,onBeforeDelete:A,paneClickDistance:Dc,debug:qy,ariaLabelConfig:Zy}),l.jsx(VS,{onSelectionChange:L}),yy,l.jsx(OS,{proOptions:Ry,position:Ly}),l.jsx(FS,{rfId:Na,disableKeyboardA11y:Hc})]})})}var wE=Kg(vE);function kE({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Se(["react-flow__background-pattern",n,r])})}function bE({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:Se(["react-flow__background-pattern","dots",t])})}var Ut;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ut||(Ut={}));const NE={[Ut.Dots]:1,[Ut.Lines]:1,[Ut.Cross]:6},SE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function km({id:e,variant:t=Ut.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=0,color:i,bgColor:a,style:u,className:c,patternClassName:h}){const d=_.useRef(null),{transform:f,patternId:g}=se(SE,ve),p=r||NE[t],v=t===Ut.Dots,w=t===Ut.Cross,m=Array.isArray(n)?n:[n,n],x=[m[0]*f[2]||1,m[1]*f[2]||1],y=p*f[2],k=Array.isArray(s)?s:[s,s],b=w?[y,y]:x,E=[k[0]*f[2]||1+b[0]/2,k[1]*f[2]||1+b[1]/2],S=`${g}${e||""}`;return l.jsxs("svg",{className:Se(["react-flow__background",c]),style:{...u,...pa,"--xy-background-color-props":a,"--xy-background-pattern-color-props":i},ref:d,"data-testid":"rf__background",children:[l.jsx("pattern",{id:S,x:f[0]%x[0],y:f[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:v?l.jsx(bE,{radius:y/2,className:h}):l.jsx(kE,{dimensions:b,lineWidth:o,variant:t,className:h})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}km.displayName="Background";const EE=_.memo(km);function _E(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function jE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function CE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function PE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function TE(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Is({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:Se(["react-flow__controls-button",t]),...n,children:e})}const ME=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function bm({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:a,onInteractiveChange:u,className:c,children:h,position:d="bottom-left",orientation:f="vertical","aria-label":g}){const p=ge(),{isInteractive:v,minZoomReached:w,maxZoomReached:m,ariaLabelConfig:x}=se(ME,ve),{zoomIn:y,zoomOut:k,fitView:b}=ha(),E=()=>{y(),s==null||s()},S=()=>{k(),i==null||i()},T=()=>{b(o),a==null||a()},D=()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),u==null||u(!v)},R=f==="horizontal"?"horizontal":"vertical";return l.jsxs(fa,{className:Se(["react-flow__controls",R,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":g??x["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(Is,{onClick:E,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:m,children:l.jsx(_E,{})}),l.jsx(Is,{onClick:S,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:w,children:l.jsx(jE,{})})]}),n&&l.jsx(Is,{className:"react-flow__controls-fitview",onClick:T,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:l.jsx(CE,{})}),r&&l.jsx(Is,{className:"react-flow__controls-interactive",onClick:D,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:v?l.jsx(TE,{}):l.jsx(PE,{})}),h]})}bm.displayName="Controls";const LE=_.memo(bm);function RE({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:a,strokeWidth:u,className:c,borderRadius:h,shapeRendering:d,selected:f,onClick:g}){const{background:p,backgroundColor:v}=s||{},w=i||p||v;return l.jsx("rect",{className:Se(["react-flow__minimap-node",{selected:f},c]),x:t,y:n,rx:h,ry:h,width:r,height:o,style:{fill:w,stroke:a,strokeWidth:u},shapeRendering:d,onClick:g?m=>g(m,e):void 0})}const $E=_.memo(RE),AE=e=>e.nodes.map(t=>t.id),sl=e=>e instanceof Function?e:()=>e;function IE({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:s=$E,onClick:i}){const a=se(AE,ve),u=sl(t),c=sl(e),h=sl(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:a.map(f=>l.jsx(zE,{id:f,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:s,onClick:i,shapeRendering:d},f))})}function DE({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:a,onClick:u}){const{node:c,x:h,y:d,width:f,height:g}=se(p=>{const{internals:v}=p.nodeLookup.get(e),w=v.userNode,{x:m,y:x}=v.positionAbsolute,{width:y,height:k}=Kt(w);return{node:w,x:m,y:x,width:y,height:k}},ve);return!c||c.hidden||!xg(c)?null:l.jsx(a,{x:h,y:d,width:f,height:g,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:o,strokeColor:n(c),strokeWidth:s,shapeRendering:i,onClick:u,id:c.id})}const zE=_.memo(DE);var FE=_.memo(IE);const OE=200,HE=150,BE=e=>!e.hidden,UE=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?yg(Zo(e.nodeLookup,{filter:BE}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},WE="react-flow__minimap-desc";function Nm({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:a,bgColor:u,maskColor:c,maskStrokeColor:h,maskStrokeWidth:d,position:f="bottom-right",onClick:g,onNodeClick:p,pannable:v=!1,zoomable:w=!1,ariaLabel:m,inversePan:x,zoomStep:y=1,offsetScale:k=5}){const b=ge(),E=_.useRef(null),{boundingRect:S,viewBB:T,rfId:D,panZoom:R,translateExtent:F,flowWidth:$,flowHeight:L,ariaLabelConfig:N}=se(UE,ve),M=(e==null?void 0:e.width)??OE,C=(e==null?void 0:e.height)??HE,I=S.width/M,j=S.height/C,P=Math.max(I,j),A=P*M,O=P*C,H=k*P,V=S.x-(A-S.width)/2-H,U=S.y-(O-S.height)/2-H,Q=A+H*2,K=O+H*2,Y=`${WE}-${D}`,W=_.useRef(0),q=_.useRef();W.current=P,_.useEffect(()=>{if(E.current&&R)return q.current=YN({domNode:E.current,panZoom:R,getTransform:()=>b.getState().transform,getViewScale:()=>W.current}),()=>{var Z;(Z=q.current)==null||Z.destroy()}},[R]),_.useEffect(()=>{var Z;(Z=q.current)==null||Z.update({translateExtent:F,width:$,height:L,inversePan:x,pannable:v,zoomStep:y,zoomable:w})},[v,w,x,y,F,$,L]);const re=g?Z=>{var he;const[oe,ae]=((he=q.current)==null?void 0:he.pointer(Z))||[0,0];g(Z,{x:oe,y:ae})}:void 0,te=p?_.useCallback((Z,oe)=>{const ae=b.getState().nodeLookup.get(oe).internals.userNode;p(Z,ae)},[]):void 0,J=m??N["minimap.ariaLabel"];return l.jsx(fa,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*P:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Se(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:M,height:C,viewBox:`${V} ${U} ${Q} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Y,ref:E,onClick:re,children:[J&&l.jsx("title",{id:Y,children:J}),l.jsx(FE,{onClick:te,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:a}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${V-H},${U-H}h${Q+H*2}v${K+H*2}h${-Q-H*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Nm.displayName="MiniMap";const VE=_.memo(Nm),GE=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,XE={[Pr.Line]:"right",[Pr.Handle]:"bottom-right"};function YE({nodeId:e,position:t,variant:n=Pr.Handle,className:r,style:o=void 0,children:s,color:i,minWidth:a=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:g=!0,shouldResize:p,onResizeStart:v,onResize:w,onResizeEnd:m}){const x=em(),y=typeof e=="string"?e:x,k=ge(),b=_.useRef(null),E=n===Pr.Handle,S=se(_.useCallback(GE(E&&g),[E,g]),ve),T=_.useRef(null),D=t??XE[n];_.useEffect(()=>{if(!(!b.current||!y))return T.current||(T.current=lS({domNode:b.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:F,transform:$,snapGrid:L,snapToGrid:N,nodeOrigin:M,domNode:C}=k.getState();return{nodeLookup:F,transform:$,snapGrid:L,snapToGrid:N,nodeOrigin:M,paneDomNode:C}},onChange:(F,$)=>{const{triggerNodeChanges:L,nodeLookup:N,parentLookup:M,nodeOrigin:C}=k.getState(),I=[],j={x:F.x,y:F.y},P=N.get(y);if(P&&P.expandParent&&P.parentId){const A=P.origin??C,O=F.width??P.measured.width??0,H=F.height??P.measured.height??0,V={id:P.id,parentId:P.parentId,rect:{width:O,height:H,...vg({x:F.x??P.position.x,y:F.y??P.position.y},{width:O,height:H},P.parentId,N,A)}},U=Tc([V],N,M,C);I.push(...U),j.x=F.x?Math.max(A[0]*O,F.x):void 0,j.y=F.y?Math.max(A[1]*H,F.y):void 0}if(j.x!==void 0&&j.y!==void 0){const A={id:y,type:"position",position:{...j}};I.push(A)}if(F.width!==void 0&&F.height!==void 0){const O={id:y,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:F.width,height:F.height}};I.push(O)}for(const A of $){const O={...A,type:"position"};I.push(O)}L(I)},onEnd:({width:F,height:$})=>{const L={id:y,type:"dimensions",resizing:!1,dimensions:{width:F,height:$}};k.getState().triggerNodeChanges([L])}})),T.current.update({controlPosition:D,boundaries:{minWidth:a,minHeight:u,maxWidth:c,maxHeight:h},keepAspectRatio:d,resizeDirection:f,onResizeStart:v,onResize:w,onResizeEnd:m,shouldResize:p}),()=>{var F;(F=T.current)==null||F.destroy()}},[D,a,u,c,h,d,v,w,m,p]);const R=D.split("-");return l.jsx("div",{className:Se(["react-flow__resize-control","nodrag",...R,n,r]),ref:b,style:{...o,scale:S,...i&&{[E?"backgroundColor":"borderColor"]:i}},children:s})}_.memo(YE);const Sm={},{useDebugValue:QE}=Eu,{useSyncExternalStoreWithSelector:KE}=Bg;let n0=!1;const qE=e=>e;function ZE(e,t=qE,n){(Sm?"production":void 0)!=="production"&&n&&!n0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),n0=!0);const r=KE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return QE(r),r}const r0=e=>{(Sm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ug(e):e,n=(r,o)=>ZE(t,r,o);return Object.assign(n,t),n},Lc=e=>e?r0(e):r0,JE={};function e_(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var s;const i=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(o))!=null?s:null;return a instanceof Promise?a.then(i):i(a)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Uo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Uo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Uo(r)(n)}}}},t_=(e,t)=>(n,r,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},i=!1;const a=new Set,u=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,o);const h=Uo(s.serialize),d=()=>{const w=s.partialize({...r()});let m;const x=h({state:w,version:s.version}).then(y=>c.setItem(s.name,y)).catch(y=>{m=y});if(m)throw m;return x},f=o.setState;o.setState=(w,m)=>{f(w,m),d()};const g=e((...w)=>{n(...w),d()},r,o);let p;const v=()=>{var w;if(!c)return;i=!1,a.forEach(x=>x(r()));const m=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return Uo(c.getItem.bind(c))(s.name).then(x=>{if(x)return s.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return s.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return p=s.merge(x,(y=r())!=null?y:g),n(p,!0),d()}).then(()=>{m==null||m(p,void 0),i=!0,u.forEach(x=>x(p))}).catch(x=>{m==null||m(void 0,x)})};return o.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},v(),p||g},n_=(e,t)=>(n,r,o)=>{let s={storage:e_(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},i=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,o);const h=()=>{const v=s.partialize({...r()});return c.setItem(s.name,{state:v,version:s.version})},d=o.setState;o.setState=(v,w)=>{d(v,w),h()};const f=e((...v)=>{n(...v),h()},r,o);o.getInitialState=()=>f;let g;const p=()=>{var v,w;if(!c)return;i=!1,a.forEach(x=>{var y;return x((y=r())!=null?y:f)});const m=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(v=r())!=null?v:f))||void 0;return Uo(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[k,b]=x;if(g=s.merge(b,(y=r())!=null?y:f),n(g,!0),k)return h()}).then(()=>{m==null||m(g,void 0),g=r(),i=!0,u.forEach(x=>x(g))}).catch(x=>{m==null||m(void 0,x)})};return o.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},s.skipHydration||p(),g||f},r_=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((JE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),t_(e,t)):n_(e,t),Em=r_;var _m=(e=>(e.IDLE="idle",e.RUNNING="running",e.COMPLETED="completed",e.ERROR="error",e.PAUSED="paused",e))(_m||{});const Ge=Lc()(Em((e,t)=>({currentWorkflow:null,workflows:[],nodes:[],edges:[],selectedNode:null,execution:null,isExecuting:!1,nodeDefinitions:[],viewMode:"workflow",activeNodeInSingleMode:null,setCurrentWorkflow:n=>{e({currentWorkflow:n}),n&&e({nodes:n.nodes,edges:n.edges})},setNodes:n=>{e({nodes:n});const{currentWorkflow:r}=t();r&&e({currentWorkflow:{...r,nodes:n,updated_at:new Date().toISOString()}})},setEdges:n=>{e({edges:n});const{currentWorkflow:r}=t();r&&e({currentWorkflow:{...r,edges:n,updated_at:new Date().toISOString()}})},addNode:n=>{const{nodes:r}=t();e({nodes:[...r,n]});const{currentWorkflow:o}=t();o&&e({currentWorkflow:{...o,nodes:[...r,n],updated_at:new Date().toISOString()}})},updateNode:(n,r)=>{const{nodes:o}=t(),s=o.map(u=>u.id===n?{...u,...r}:u);e({nodes:s});const{selectedNode:i}=t();i&&i.id===n&&e({selectedNode:{...i,...r}});const{currentWorkflow:a}=t();a&&e({currentWorkflow:{...a,nodes:s,updated_at:new Date().toISOString()}})},removeNode:n=>{const{nodes:r,edges:o}=t(),s=r.filter(c=>c.id!==n),i=o.filter(c=>c.source!==n&&c.target!==n);e({nodes:s,edges:i});const{selectedNode:a}=t();a&&a.id===n&&e({selectedNode:null});const{currentWorkflow:u}=t();u&&e({currentWorkflow:{...u,nodes:s,edges:i,updated_at:new Date().toISOString()}})},addEdge:n=>{const{edges:r}=t();e({edges:[...r,n]});const{currentWorkflow:o}=t();o&&e({currentWorkflow:{...o,edges:[...r,n],updated_at:new Date().toISOString()}})},removeEdge:n=>{const{edges:r}=t(),o=r.filter(i=>i.id!==n);e({edges:o});const{currentWorkflow:s}=t();s&&e({currentWorkflow:{...s,edges:o,updated_at:new Date().toISOString()}})},setSelectedNode:n=>{e({selectedNode:n})},setExecution:n=>{e({execution:n})},setIsExecuting:n=>{e({isExecuting:n})},updateNodeStatus:(n,r,o=0,s="")=>{const{nodes:i}=t(),a=i.map(c=>c.id===n?{...c,status:r,progress:o,message:s}:c);e({nodes:a});const{selectedNode:u}=t();u&&u.id===n&&e({selectedNode:{...u,status:r,progress:o,message:s}})},setNodeDefinitions:n=>{e({nodeDefinitions:n})},saveWorkflow:async()=>{const{currentWorkflow:n}=t();if(n)try{console.log("Saving workflow:",n)}catch(r){console.error("Failed to save workflow:",r)}},loadWorkflow:async n=>{try{console.log("Loading workflow:",n)}catch(r){console.error("Failed to load workflow:",r)}},createNewWorkflow:()=>{const n={id:"",name:"New Workflow",description:"",nodes:[],edges:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0"};e({currentWorkflow:n,nodes:[],edges:[],selectedNode:null})},saveWorkflowToFile:async()=>{const{currentWorkflow:n}=t();if(n)try{const r=JSON.stringify(n,null,2);if(globalThis.electronAPI){const o=await globalThis.electronAPI.showSaveDialog({title:"Save Workflow",defaultPath:`${n.name||"workflow"}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});!o.canceled&&o.filePath&&(await globalThis.electronAPI.writeFile(o.filePath,r),console.log("Workflow saved to:",o.filePath))}else{const o=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(o),i=document.createElement("a");i.href=s,i.download=`${n.name||"workflow"}.json`,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(s)}}catch(r){console.error("Failed to save workflow to file:",r)}},loadWorkflowFromFile:async()=>{try{let n;if(globalThis.electronAPI){const r=await globalThis.electronAPI.showOpenDialog({title:"Load Workflow",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(!r.canceled&&r.filePaths.length>0)n=await globalThis.electronAPI.readFile(r.filePaths[0]);else return}else return new Promise(r=>{const o=document.createElement("input");o.type="file",o.accept=".json",o.onchange=async s=>{var a;const i=(a=s.target.files)==null?void 0:a[0];i&&(n=await i.text(),r(n))},o.click()});if(n){const r=JSON.parse(n);e({currentWorkflow:r,nodes:r.nodes,edges:r.edges,selectedNode:null}),console.log("Workflow loaded from file")}}catch(n){console.error("Failed to load workflow from file:",n)}},exportWorkflow:async()=>{const{currentWorkflow:n}=t();return n?JSON.stringify(n,null,2):""},importWorkflow:async n=>{try{const r=JSON.parse(n);e({currentWorkflow:r,nodes:r.nodes,edges:r.edges,selectedNode:null}),console.log("Workflow imported successfully")}catch(r){throw console.error("Failed to import workflow:",r),r}},loadTemplate:async n=>{try{const o={"basic-face-swap":{id:"",name:"Basic Face Swap",description:"A simple face swap workflow with video input, face extraction, training, and output",nodes:[{id:"video-input-1",type:"video_input",position:{x:100,y:100},parameters:{input_file:"",output_dir:"",fps:0,output_ext:"png"},status:"idle",progress:0,message:"",inputs:{},outputs:{video_frames:null}},{id:"extract-faces-1",type:"extract_faces",position:{x:300,y:100},parameters:{detector:"s3fd",face_type:"full_face",image_size:512},status:"idle",progress:0,message:"",inputs:{video:null},outputs:{faces:null}},{id:"train-model-1",type:"train_model",position:{x:500,y:100},parameters:{model_type:"SAEHD",batch_size:4,resolution:256},status:"idle",progress:0,message:"",inputs:{src_faces:null,dst_faces:null},outputs:{model:null}},{id:"merge-faces-1",type:"merge_faces",position:{x:700,y:100},parameters:{face_enhancer:"none",color_transfer:"none"},status:"idle",progress:0,message:"",inputs:{model:null,dst_video:null,dst_faces:null},outputs:{merged_video:null}},{id:"video-output-1",type:"video_output",position:{x:900,y:100},parameters:{input_dir:"",output_file:"",ext:"png",include_audio:!0},status:"idle",progress:0,message:"",inputs:{image_sequence:null},outputs:{output_video:null}}],edges:[{id:"edge-1",source:"video-input-1",target:"extract-faces-1",sourceHandle:"video_frames",targetHandle:"images"},{id:"edge-2",source:"extract-faces-1",target:"train-model-1",sourceHandle:"faces",targetHandle:"src_faces"},{id:"edge-3",source:"train-model-1",target:"merge-faces-1",sourceHandle:"model",targetHandle:"model"},{id:"edge-4",source:"merge-faces-1",target:"video-output-1",sourceHandle:"merged_images",targetHandle:"image_sequence"}],created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0"}}[n];if(o)e({currentWorkflow:o,nodes:o.nodes,edges:o.edges,selectedNode:null}),console.log(`Template '${n}' loaded successfully`);else throw new Error(`Template '${n}' not found`)}catch(r){throw console.error("Failed to load template:",r),r}},saveAsTemplate:async n=>{const{currentWorkflow:r}=t();if(r)try{const o=JSON.parse(localStorage.getItem("workflow-templates")||"{}");o[n]={...r,name:n,id:`template-${n}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},localStorage.setItem("workflow-templates",JSON.stringify(o)),console.log(`Template '${n}' saved successfully`)}catch(o){throw console.error("Failed to save template:",o),o}},setViewMode:n=>{e({viewMode:n})},setActiveNodeInSingleMode:n=>{e({activeNodeInSingleMode:n})},createNodeForSingleMode:n=>{const o={id:`single-node-${Date.now()}`,type:n,position:{x:0,y:0},parameters:{},status:_m.IDLE,progress:0,message:"",inputs:{},outputs:{}};e({activeNodeInSingleMode:o})}}),{name:"workflow-store",partialize:e=>({workflows:e.workflows,nodeDefinitions:e.nodeDefinitions})})),o_=({data:e,selected:t})=>{const n=i=>{switch(i){case"idle":return"border-gray-300 bg-gray-50";case"running":return"border-blue-400 bg-blue-50";case"completed":return"border-green-400 bg-green-50";case"error":return"border-red-400 bg-red-50";case"paused":return"border-yellow-400 bg-yellow-50";default:return"border-gray-300 bg-gray-50"}},r=i=>{switch(i){case"idle":return"⏸️";case"running":return"▶️";case"completed":return"✅";case"error":return"❌";case"paused":return"⏸️";default:return"⏸️"}},o=i=>{switch(i){case"video_input":return"🎥";case"image_input":return"🖼️";case"extract_faces":return"👤";case"train_model":return"🧠";case"merge_faces":return"🔄";case"video_output":return"📹";case"image_output":return"🖼️";case"xseg_editor":return"✂️";case"denoise":return"🔧";case"enhance_faces":return"✨";default:return"📦"}},s=i=>{switch(i){case"video_input":return"Video Input";case"image_input":return"Image Input";case"extract_faces":return"Extract Faces";case"train_model":return"Train Model";case"merge_faces":return"Merge Faces";case"video_output":return"Video Output";case"image_output":return"Image Output";case"xseg_editor":return"XSeg Editor";case"denoise":return"Denoise";case"enhance_faces":return"Enhance Faces";default:return"Unknown Node"}};return l.jsxs("div",{className:`min-w-[200px] rounded-lg border-2 p-3 shadow-sm transition-all ${t?"ring-2 ring-blue-500":""} ${n(e.status)}`,onClick:()=>{var i;return(i=e.onSelect)==null?void 0:i.call(e)},children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-lg",children:o(e.type)}),l.jsx("span",{className:"font-medium text-sm",children:s(e.type)})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"text-xs",children:r(e.status)}),e.progress>0&&l.jsxs("span",{className:"text-xs text-gray-600",children:[Math.round(e.progress),"%"]})]})]}),e.status==="running"&&e.progress>0&&l.jsx("div",{className:"mb-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})}),e.message&&l.jsx("div",{className:"text-xs text-gray-600 mb-2 truncate",title:e.message,children:e.message}),e.type!=="video_input"&&e.type!=="image_input"&&l.jsx(je,{type:"target",position:X.Left,id:"input",className:"w-3 h-3 bg-blue-500 border-2 border-white"}),e.type!=="video_output"&&e.type!=="image_output"&&l.jsx(je,{type:"source",position:X.Right,id:"output",className:"w-3 h-3 bg-green-500 border-2 border-white"}),e.type==="extract_faces"&&l.jsxs(l.Fragment,{children:[l.jsx(je,{type:"target",position:X.Left,id:"video",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"30%"}}),l.jsx(je,{type:"target",position:X.Left,id:"images",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"70%"}}),l.jsx(je,{type:"source",position:X.Right,id:"faces",className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),e.type==="train_model"&&l.jsxs(l.Fragment,{children:[l.jsx(je,{type:"target",position:X.Left,id:"src_faces",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"30%"}}),l.jsx(je,{type:"target",position:X.Left,id:"dst_faces",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"70%"}}),l.jsx(je,{type:"source",position:X.Right,id:"model",className:"w-3 h-3 bg-green-500 border-2 border-white"})]}),e.type==="merge_faces"&&l.jsxs(l.Fragment,{children:[l.jsx(je,{type:"target",position:X.Left,id:"model",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"20%"}}),l.jsx(je,{type:"target",position:X.Left,id:"dst_video",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"40%"}}),l.jsx(je,{type:"target",position:X.Left,id:"dst_faces",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"60%"}}),l.jsx(je,{type:"target",position:X.Left,id:"mask",className:"w-3 h-3 bg-blue-500 border-2 border-white",style:{top:"80%"}}),l.jsx(je,{type:"source",position:X.Right,id:"merged_video",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:"30%"}}),l.jsx(je,{type:"source",position:X.Right,id:"merged_images",className:"w-3 h-3 bg-green-500 border-2 border-white",style:{top:"70%"}})]})]})};function jm(e,t){return function(){return e.apply(t,arguments)}}const{toString:s_}=Object.prototype,{getPrototypeOf:Rc}=Object,{iterator:ma,toStringTag:Cm}=Symbol,ya=(e=>t=>{const n=s_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),St=e=>(e=e.toLowerCase(),t=>ya(t)===e),xa=e=>t=>typeof t===e,{isArray:Ar}=Array,Mr=xa("undefined");function ts(e){return e!==null&&!Mr(e)&&e.constructor!==null&&!Mr(e.constructor)&&Ke(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pm=St("ArrayBuffer");function i_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pm(e.buffer),t}const a_=xa("string"),Ke=xa("function"),Tm=xa("number"),ns=e=>e!==null&&typeof e=="object",l_=e=>e===!0||e===!1,ti=e=>{if(ya(e)!=="object")return!1;const t=Rc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cm in e)&&!(ma in e)},u_=e=>{if(!ns(e)||ts(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},c_=St("Date"),d_=St("File"),f_=St("Blob"),h_=St("FileList"),p_=e=>ns(e)&&Ke(e.pipe),g_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ke(e.append)&&((t=ya(e))==="formdata"||t==="object"&&Ke(e.toString)&&e.toString()==="[object FormData]"))},m_=St("URLSearchParams"),[y_,x_,v_,w_]=["ReadableStream","Request","Response","Headers"].map(St),k_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Ar(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(ts(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(r=0;r<i;r++)a=s[r],t.call(null,e[a],a,e)}}function Mm(e,t){if(ts(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lm=e=>!Mr(e)&&e!==Cn;function mu(){const{caseless:e,skipUndefined:t}=Lm(this)&&this||{},n={},r=(o,s)=>{const i=e&&Mm(n,s)||s;ti(n[i])&&ti(o)?n[i]=mu(n[i],o):ti(o)?n[i]=mu({},o):Ar(o)?n[i]=o.slice():(!t||!Mr(o))&&(n[i]=o)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&rs(arguments[o],r);return n}const b_=(e,t,n,{allOwnKeys:r}={})=>(rs(t,(o,s)=>{n&&Ke(o)?e[s]=jm(o,n):e[s]=o},{allOwnKeys:r}),e),N_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),S_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},E_=(e,t,n,r)=>{let o,s,i;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Rc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},__=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},j_=e=>{if(!e)return null;if(Ar(e))return e;let t=e.length;if(!Tm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},C_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rc(Uint8Array)),P_=(e,t)=>{const r=(e&&e[ma]).call(e);let o;for(;(o=r.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},T_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},M_=St("HTMLFormElement"),L_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),o0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),R_=St("RegExp"),Rm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rs(n,(o,s)=>{let i;(i=t(o,s,e))!==!1&&(r[s]=i||o)}),Object.defineProperties(e,r)},$_=e=>{Rm(e,(t,n)=>{if(Ke(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ke(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A_=(e,t)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return Ar(e)?r(e):r(String(e).split(t)),n},I_=()=>{},D_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function z_(e){return!!(e&&Ke(e.append)&&e[Cm]==="FormData"&&e[ma])}const F_=e=>{const t=new Array(10),n=(r,o)=>{if(ns(r)){if(t.indexOf(r)>=0)return;if(ts(r))return r;if(!("toJSON"in r)){t[o]=r;const s=Ar(r)?[]:{};return rs(r,(i,a)=>{const u=n(i,o+1);!Mr(u)&&(s[a]=u)}),t[o]=void 0,s}}return r};return n(e,0)},O_=St("AsyncFunction"),H_=e=>e&&(ns(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),$m=((e,t)=>e?setImmediate:t?((n,r)=>(Cn.addEventListener("message",({source:o,data:s})=>{o===Cn&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Cn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ke(Cn.postMessage)),B_=typeof queueMicrotask<"u"?queueMicrotask.bind(Cn):typeof process<"u"&&process.nextTick||$m,U_=e=>e!=null&&Ke(e[ma]),z={isArray:Ar,isArrayBuffer:Pm,isBuffer:ts,isFormData:g_,isArrayBufferView:i_,isString:a_,isNumber:Tm,isBoolean:l_,isObject:ns,isPlainObject:ti,isEmptyObject:u_,isReadableStream:y_,isRequest:x_,isResponse:v_,isHeaders:w_,isUndefined:Mr,isDate:c_,isFile:d_,isBlob:f_,isRegExp:R_,isFunction:Ke,isStream:p_,isURLSearchParams:m_,isTypedArray:C_,isFileList:h_,forEach:rs,merge:mu,extend:b_,trim:k_,stripBOM:N_,inherits:S_,toFlatObject:E_,kindOf:ya,kindOfTest:St,endsWith:__,toArray:j_,forEachEntry:P_,matchAll:T_,isHTMLForm:M_,hasOwnProperty:o0,hasOwnProp:o0,reduceDescriptors:Rm,freezeMethods:$_,toObjectSet:A_,toCamelCase:L_,noop:I_,toFiniteNumber:D_,findKey:Mm,global:Cn,isContextDefined:Lm,isSpecCompliantForm:z_,toJSONObject:F_,isAsyncFn:O_,isThenable:H_,setImmediate:$m,asap:B_,isIterable:U_};function ee(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}z.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Am=ee.prototype,Im={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Im[e]={value:e}});Object.defineProperties(ee,Im);Object.defineProperty(Am,"isAxiosError",{value:!0});ee.from=(e,t,n,r,o,s)=>{const i=Object.create(Am);z.toFlatObject(e,i,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return ee.call(i,a,u,n,r,o),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const W_=null;function yu(e){return z.isPlainObject(e)||z.isArray(e)}function Dm(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function s0(e,t,n){return e?e.concat(t).map(function(o,s){return o=Dm(o),!n&&s?"["+o+"]":o}).join(n?".":""):t}function V_(e){return z.isArray(e)&&!e.some(yu)}const G_=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function va(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!z.isUndefined(w[v])});const r=n.metaTokens,o=n.visitor||h,s=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(z.isDate(p))return p.toISOString();if(z.isBoolean(p))return p.toString();if(!u&&z.isBlob(p))throw new ee("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(p)||z.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,v,w){let m=p;if(p&&!w&&typeof p=="object"){if(z.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(z.isArray(p)&&V_(p)||(z.isFileList(p)||z.endsWith(v,"[]"))&&(m=z.toArray(p)))return v=Dm(v),m.forEach(function(y,k){!(z.isUndefined(y)||y===null)&&t.append(i===!0?s0([v],k,s):i===null?v:v+"[]",c(y))}),!1}return yu(p)?!0:(t.append(s0(w,v,s),c(p)),!1)}const d=[],f=Object.assign(G_,{defaultVisitor:h,convertValue:c,isVisitable:yu});function g(p,v){if(!z.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),z.forEach(p,function(m,x){(!(z.isUndefined(m)||m===null)&&o.call(t,m,z.isString(x)?x.trim():x,v,f))===!0&&g(m,v?v.concat(x):[x])}),d.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return g(e),t}function i0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function $c(e,t){this._pairs=[],e&&va(e,this,t)}const zm=$c.prototype;zm.append=function(t,n){this._pairs.push([t,n])};zm.toString=function(t){const n=t?function(r){return t.call(this,r,i0)}:i0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function X_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Fm(e,t,n){if(!t)return e;const r=n&&n.encode||X_;z.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(t,n):s=z.isURLSearchParams(t)?t.toString():new $c(t,n).toString(r),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class a0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Om={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y_=typeof URLSearchParams<"u"?URLSearchParams:$c,Q_=typeof FormData<"u"?FormData:null,K_=typeof Blob<"u"?Blob:null,q_={isBrowser:!0,classes:{URLSearchParams:Y_,FormData:Q_,Blob:K_},protocols:["http","https","file","blob","url","data"]},Ac=typeof window<"u"&&typeof document<"u",xu=typeof navigator=="object"&&navigator||void 0,Z_=Ac&&(!xu||["ReactNative","NativeScript","NS"].indexOf(xu.product)<0),J_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ej=Ac&&window.location.href||"http://localhost",tj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ac,hasStandardBrowserEnv:Z_,hasStandardBrowserWebWorkerEnv:J_,navigator:xu,origin:ej},Symbol.toStringTag,{value:"Module"})),De={...tj,...q_};function nj(e,t){return va(e,new De.classes.URLSearchParams,{visitor:function(n,r,o,s){return De.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function rj(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oj(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}function Hm(e){function t(n,r,o,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),u=s>=n.length;return i=!i&&z.isArray(o)?o.length:i,u?(z.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!a):((!o[i]||!z.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],s)&&z.isArray(o[i])&&(o[i]=oj(o[i])),!a)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,o)=>{t(rj(r),o,n,0)}),n}return null}function sj(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const os={transitional:Om,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=z.isObject(t);if(s&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return o?JSON.stringify(Hm(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nj(t,this.formSerializer).toString();if((a=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return va(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),sj(t)):t}],transformResponse:[function(t){const n=this.transitional||os.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ee.from(a,ee.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{os.headers[e]={}});const ij=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aj=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&ij[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},l0=Symbol("internals");function Kr(e){return e&&String(e).trim().toLowerCase()}function ni(e){return e===!1||e==null?e:z.isArray(e)?e.map(ni):String(e)}function lj(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const uj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function il(e,t,n,r,o){if(z.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function cj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dj(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,s,i){return this[r].call(this,t,o,s,i)},configurable:!0})})}let qe=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function s(a,u,c){const h=Kr(u);if(!h)throw new Error("header name must be a non-empty string");const d=z.findKey(o,h);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||u]=ni(a))}const i=(a,u)=>z.forEach(a,(c,h)=>s(c,h,u));if(z.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(z.isString(t)&&(t=t.trim())&&!uj(t))i(aj(t),n);else if(z.isObject(t)&&z.isIterable(t)){let a={},u,c;for(const h of t){if(!z.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(u=a[c])?z.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}i(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Kr(t),t){const r=z.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return lj(o);if(z.isFunction(n))return n.call(this,o,r);if(z.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Kr(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||il(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function s(i){if(i=Kr(i),i){const a=z.findKey(r,i);a&&(!n||il(r,r[a],a,n))&&(delete r[a],o=!0)}}return z.isArray(t)?t.forEach(s):s(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!t||il(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const n=this,r={};return z.forEach(this,(o,s)=>{const i=z.findKey(r,s);if(i){n[i]=ni(o),delete n[s];return}const a=t?cj(s):String(s).trim();a!==s&&delete n[s],n[a]=ni(o),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[l0]=this[l0]={accessors:{}}).accessors,o=this.prototype;function s(i){const a=Kr(i);r[a]||(dj(o,i),r[a]=!0)}return z.isArray(t)?t.forEach(s):s(t),this}};qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(qe.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(qe);function al(e,t){const n=this||os,r=t||n,o=qe.from(r.headers);let s=r.data;return z.forEach(e,function(a){s=a.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function Bm(e){return!!(e&&e.__CANCEL__)}function Ir(e,t,n){ee.call(this,e??"canceled",ee.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Ir,ee,{__CANCEL__:!0});function Um(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,s=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),h=r[s];i||(i=c),n[o]=u,r[o]=c;let d=s,f=0;for(;d!==o;)f+=n[d++],d=d%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const g=h&&c-h;return g?Math.round(f*1e3/g):void 0}}function pj(e,t){let n=0,r=1e3/t,o,s;const i=(c,h=Date.now())=>{n=h,o=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=r?i(c,h):(o=c,s||(s=setTimeout(()=>{s=null,i(o)},r-d)))},()=>o&&i(o)]}const zi=(e,t,n=3)=>{let r=0;const o=hj(50,250);return pj(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,u=i-r,c=o(u),h=i<=a;r=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&h?(a-i)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},u0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},c0=e=>(...t)=>z.asap(()=>e(...t)),gj=De.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,De.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,mj=De.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const i=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),z.isString(r)&&i.push("path="+r),z.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wm(e,t,n){let r=!yj(t);return e&&(r||n==!1)?xj(e,t):t}const d0=e=>e instanceof qe?{...e}:e;function Bn(e,t){t=t||{};const n={};function r(c,h,d,f){return z.isPlainObject(c)&&z.isPlainObject(h)?z.merge.call({caseless:f},c,h):z.isPlainObject(h)?z.merge({},h):z.isArray(h)?h.slice():h}function o(c,h,d,f){if(z.isUndefined(h)){if(!z.isUndefined(c))return r(void 0,c,d,f)}else return r(c,h,d,f)}function s(c,h){if(!z.isUndefined(h))return r(void 0,h)}function i(c,h){if(z.isUndefined(h)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in t)return r(c,h);if(d in e)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(c,h,d)=>o(d0(c),d0(h),d,!0)};return z.forEach(Object.keys({...e,...t}),function(h){const d=u[h]||o,f=d(e[h],t[h],h);z.isUndefined(f)&&d!==a||(n[h]=f)}),n}const Vm=e=>{const t=Bn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:a}=t;if(t.headers=i=qe.from(i),t.url=Fm(Wm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),z.isFormData(n)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(z.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([h,d])=>{c.includes(h.toLowerCase())&&i.set(h,d)})}}if(De.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&gj(t.url))){const u=o&&s&&mj.read(s);u&&i.set(o,u)}return t},vj=typeof XMLHttpRequest<"u",wj=vj&&function(e){return new Promise(function(n,r){const o=Vm(e);let s=o.data;const i=qe.from(o.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=o,h,d,f,g,p;function v(){g&&g(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(h),o.signal&&o.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function m(){if(!w)return;const y=qe.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};Um(function(S){n(S),v()},function(S){r(S),v()},b),w=null}"onloadend"in w?w.onloadend=m:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(m)},w.onabort=function(){w&&(r(new ee("Request aborted",ee.ECONNABORTED,e,w)),w=null)},w.onerror=function(k){const b=k&&k.message?k.message:"Network Error",E=new ee(b,ee.ERR_NETWORK,e,w);E.event=k||null,r(E),w=null},w.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const b=o.transitional||Om;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),r(new ee(k,b.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,w)),w=null},s===void 0&&i.setContentType(null),"setRequestHeader"in w&&z.forEach(i.toJSON(),function(k,b){w.setRequestHeader(b,k)}),z.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),a&&a!=="json"&&(w.responseType=o.responseType),c&&([f,p]=zi(c,!0),w.addEventListener("progress",f)),u&&w.upload&&([d,g]=zi(u),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(h=y=>{w&&(r(!y||y.type?new Ir(null,e,w):y),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(h),o.signal&&(o.signal.aborted?h():o.signal.addEventListener("abort",h)));const x=fj(o.url);if(x&&De.protocols.indexOf(x)===-1){r(new ee("Unsupported protocol "+x+":",ee.ERR_BAD_REQUEST,e));return}w.send(s||null)})},kj=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const s=function(c){if(!o){o=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof ee?h:new Ir(h instanceof Error?h.message:h))}};let i=t&&setTimeout(()=>{i=null,s(new ee(`timeout ${t} of ms exceeded`,ee.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>z.asap(a),u}},bj=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Nj=async function*(e,t){for await(const n of Sj(e))yield*bj(n,t)},Sj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},f0=(e,t,n,r)=>{const o=Nj(e,t);let s=0,i,a=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:h}=await o.next();if(c){a(),u.close();return}let d=h.byteLength;if(n){let f=s+=d;n(f)}u.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(u){return a(u),o.return()}},{highWaterMark:2})},h0=64*1024,{isFunction:Ds}=z,Ej=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:p0,TextEncoder:g0}=z.global,m0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_j=e=>{e=z.merge.call({skipUndefined:!0},Ej,e);const{fetch:t,Request:n,Response:r}=e,o=t?Ds(t):typeof fetch=="function",s=Ds(n),i=Ds(r);if(!o)return!1;const a=o&&Ds(p0),u=o&&(typeof g0=="function"?(p=>v=>p.encode(v))(new g0):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=s&&a&&m0(()=>{let p=!1;const v=new n(De.origin,{body:new p0,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),h=i&&a&&m0(()=>z.isReadableStream(new r("").body)),d={stream:h&&(p=>p.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(v,w)=>{let m=v&&v[p];if(m)return m.call(v);throw new ee(`Response type '${p}' is not supported`,ee.ERR_NOT_SUPPORT,w)})});const f=async p=>{if(p==null)return 0;if(z.isBlob(p))return p.size;if(z.isSpecCompliantForm(p))return(await new n(De.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(z.isArrayBufferView(p)||z.isArrayBuffer(p))return p.byteLength;if(z.isURLSearchParams(p)&&(p=p+""),z.isString(p))return(await u(p)).byteLength},g=async(p,v)=>{const w=z.toFiniteNumber(p.getContentLength());return w??f(v)};return async p=>{let{url:v,method:w,data:m,signal:x,cancelToken:y,timeout:k,onDownloadProgress:b,onUploadProgress:E,responseType:S,headers:T,withCredentials:D="same-origin",fetchOptions:R}=Vm(p),F=t||fetch;S=S?(S+"").toLowerCase():"text";let $=kj([x,y&&y.toAbortSignal()],k),L=null;const N=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let M;try{if(E&&c&&w!=="get"&&w!=="head"&&(M=await g(T,m))!==0){let O=new n(v,{method:"POST",body:m,duplex:"half"}),H;if(z.isFormData(m)&&(H=O.headers.get("content-type"))&&T.setContentType(H),O.body){const[V,U]=u0(M,zi(c0(E)));m=f0(O.body,h0,V,U)}}z.isString(D)||(D=D?"include":"omit");const C=s&&"credentials"in n.prototype,I={...R,signal:$,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:m,duplex:"half",credentials:C?D:void 0};L=s&&new n(v,I);let j=await(s?F(L,R):F(v,I));const P=h&&(S==="stream"||S==="response");if(h&&(b||P&&N)){const O={};["status","statusText","headers"].forEach(Q=>{O[Q]=j[Q]});const H=z.toFiniteNumber(j.headers.get("content-length")),[V,U]=b&&u0(H,zi(c0(b),!0))||[];j=new r(f0(j.body,h0,V,()=>{U&&U(),N&&N()}),O)}S=S||"text";let A=await d[z.findKey(d,S)||"text"](j,p);return!P&&N&&N(),await new Promise((O,H)=>{Um(O,H,{data:A,headers:qe.from(j.headers),status:j.status,statusText:j.statusText,config:p,request:L})})}catch(C){throw N&&N(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,p,L),{cause:C.cause||C}):ee.from(C,C&&C.code,p,L)}}},jj=new Map,Gm=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,s=[r,o,n];let i=s.length,a=i,u,c,h=jj;for(;a--;)u=s[a],c=h.get(u),c===void 0&&h.set(u,c=a?new Map:_j(t)),h=c;return c};Gm();const vu={http:W_,xhr:wj,fetch:{get:Gm}};z.forEach(vu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const y0=e=>`- ${e}`,Cj=e=>z.isFunction(e)||e===null||e===!1,Xm={getAdapter:(e,t)=>{e=z.isArray(e)?e:[e];const{length:n}=e;let r,o;const s={};for(let i=0;i<n;i++){r=e[i];let a;if(o=r,!Cj(r)&&(o=vu[(a=String(r)).toLowerCase()],o===void 0))throw new ee(`Unknown adapter '${a}'`);if(o&&(z.isFunction(o)||(o=o.get(t))))break;s[a||"#"+i]=o}if(!o){const i=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(y0).join(`
`):" "+y0(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return o},adapters:vu};function ll(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ir(null,e)}function x0(e){return ll(e),e.headers=qe.from(e.headers),e.data=al.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xm.getAdapter(e.adapter||os.adapter,e)(e).then(function(r){return ll(e),r.data=al.call(e,e.transformResponse,r),r.headers=qe.from(r.headers),r},function(r){return Bm(r)||(ll(e),r&&r.response&&(r.response.data=al.call(e,e.transformResponse,r.response),r.response.headers=qe.from(r.response.headers))),Promise.reject(r)})}const Ym="1.12.2",wa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wa[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const v0={};wa.transitional=function(t,n,r){function o(s,i){return"[Axios v"+Ym+"] Transitional option '"+s+"'"+i+(r?". "+r:"")}return(s,i,a)=>{if(t===!1)throw new ee(o(i," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!v0[i]&&(v0[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,i,a):!0}};wa.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Pj(e,t,n){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const a=e[s],u=a===void 0||i(a,s,e);if(u!==!0)throw new ee("option "+s+" must be "+u,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+s,ee.ERR_BAD_OPTION)}}const ri={assertOptions:Pj,validators:wa},_t=ri.validators;let Rn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new a0,response:new a0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Bn(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&ri.assertOptions(r,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),o!=null&&(z.isFunction(o)?n.paramsSerializer={serialize:o}:ri.assertOptions(o,{encode:_t.function,serialize:_t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ri.assertOptions(n,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&z.merge(s.common,s[n.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=qe.concat(i,s);const a=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let h,d=0,f;if(!u){const p=[x0.bind(this),void 0];for(p.unshift(...a),p.push(...c),f=p.length,h=Promise.resolve(n);d<f;)h=h.then(p[d++],p[d++]);return h}f=a.length;let g=n;for(;d<f;){const p=a[d++],v=a[d++];try{g=p(g)}catch(w){v.call(this,w);break}}try{h=x0.call(this,g)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(t){t=Bn(this.defaults,t);const n=Wm(t.baseURL,t.url,t.allowAbsoluteUrls);return Fm(n,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){Rn.prototype[t]=function(n,r){return this.request(Bn(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(s,i,a){return this.request(Bn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Rn.prototype[t]=n(),Rn.prototype[t+"Form"]=n(!0)});let Tj=class Qm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(a=>{r.subscribe(a),s=a}).then(o);return i.cancel=function(){r.unsubscribe(s)},i},t(function(s,i,a){r.reason||(r.reason=new Ir(s,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qm(function(o){t=o}),cancel:t}}};function Mj(e){return function(n){return e.apply(null,n)}}function Lj(e){return z.isObject(e)&&e.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wu).forEach(([e,t])=>{wu[t]=e});function Km(e){const t=new Rn(e),n=jm(Rn.prototype.request,t);return z.extend(n,Rn.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Km(Bn(e,o))},n}const be=Km(os);be.Axios=Rn;be.CanceledError=Ir;be.CancelToken=Tj;be.isCancel=Bm;be.VERSION=Ym;be.toFormData=va;be.AxiosError=ee;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=Mj;be.isAxiosError=Lj;be.mergeConfig=Bn;be.AxiosHeaders=qe;be.formToJSON=e=>Hm(z.isHTMLForm(e)?new FormData(e):e);be.getAdapter=Xm.getAdapter;be.HttpStatusCode=wu;be.default=be;const{Axios:iC,AxiosError:aC,CanceledError:lC,isCancel:uC,CancelToken:cC,VERSION:dC,all:fC,Cancel:hC,isAxiosError:pC,spread:gC,toFormData:mC,AxiosHeaders:yC,HttpStatusCode:xC,formToJSON:vC,getAdapter:wC,mergeConfig:kC}=be;class Rj{constructor(){cs(this,"http");cs(this,"ws",null);cs(this,"wsCallbacks",new Map);this.http=be.create({baseURL:"http://localhost:8001/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.setupHttpInterceptors()}setupHttpInterceptors(){this.http.interceptors.request.use(t=>{var n;return console.log(`Making ${(n=t.method)==null?void 0:n.toUpperCase()} request to ${t.url}`),t},t=>(console.error("Request error:",t),Promise.reject(t))),this.http.interceptors.response.use(t=>(console.log(`Response from ${t.config.url}:`,t.status),t),t=>{var n;return console.error("Response error:",((n=t.response)==null?void 0:n.data)||t.message),Promise.reject(t)})}async getWorkflows(){return(await this.http.get("/workflow/")).data}async getWorkflow(t){return(await this.http.get(`/workflow/${t}`)).data}async createWorkflow(t){return(await this.http.post("/workflow/",t)).data}async updateWorkflow(t,n){return(await this.http.put(`/workflow/${t}`,n)).data}async deleteWorkflow(t){await this.http.delete(`/workflow/${t}`)}async exportWorkflow(t){return(await this.http.post(`/workflow/${t}/export`)).data}async importWorkflow(t){return(await this.http.post("/workflow/import",t)).data}async getNodeDefinitions(){return(await this.http.get("/nodes/definitions")).data}async getNodeDefinition(t){return(await this.http.get(`/nodes/definitions/${t}`)).data}async getNodeCategories(){return(await this.http.get("/nodes/categories")).data}async getNodesByCategory(t){return(await this.http.get(`/nodes/by-category/${t}`)).data}async validateConnection(t,n,r,o){return(await this.http.post("/nodes/validate-connection",{source_node_type:t,target_node_type:n,source_port:r,target_port:o})).data}async startExecution(t){return(await this.http.post(`/execution/start/${t}`)).data}async stopExecution(t){await this.http.post(`/execution/stop/${t}`)}async getExecution(t){return(await this.http.get(`/execution/${t}`)).data}async listExecutions(){return(await this.http.get("/execution/")).data}async resumeExecution(t){await this.http.post(`/execution/${t}/resume`)}async startNodeExecution(t,n){const r=n?`/execution/start-node/${t}?input_dir=${encodeURIComponent(n)}`:`/execution/start-node/${t}`;return(await this.http.post(r)).data}async listGPUs(){return(await this.http.get("/gpu/list")).data}async assignGPUToNode(t,n){return(await this.http.post(`/gpu/assign/${t}`,{node_id:n})).data}async getGPUMemoryInfo(t){return(await this.http.get(`/gpu/memory/${t}`)).data}async resetGPU(t){return(await this.http.post(`/gpu/reset/${t}`)).data}async getGPUProcesses(){return(await this.http.get("/gpu/processes")).data}async healthCheck(){return(await this.http.get("/health")).data}async getGPUs(){return(await this.http.get("/gpu/gpus")).data}async getGPUStatus(){return(await this.http.get("/gpu/gpus/status")).data}async getGPU(t){return(await this.http.get(`/gpu/gpus/${t}`)).data}async getGPUsByType(t){return(await this.http.get(`/gpu/gpus/type/${t}`)).data}async getAvailableGPUs(){return(await this.http.get("/gpu/gpus/available")).data}async reserveGPU(t,n){return(await this.http.post(`/gpu/gpus/${t}/reserve`,{node_id:n})).data}async releaseGPU(t,n){return(await this.http.post(`/gpu/gpus/${t}/release`,{node_id:n})).data}async getSystemInfo(){return(await this.http.get("/gpu/gpus/system/info")).data}async getErrors(t){return(await this.http.get("/errors/errors",{params:t})).data}async getErrorSummary(){return(await this.http.get("/errors/errors/summary")).data}async getError(t){return(await this.http.get(`/errors/errors/${t}`)).data}async retryError(t){return(await this.http.post(`/errors/errors/${t}/retry`)).data}async clearErrors(t=24){return(await this.http.delete("/errors/errors",{params:{older_than_hours:t}})).data}async getNodeErrors(t,n=50){return(await this.http.get(`/errors/errors/node/${t}`,{params:{limit:n}})).data}async getWorkflowErrors(t,n=100){return(await this.http.get(`/errors/errors/workflow/${t}`,{params:{limit:n}})).data}async getRecentErrors(t=1){return(await this.http.get("/errors/errors/recent",{params:{hours:t}})).data}async getErrorStats(){return(await this.http.get("/errors/errors/stats")).data}connectWebSocket(){return new Promise((t,n)=>{try{const r="ws://localhost:8001/ws";this.ws=new WebSocket(r),this.ws.onopen=()=>{console.log("WebSocket connected"),t()},this.ws.onmessage=o=>{try{const s=JSON.parse(o.data);this.handleWebSocketMessage(s)}catch(s){console.error("Failed to parse WebSocket message:",s)}},this.ws.onclose=o=>{console.log("WebSocket disconnected",o.code,o.reason),this.ws=null},this.ws.onerror=o=>{var s;console.error("WebSocket error:",o),((s=this.ws)==null?void 0:s.readyState)===WebSocket.CONNECTING&&n(o)}}catch(r){n(r)}})}disconnectWebSocket(){this.ws&&(this.ws.close(),this.ws=null)}handleWebSocketMessage(t){const{type:n}=t;switch(n){case"node_update":const r=this.wsCallbacks.get("node_update");r&&r(t);break;case"execution_update":const o=this.wsCallbacks.get("execution_update");o&&o(t);break;case"log_message":const s=this.wsCallbacks.get("log_message");s&&s(t);break;default:console.log("Unknown WebSocket message type:",n)}}onWebSocketMessage(t,n){this.wsCallbacks.set(t,n)}offWebSocketMessage(t){this.wsCallbacks.delete(t)}isWebSocketConnected(){return this.ws!==null&&this.ws.readyState===WebSocket.OPEN}async saveNodePreset(t){return(await this.http.post("/presets/",t)).data}async listNodePresets(){return(await this.http.get("/presets/")).data}async getNodePreset(t){return(await this.http.get(`/presets/${t}`)).data}async updateNodePreset(t,n){return(await this.http.put(`/presets/${t}`,n)).data}async deleteNodePreset(t){await this.http.delete(`/presets/${t}`)}async getPresetsByType(t){return(await this.http.get(`/presets/by-type/${t}`)).data}async loadPresetIntoWorkflow(t,n){return(await this.http.post(`/presets/${t}/load-into-workflow`,{position:n})).data}async detectFaces(t,n){return(await this.http.post(`/nodes/${t}/detect-faces`,n)).data}async loadSegmentationModel(t){return(await this.http.post(`/nodes/${t}/load-segmentation-model`)).data}async generateMasks(t,n){return(await this.http.post(`/nodes/${t}/generate-masks`,n)).data}async embedPolygons(t,n){return(await this.http.post(`/nodes/${t}/embed-polygons`,n)).data}async getFaceImages(t,n){return(await this.http.get(`/nodes/${t}/face-images`,{params:{input_dir:n}})).data}async getFaceData(t,n){return(await this.http.get(`/nodes/${t}/face-data/${n}`)).data}}const le=new Rj,$j={custom:o_},Aj={},Ij=()=>{const{nodes:e,edges:t,setNodes:n,setEdges:r,addNode:o,addEdge:s,removeNode:i,removeEdge:a,setSelectedNode:u}=Ge(),c=ha(),h=_.useRef(null),[d,f]=_.useState({visible:!1,x:0,y:0,presets:[]}),g=e.map(R=>({id:R.id,type:"custom",position:R.position,data:{...R,onSelect:()=>u(R),onUpdate:F=>{Ge.getState().updateNode(R.id,F)}}})),p=t.map(R=>({id:R.id,source:R.source,target:R.target,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle,type:"smoothstep",markerEnd:{type:zo.ArrowClosed,width:20,height:20,color:"#3b82f6"},style:{strokeWidth:2,stroke:"#3b82f6"}})),v=_.useCallback(R=>{const F={id:`edge-${Date.now()}`,source:R.source,target:R.target,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle};s(F)},[s]),w=_.useCallback(R=>{R.forEach(F=>{if(F.type==="position"&&F.position){const $=F.id,L=F.position;Ge.getState().updateNode($,{position:L})}})},[]),m=_.useCallback(R=>{console.log("Edge changes:",R)},[]),x=_.useCallback((R,F)=>{const $=e.find(L=>L.id===F.id);$&&u($)},[e,u]),y=_.useCallback(()=>{u(null)},[u]),k=_.useCallback((R,F)=>{e.find(L=>L.id===F.id)&&Ge.getState().updateNode(F.id,{position:F.position})},[e]),b=_.useCallback(R=>{var M;R.preventDefault();const F=(M=h.current)==null?void 0:M.getBoundingClientRect();if(!F||!c)return;const $=R.dataTransfer.getData("application/reactflow");if(!$)return;const L=c.screenToFlowPosition({x:R.clientX-F.left,y:R.clientY-F.top}),N={id:`node-${Date.now()}`,type:$,position:L,parameters:{},status:"idle",progress:0,message:"",inputs:{},outputs:{}};o(N)},[c,o]),E=_.useCallback(R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},[]),S=_.useCallback(async R=>{R.preventDefault();try{const F=await le.listNodePresets();f({visible:!0,x:R.clientX,y:R.clientY,presets:F})}catch(F){console.error("Failed to load presets for context menu:",F)}},[]),T=_.useCallback(async R=>{if(c)try{const F=c.screenToFlowPosition({x:d.x,y:d.y}),$=await le.loadPresetIntoWorkflow(R.id,F);o($),f({...d,visible:!1})}catch(F){console.error("Failed to load preset into workflow:",F)}},[c,d,o]),D=_.useCallback(()=>{f({...d,visible:!1})},[d]);return l.jsxs("div",{className:"flex-1",ref:h,children:[l.jsxs(wE,{nodes:g,edges:p,onNodesChange:w,onEdgesChange:m,onConnect:v,onNodeClick:x,onPaneClick:y,onNodeDragStop:k,onDrop:b,onDragOver:E,onPaneContextMenu:S,nodeTypes:$j,edgeTypes:Aj,fitView:!0,attributionPosition:"bottom-left",children:[l.jsx(LE,{}),l.jsx(VE,{nodeStrokeColor:R=>R.type==="input"?"#0041d0":R.type==="output"?"#ff0072":"#1a192b",nodeColor:R=>R.type==="input"?"#0041d0":R.type==="output"?"#ff0072":"#1a192b",nodeBorderRadius:2}),l.jsx(EE,{variant:Ut.Dots,gap:12,size:1})]}),d.visible&&l.jsxs("div",{className:"fixed z-50 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-2 min-w-48 transition-colors duration-300",style:{left:d.x,top:d.y},children:[l.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 transition-colors duration-300",children:"Load Preset"}),d.presets.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"No presets available"}):d.presets.map(R=>l.jsxs("button",{onClick:()=>T(R),className:"w-full px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:[l.jsx("div",{className:"font-medium",children:R.name}),R.description&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate transition-colors duration-300",children:R.description}),l.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 transition-colors duration-300",children:R.nodeType})]},R.id))]}),d.visible&&l.jsx("div",{className:"fixed inset-0 z-40",onClick:D})]})},Dj=()=>{const[e,t]=_.useState([]),[n,r]=_.useState([]),[o,s]=_.useState("All"),[i,a]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const g=await le.getNodeDefinitions(),p=await le.getNodeCategories();t(g),r(["All",...p])}catch(g){console.error("Failed to load node definitions:",g)}finally{a(!1)}},c=(g,p)=>{g.dataTransfer.setData("application/reactflow",p),g.dataTransfer.effectAllowed="move"},h=o==="All"?e:e.filter(g=>g.category===o),d=g=>{switch(g){case"video_input":return"🎥";case"image_input":return"🖼️";case"extract_faces":return"👤";case"train_model":return"🧠";case"merge_faces":return"🔄";case"video_output":return"📹";case"image_output":return"🖼️";case"xseg_editor":return"✂️";case"denoise":return"🔧";case"enhance_faces":return"✨";default:return"📦"}},f=g=>{switch(g){case"video_input":case"image_input":return"bg-blue-100 border-blue-300";case"extract_faces":case"train_model":case"merge_faces":return"bg-green-100 border-green-300";case"video_output":case"image_output":return"bg-purple-100 border-purple-300";case"xseg_editor":case"denoise":case"enhance_faces":return"bg-yellow-100 border-yellow-300";default:return"bg-gray-100 border-gray-300"}};return i?l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("div",{className:"text-gray-500",children:"Loading nodes..."})}):l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("select",{value:o,onChange:g=>s(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:n.map(g=>l.jsx("option",{value:g,children:g},g))})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[h.map(g=>l.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-move hover:shadow-md transition-shadow ${f(g.type)}`,draggable:!0,onDragStart:p=>c(p,g.type),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-lg",children:d(g.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm text-gray-800 truncate",children:g.name}),l.jsx("div",{className:"text-xs text-gray-600 truncate",children:g.description})]})]}),l.jsxs("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[g.inputs.length," inputs"]}),l.jsxs("span",{children:[g.outputs.length," outputs"]})]})]},g.id)),h.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No nodes found in this category"})]})]})},qm=({selectedGPU:e,onGPUChange:t,disabled:n=!1,className:r=""})=>{const[o,s]=_.useState([]),[i,a]=_.useState(!0),[u,c]=_.useState(null);_.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0),c(null);const p=await le.getGPUs();s(p)}catch(p){c("Failed to load GPU information"),console.error("Error loading GPUs:",p)}finally{a(!1)}},d=p=>{switch(p){case"nvidia":return"🟢";case"amd":return"🔴";case"intel":return"🔵";case"cpu":return"⚙️";default:return"❓"}},f=p=>p>=1024?`${(p/1024).toFixed(1)} GB`:`${p} MB`,g=p=>p.is_available?p.utilization>80?"text-yellow-500":p.utilization>50?"text-orange-500":"text-green-500":"text-red-500";return i?l.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Loading GPUs..."})]}):u?l.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[l.jsx("span",{className:"text-red-500 dark:text-red-400",children:"⚠️"}),l.jsx("span",{className:"text-sm text-red-600 dark:text-red-400 transition-colors duration-300",children:u}),l.jsx("button",{onClick:h,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline transition-colors duration-300",children:"Retry"})]}):l.jsxs("div",{className:`space-y-2 ${r}`,children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"GPU Device"}),l.jsxs("select",{value:e||"",onChange:p=>t(p.target.value?parseInt(p.target.value):null),disabled:n,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[l.jsx("option",{value:"",children:"Select GPU..."}),o.map(p=>l.jsxs("option",{value:p.id,disabled:!p.is_available,children:[d(p.type)," ",p.name,!p.is_available&&" (Unavailable)"]},p.id))]}),e&&l.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-md transition-colors duration-300",children:(()=>{const p=o.find(v=>v.id===e);return p?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:[d(p.type)," ",p.name]}),l.jsxs("span",{className:`text-sm font-medium transition-colors duration-300 ${g(p)}`,children:[p.utilization,"% utilized"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400 transition-colors duration-300",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Memory:"})," ",f(p.memory_free)," / ",f(p.memory_total)," free"]}),p.temperature&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Temp:"})," ",p.temperature,"°C"]}),p.power_usage&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Power:"})," ",p.power_usage,"W"]}),p.driver_version&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Driver:"})," ",p.driver_version]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${p.memory_used/p.memory_total*100}%`}})})]}):null})()}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[o.length," GPU",o.length!==1?"s":""," detected"]}),l.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-800 underline",children:"Refresh"})]})]})},Zm=({value:e,onChange:t,placeholder:n="Select a file...",filters:r=[{name:"All Files",extensions:["*"]}],className:o="",disabled:s=!1})=>{const[i,a]=_.useState(null),[u,c]=_.useState({});_.useEffect(()=>{e?h(e):(a(null),c({}))},[e]);const h=async p=>{try{if(window.electronAPI&&window.electronAPI.pathExists){const v=await window.electronAPI.pathExists(p),w=v.exists?await window.electronAPI.getFileStats(p):null;a(v.exists),c({exists:v.exists,size:w==null?void 0:w.size})}else a(!0),c({exists:!0})}catch(v){console.warn("Path validation error (fallback to valid):",v),a(!0),c({exists:!0})}},d=async()=>{try{if(window.electronAPI&&window.electronAPI.showOpenDialog){const p=await window.electronAPI.showOpenDialog({title:"Select File",filters:r,properties:["openFile"]});!p.canceled&&p.filePaths.length>0&&t(p.filePaths[0])}else{const p=document.createElement("input");p.type="file",p.accept=r.map(v=>v.extensions.map(w=>`.${w}`).join(",")).join(","),p.onchange=v=>{var m;const w=(m=v.target.files)==null?void 0:m[0];w&&t(w.name)},p.click()}}catch(p){console.error("File picker error:",p)}},f=p=>{if(p===0)return"0 Bytes";const v=1024,w=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(p)/Math.log(v));return Number.parseFloat((p/Math.pow(v,m)).toFixed(2))+" "+w[m]},g=()=>i===!1?"border-red-500":i===!0?"border-green-500":"border-gray-300 dark:border-gray-600";return l.jsxs("div",{className:`space-y-2 ${o}`,children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),placeholder:n,disabled:s,className:`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200 ${g()}`}),l.jsx("button",{type:"button",onClick:d,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Browse"})]}),e&&l.jsxs("div",{className:"text-xs",children:[i===!0&&l.jsxs("div",{className:"text-green-600 dark:text-green-400 flex items-center space-x-1",children:[l.jsx("span",{children:"✓"}),l.jsx("span",{children:"File exists"}),u.size&&l.jsxs("span",{children:["(",f(u.size),")"]})]}),i===!1&&l.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-center space-x-1",children:[l.jsx("span",{children:"✗"}),l.jsx("span",{children:"File not found"})]})]})]})},Jm=({value:e,onChange:t,placeholder:n="Select a directory...",className:r="",disabled:o=!1})=>{const[s,i]=_.useState(null),[a,u]=_.useState({});_.useEffect(()=>{e?c(e):(i(null),u({}))},[e]);const c=async d=>{try{if(window.electronAPI&&window.electronAPI.pathExists){const f=await window.electronAPI.pathExists(d),g=f.exists?await window.electronAPI.getDirectoryStats(d):null;i(f.exists),u({exists:f.exists,fileCount:g==null?void 0:g.fileCount})}else i(!0),u({exists:!0})}catch(f){console.warn("Path validation error (fallback to valid):",f),i(!0),u({exists:!0})}},h=async()=>{try{if(window.electronAPI&&window.electronAPI.showOpenDialog){const d=await window.electronAPI.showOpenDialog({title:"Select Directory",properties:["openDirectory"]});!d.canceled&&d.filePaths.length>0&&t(d.filePaths[0])}else{const d=document.createElement("input");d.type="file",d.webkitdirectory=!0,d.onchange=f=>{const g=f.target.files;if(g&&g.length>0){const v=g[0].webkitRelativePath.split("/")[0];t(v)}},d.click()}}catch(d){console.error("Directory picker error:",d)}};return l.jsxs("div",{className:`space-y-2 ${r}`,children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:n,disabled:o,className:`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200 ${s===!1?"border-red-500":s===!0?"border-green-500":"border-gray-300 dark:border-gray-600"}`}),l.jsx("button",{type:"button",onClick:h,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Browse"})]}),e&&l.jsxs("div",{className:"text-xs",children:[s===!0&&l.jsxs("div",{className:"text-green-600 dark:text-green-400 flex items-center space-x-1",children:[l.jsx("span",{children:"✓"}),l.jsx("span",{children:"Directory exists"}),a.fileCount!==void 0&&l.jsxs("span",{children:["(",a.fileCount," files)"]})]}),s===!1&&l.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-center space-x-1",children:[l.jsx("span",{children:"✗"}),l.jsx("span",{children:"Directory not found"})]})]})]})},zj=({faceImages:e,viewMode:t,onFaceSelect:n,onFaceMultiSelect:r,loading:o})=>{const[s,i]=_.useState(25),a=_.useCallback(h=>{n(h)},[n]),u=_.useCallback((h,d)=>{r(h,d)},[r]),c=h=>{const d=Math.max(80,120*(s/100));return l.jsxs("div",{className:`relative group cursor-pointer transition-all duration-200 ${h.active?"ring-2 ring-blue-500":h.selected?"ring-2 ring-green-500":"hover:ring-1 hover:ring-gray-300 dark:hover:ring-gray-600"}`,style:{width:d,height:d},onClick:()=>a(h.id),children:[l.jsxs("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 rounded-md overflow-hidden relative",children:[h.thumbnailUrl?l.jsx("img",{src:h.thumbnailUrl,alt:h.filename,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 text-xs",children:h.filename}),t==="segmentation"&&h.segmentationPolygon&&l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:l.jsx("polygon",{points:h.segmentationPolygon.map(f=>`${f[0]},${f[1]}`).join(" "),fill:"none",stroke:"#00ff00",strokeWidth:"0.5",opacity:"0.8"})}),t==="alignments"&&h.landmarks&&l.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[h.landmarks.map((f,g)=>l.jsx("circle",{cx:f[0],cy:f[1],r:"0.5",fill:"#ff0000",opacity:"0.8"},g)),h.landmarks.length>=5&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:h.landmarks[0][0],y1:h.landmarks[0][1],x2:h.landmarks[1][0],y2:h.landmarks[1][1],stroke:"#ff0000",strokeWidth:"0.2",opacity:"0.6"}),l.jsx("line",{x1:h.landmarks[2][0],y1:h.landmarks[2][1],x2:h.landmarks[3][0],y2:h.landmarks[3][1],stroke:"#ff0000",strokeWidth:"0.2",opacity:"0.6"}),l.jsx("line",{x1:h.landmarks[4][0],y1:h.landmarks[4][1],x2:h.landmarks[4][0],y2:h.landmarks[4][1]+2,stroke:"#ff0000",strokeWidth:"0.2",opacity:"0.6"})]})]}),l.jsx("div",{className:"absolute top-1 left-1",children:l.jsx("input",{type:"checkbox",checked:h.selected||!1,onChange:f=>{f.stopPropagation(),u(h.id,f.target.checked)},className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})}),l.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.jsx("button",{className:"text-yellow-500 hover:text-yellow-600 text-xs",children:"🔖"})})]}),l.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400 truncate",children:h.filename})]},h.id)};return o?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Processing faces..."})]})}):e.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[l.jsx("div",{className:"text-4xl mb-4",children:"👤"}),l.jsx("p",{className:"text-lg font-medium mb-2",children:"No faces detected"}),l.jsx("p",{className:"text-sm",children:'Click "Detect Faces" to scan the input directory'})]})}):l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-2 transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Frame Size:"}),l.jsxs("select",{value:`${s}%`,onChange:h=>i(parseInt(h.target.value.replace("%",""))),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"10%",children:"10%"}),l.jsx("option",{value:"25%",children:"25%"}),l.jsx("option",{value:"50%",children:"50%"}),l.jsx("option",{value:"75%",children:"75%"}),l.jsx("option",{value:"100%",children:"100%"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View Mode:"}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t==="normal"?"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200":t==="segmentation"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"}`,children:t==="normal"?"Normal":t==="segmentation"?"Segmentation":"Alignments"})]})]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.length," faces"]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsx("div",{className:"grid grid-cols-8 gap-3",children:e.map(c)})})]})},Fj=({detectionSettings:e,onSettingsChange:t,onDetectFaces:n,onLoadSegmentationModel:r,onGenerateMasks:o,onEmbedPolygons:s,faceCount:i,loading:a})=>{const[u,c]=_.useState(!1),h=_.useCallback((d,f)=>{t({[d]:f})},[t]);return u?l.jsx("div",{className:"w-8 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-300",children:l.jsx("button",{onClick:()=>c(!1),className:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:l.jsx("svg",{className:"w-4 h-4 transform rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}):l.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Detection Management"}),l.jsx("button",{onClick:()=>c(!0),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 transition-colors duration-300",children:i}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Frame count"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Detection Profiles"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"detection-name-select",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1 transition-colors duration-300",children:"Detection Name"}),l.jsx("select",{id:"detection-name-select",value:"default",className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:l.jsx("option",{value:"default",children:"default"})})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{className:"flex-1 px-2 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Add Name"}),l.jsx("button",{className:"flex-1 px-2 py-1 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded focus:outline-none focus:ring-1 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Remove"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"face-type-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Face Type"}),l.jsxs("select",{id:"face-type-select",value:e.faceType,onChange:d=>h("faceType",d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[l.jsx("option",{value:"mouth",children:"Mouth"}),l.jsx("option",{value:"half_face",children:"Half Face"}),l.jsx("option",{value:"midfull_face",children:"Mid Full Face"}),l.jsx("option",{value:"full_face",children:"Full Face"}),l.jsx("option",{value:"whole_face",children:"Whole Face"}),l.jsx("option",{value:"head",children:"Head"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"detection-model-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Detection Model"}),l.jsxs("select",{id:"detection-model-select",value:e.detectionModel,onChange:d=>h("detectionModel",d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[l.jsx("option",{value:"VGGFace2",children:"VGGFace2"}),l.jsx("option",{value:"OpenCV",children:"OpenCV"}),l.jsx("option",{value:"MTCNN",children:"MTCNN"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"similarity-threshold-slider",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:["Similarity Threshold: ",e.similarityThreshold.toFixed(2)]}),l.jsx("input",{id:"similarity-threshold-slider",type:"range",min:"0",max:"1",step:"0.01",value:e.similarityThreshold,onChange:d=>h("similarityThreshold",Number.parseFloat(d.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer transition-colors duration-200"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:n,disabled:a,className:"w-full px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?"Detecting...":"Detect Faces"}),l.jsx("button",{onClick:r,disabled:a,className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?"Loading...":"Load BiSeNet Model"}),l.jsx("button",{onClick:o,disabled:a||i===0,className:"w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?"Generating...":"Generate Masks"})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Embed Mask Polygons"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"eyebrow-expand-input",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Eyebrow expand mod value between 1-4:"}),l.jsx("input",{id:"eyebrow-expand-input",type:"number",min:"1",max:"4",value:e.eyebrowExpandMod,onChange:d=>h("eyebrowExpandMod",Number.parseInt(d.target.value,10)),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]}),l.jsx("div",{className:"space-y-2",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-gray-700 transition-colors duration-200"}),l.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Set faces to parent frames"})]})}),l.jsx("button",{onClick:s,disabled:a||i===0,className:"w-full px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?"Embedding...":"Embed Mask Polygons"}),l.jsx("button",{className:"w-full px-4 py-2 text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200",children:"Import Face Data"})]}),l.jsx("div",{className:"space-y-2",children:l.jsx("button",{className:"w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors duration-200",children:"Open XSeg Editor"})})]})]})},Oj=({logs:e,onClearLogs:t})=>{const n=_.useRef(null);return _.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e]),l.jsxs("div",{className:"h-48 bg-gray-900 border-t border-gray-700 flex flex-col transition-colors duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-200 transition-colors duration-300",children:"Console"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"text-xs text-gray-400",children:[e.length," messages"]}),l.jsx("button",{onClick:t,className:"px-2 py-1 text-xs font-medium text-gray-300 hover:text-white bg-gray-700 hover:bg-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors duration-200",children:"Clear"})]})]}),l.jsx("div",{ref:n,className:"flex-1 overflow-y-auto p-3 font-mono text-sm",children:e.length===0?l.jsx("div",{className:"text-gray-500 text-center py-4",children:"No console messages yet"}):l.jsx("div",{className:"space-y-1",children:e.map((r,o)=>{let s="text-gray-300";return r.toLowerCase().includes("error")?s="text-red-400":r.toLowerCase().includes("warning")?s="text-yellow-400":r.toLowerCase().includes("success")||r.toLowerCase().includes("loaded")||r.toLowerCase().includes("found")?s="text-green-400":(r.toLowerCase().includes("info")||r.toLowerCase().includes("scanning")||r.toLowerCase().includes("generating"))&&(s="text-blue-400"),l.jsx("div",{className:`${s} transition-colors duration-200`,children:r},`log-${o}-${r.substring(0,20)}`)})})}),l.jsx("div",{className:"px-4 py-1 bg-gray-800 border-t border-gray-700",children:l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[l.jsx("span",{children:"Ready"}),l.jsx("span",{children:"Verbose logging enabled"})]})})]})},Hj=({faceImage:e,onClose:t,onUpdateFace:n})=>{const[r,o]=_.useState("segmentation"),[s,i]=_.useState(5),[a,u]=_.useState(.5),[c,h]=_.useState("brush"),[d,f]=_.useState(!1),g=_.useRef(null),p=_.useCallback(S=>{h(S)},[]),v=_.useCallback(S=>{i(S)},[]),w=_.useCallback(S=>{u(S)},[]),m=_.useCallback(()=>{if(!e)return;const S=[[20,20],[80,20],[80,80],[20,80]];n(e.id,{segmentationPolygon:S})},[e,n]),x=_.useCallback(()=>{e&&n(e.id,{segmentationPolygon:void 0})},[e,n]),y=_.useCallback(()=>{console.log("Copy segmentation data")},[]),k=_.useCallback(()=>{console.log("Paste segmentation data")},[]),b=_.useCallback(()=>{console.log("Previous face")},[]),E=_.useCallback(()=>{console.log("Next face")},[]);return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] flex flex-col transition-colors duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 transition-colors duration-300",children:["Face Editor: ",e.filename]}),l.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1 transition-colors duration-300",children:[l.jsx("button",{onClick:()=>o("landmarks"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${r==="landmarks"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Landmarks"}),l.jsx("button",{onClick:()=>o("segmentation"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${r==="segmentation"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"Segmentation"})]})]}),l.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[e.thumbnailUrl?l.jsx("img",{src:e.thumbnailUrl,alt:e.filename,className:"max-w-full max-h-full object-contain",style:{maxHeight:"500px"}}):l.jsx("div",{className:"w-96 h-96 flex items-center justify-center text-gray-500 dark:text-gray-400",children:e.filename}),r==="segmentation"&&e.segmentationPolygon&&l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:l.jsx("polygon",{points:e.segmentationPolygon.map(S=>`${S[0]},${S[1]}`).join(" "),fill:"rgba(0, 255, 0, 0.3)",stroke:"#00ff00",strokeWidth:"0.5"})}),r==="landmarks"&&e.landmarks&&l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:e.landmarks.map((S,T)=>l.jsx("circle",{cx:S[0],cy:S[1],r:"1",fill:"#ff0000",opacity:"0.8"},`landmark-${T}-${S[0]}-${S[1]}`))}),l.jsx("canvas",{ref:g,className:"absolute inset-0 w-full h-full cursor-crosshair",style:{opacity:a}})]})})}),l.jsxs("div",{className:"w-80 bg-gray-50 dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-4 space-y-6 transition-colors duration-300",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Tools"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"opacity-slider",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:["Opacity: ",Math.round(a*100),"%"]}),l.jsx("input",{id:"opacity-slider",type:"range",min:"0",max:"1",step:"0.1",value:a,onChange:S=>w(Number.parseFloat(S.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer transition-colors duration-200"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"brush-size-slider",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:["Brush Size: ",s,"px"]}),l.jsx("input",{id:"brush-size-slider",type:"range",min:"1",max:"20",value:s,onChange:S=>v(Number.parseInt(S.target.value,10)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer transition-colors duration-200"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>p("brush"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${c==="brush"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"✏️ Brush"}),l.jsx("button",{onClick:()=>p("eraser"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${c==="eraser"?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"🗑️ Eraser"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200",children:"↩️ Undo"}),l.jsx("button",{className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200",children:"↪️ Redo"})]})]}),r==="segmentation"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Segmentation"}),l.jsx("button",{onClick:m,className:"w-full px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-200",children:"Load BiSeNet Model"}),l.jsx("button",{onClick:m,className:"w-full px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors duration-200",children:"Generate Mask"}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:S=>f(S.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-gray-700 transition-colors duration-200"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Show Generated Mask"})]})]}),r==="landmarks"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Landmarks"}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:[l.jsx("p",{children:"Using 2D Landmarks"}),l.jsx("p",{className:"text-xs mt-1",children:"Landmark Model: dlib"})]}),l.jsx("div",{className:"space-y-2",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-gray-700 transition-colors duration-200"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Show Landmarks"})]})})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:b,className:"px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors duration-200",children:"← Previous"}),l.jsx("button",{onClick:E,className:"px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors duration-200",children:"Next →"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:x,className:"px-3 py-1 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors duration-200",children:"Reset"}),l.jsx("button",{onClick:y,className:"px-3 py-1 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",children:"Copy"}),l.jsx("button",{onClick:k,className:"px-3 py-1 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors duration-200",children:"Paste"})]})]})]})}):null},ey=()=>{const{activeNodeInSingleMode:e,selectedNode:t,updateNode:n}=Ge(),r=e||t,[o,s]=_.useState([]),[i,a]=_.useState({faceType:"full_face",detectionModel:"VGGFace2",similarityThreshold:.6,eyebrowExpandMod:1}),[u,c]=_.useState("normal"),[h,d]=_.useState(!1),[f,g]=_.useState(!0),[p,v]=_.useState(null),[w,m]=_.useState(!1),[x,y]=_.useState([]);_.useEffect(()=>{r!=null&&r.parameters&&a({faceType:r.parameters.face_type||"full_face",detectionModel:r.parameters.detection_model||"VGGFace2",similarityThreshold:r.parameters.similarity_threshold||.6,eyebrowExpandMod:r.parameters.eyebrow_expand_mod||1})},[r]);const k=_.useCallback(L=>{const N=new Date().toLocaleTimeString();y(M=>[...M,`[${N}] ${L}`])},[]),b=_.useCallback(async()=>{var L,N;if(r){m(!0),k("Starting face detection...");try{const M=(L=r.parameters)==null?void 0:L.input_dir;if(!M){k("Error: No input directory specified");return}k(`Scanning directory: ${M}`);const C=await le.detectFaces(r.id,{input_dir:M,face_type:i.faceType,detection_model:i.detectionModel,similarity_threshold:i.similarityThreshold});C.success?(s(C.face_images||[]),k(`Found ${((N=C.face_images)==null?void 0:N.length)||0} face images`)):k(`Error: ${C.error}`)}catch(M){k(`Error: ${M}`)}finally{m(!1)}}},[r,i,k]),E=_.useCallback(async()=>{if(r){m(!0),k("Loading BiSeNet segmentation model...");try{const L=await le.loadSegmentationModel(r.id);L.success?k("BiSeNet model loaded successfully"):k(`Error loading model: ${L.error}`)}catch(L){k(`Error: ${L}`)}finally{m(!1)}}},[r,k]),S=_.useCallback(async()=>{if(r){m(!0),k("Generating segmentation masks...");try{const L=await le.generateMasks(r.id,{face_images:o,eyebrow_expand_mod:i.eyebrowExpandMod});L.success?(k(`Generated masks for ${L.processed_count||0} faces`),L.face_data&&s(N=>N.map(M=>{const C=L.face_data[M.id];return C?{...M,segmentationPolygon:C.segmentation_polygon}:M}))):k(`Error: ${L.error}`)}catch(L){k(`Error: ${L}`)}finally{m(!1)}}},[r,i.eyebrowExpandMod,k]),T=_.useCallback(async()=>{if(r){m(!0),k("Embedding mask polygons into images...");try{const L=await le.embedPolygons(r.id,{face_images:o,eyebrow_expand_mod:i.eyebrowExpandMod});L.success?(k(`Embedded polygons for ${L.processed_count||0} faces`),k("Images ready for training!")):k(`Error: ${L.error}`)}catch(L){k(`Error: ${L}`)}finally{m(!1)}}},[r,i.eyebrowExpandMod,k]),D=_.useCallback(L=>{v(L),s(N=>N.map(M=>({...M,active:M.id===L})))},[]),R=_.useCallback((L,N)=>{s(M=>M.map(C=>C.id===L?{...C,selected:N}:C))},[]),F=_.useCallback(L=>{a(N=>({...N,...L})),r&&n(r.id,{parameters:{...r.parameters,...L}})},[r,n]),$=_.useCallback(()=>{y([])},[]);return l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Advanced Face Editor"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>c("normal"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${u==="normal"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Normal"}),l.jsx("button",{onClick:()=>c("segmentation"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${u==="segmentation"?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Show Segmentation"}),l.jsx("button",{onClick:()=>c("alignments"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${u==="alignments"?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Show Alignments"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>d(!h),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-200 ${h?"bg-orange-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Console"}),l.jsxs("button",{onClick:()=>g(!f),className:"px-3 py-1 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors duration-200",children:[f?"Hide":"Show"," Panel"]})]})]})}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(zj,{faceImages:o,viewMode:u,onFaceSelect:D,onFaceMultiSelect:R,loading:w})}),f&&l.jsx(Fj,{detectionSettings:i,onSettingsChange:F,onDetectFaces:b,onLoadSegmentationModel:E,onGenerateMasks:S,onEmbedPolygons:T,faceCount:o.length,loading:w})]}),h&&l.jsx(Oj,{logs:x,onClearLogs:$}),p&&l.jsx(Hj,{faceImage:o.find(L=>L.id===p),onClose:()=>v(null),onUpdateFace:(L,N)=>{s(M=>M.map(C=>C.id===L?{...C,...N}:C))}})]})},Bj=()=>{const{selectedNode:e,updateNode:t,nodeDefinitions:n}=Ge(),[r,o]=_.useState(null),[s,i]=_.useState(!1);_.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{i(!0);const d=await le.getNodeDefinition(e.type);o(d)}catch(d){console.error("Failed to load node definition:",d)}finally{i(!1)}},u=(d,f)=>{if(!e)return;const g={...e.parameters,[d]:f};t(e.id,{parameters:g})},c=async()=>{var d;if(e)try{i(!0);const f=e.type==="xseg_editor"||e.type==="advanced_face_editor"?(d=e.parameters)==null?void 0:d.input_dir:void 0,g=await le.startNodeExecution(e.id,f);console.log("Single node execution started:",g)}catch(f){console.error("Failed to start single node execution:",f)}finally{i(!1)}},h=(d,f)=>{const g=(e==null?void 0:e.parameters[d])??f.default;switch(f.type){case"string":return l.jsx("input",{type:"text",value:g||"",onChange:p=>u(d,p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:f.description});case"number":return l.jsx("input",{type:"number",value:g||f.default||0,min:f.min,max:f.max,onChange:p=>u(d,Number(p.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"});case"boolean":return l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:g||!1,onChange:p=>u(d,p.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-gray-700 transition-colors duration-200"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 transition-colors duration-200",children:f.description})]});case"select":return l.jsx("select",{value:g||f.default||"",onChange:p=>u(d,p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:f.options.map(p=>l.jsx("option",{value:p,children:p},p))});case"gpu":return l.jsx(qm,{selectedGPU:g||null,onGPUChange:p=>u(d,p),className:"w-full"});case"file-path":return l.jsx(Zm,{value:g||"",onChange:p=>u(d,p),placeholder:f.description,filters:f.filters||[{name:"All Files",extensions:["*"]}],className:"w-full"});case"directory-path":return l.jsx(Jm,{value:g||"",onChange:p=>u(d,p),placeholder:f.description,className:"w-full"});default:return l.jsx("input",{type:"text",value:g||"",onChange:p=>u(d,p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:f.description})}};return e?s?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Loading node definition..."}):r?l.jsx("div",{className:"h-full flex flex-col",children:(e==null?void 0:e.type)==="xseg_editor"?l.jsx(ey,{}):l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 transition-colors duration-300",children:[l.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:r.name}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 transition-colors duration-300",children:r.description}),l.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Status:"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium transition-colors duration-300 ${e.status==="idle"?"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200":e.status==="running"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":e.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":e.status==="error"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:e.status})]}),e.progress>0&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1 transition-colors duration-300",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[Math.round(e.progress),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 transition-colors duration-300",children:l.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})]}),e.message&&l.jsx("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.message})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Parameters"}),l.jsx("button",{onClick:c,disabled:s||!e,className:"px-3 py-1 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:s?"Executing...":"Execute Node"})]}),Object.entries(r.parameters).map(([d,f])=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:d.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase())}),h(d,f),f.description&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:f.description})]},d))]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Connections"}),r.inputs.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Inputs"}),l.jsx("div",{className:"space-y-2",children:r.inputs.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded transition-colors duration-300",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 transition-colors duration-300",children:d.label}),l.jsx("span",{className:`px-2 py-1 rounded text-xs transition-colors duration-300 ${e.inputs[d.id]?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:e.inputs[d.id]?"Connected":"Not connected"})]},d.id))})]}),r.outputs.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300",children:"Outputs"}),l.jsx("div",{className:"space-y-2",children:r.outputs.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded transition-colors duration-300",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 transition-colors duration-300",children:d.label}),l.jsx("span",{className:`px-2 py-1 rounded text-xs transition-colors duration-300 ${e.outputs[d.id]?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:e.outputs[d.id]?"Generated":"Not generated"})]},d.id))})]})]})]})}):l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Node definition not found"}):l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Select a node to edit its parameters"})},Uj=()=>{const{currentWorkflow:e,isExecuting:t,setIsExecuting:n,setExecution:r,nodes:o,saveWorkflowToFile:s,loadWorkflowFromFile:i,loadTemplate:a}=Ge(),[u,c]=_.useState(!1),h=e&&o.length>0&&!t,d=async()=>{if(!(!e||!h))try{c(!0),n(!0);const m=await le.startExecution(e.id);r(m),console.log("Workflow execution started:",m)}catch(m){console.error("Failed to start workflow execution:",m),n(!1)}finally{c(!1)}},f=async()=>{if(t)try{c(!0),n(!1),console.log("Workflow execution stopped")}catch(m){console.error("Failed to stop workflow execution:",m)}finally{c(!1)}},g=async()=>{try{c(!0),await s(),console.log("Workflow saved to file successfully")}catch(m){console.error("Failed to save workflow to file:",m)}finally{c(!1)}},p=async()=>{try{c(!0),await i(),console.log("Workflow loaded from file successfully")}catch(m){console.error("Failed to load workflow from file:",m)}finally{c(!1)}},v=async()=>{try{c(!0),await a("basic-face-swap"),console.log("Template loaded successfully")}catch(m){console.error("Failed to load template:",m)}finally{c(!1)}},w=()=>{Ge.getState().createNewWorkflow()};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:w,disabled:u,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200",children:"New"}),l.jsx("button",{onClick:v,disabled:u,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200",children:"Template"}),l.jsx("button",{onClick:p,disabled:u,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200",children:"Load"}),l.jsx("button",{onClick:g,disabled:u||!e,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200",children:"Save As"}),t?l.jsx("button",{onClick:f,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 dark:bg-red-700 border border-transparent rounded-md hover:bg-red-700 dark:hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 transition-colors duration-200",children:u?"Stopping...":"Stop Workflow"}):l.jsx("button",{onClick:d,disabled:u||!h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-700 border border-transparent rounded-md hover:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:u?"Starting...":"Run Workflow"}),t&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 dark:text-blue-400 transition-colors duration-300",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse"}),l.jsx("span",{children:"Executing..."})]})]})},Wj=()=>{const{execution:e,isExecuting:t}=Ge(),[n,r]=_.useState(!1);return!t&&!e?null:l.jsxs("div",{className:"border-t border-gray-200 bg-white",children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50",onClick:()=>r(!n),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${(e==null?void 0:e.status)==="running"?"bg-blue-500 animate-pulse":(e==null?void 0:e.status)==="completed"?"bg-green-500":(e==null?void 0:e.status)==="error"?"bg-red-500":(e==null?void 0:e.status)==="paused"?"bg-yellow-500":"bg-gray-400"}`}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Workflow Execution"}),l.jsxs("p",{className:"text-xs text-gray-600",children:[(e==null?void 0:e.status)==="running"&&"Running...",(e==null?void 0:e.status)==="completed"&&"Completed",(e==null?void 0:e.status)==="error"&&"Error",(e==null?void 0:e.status)==="paused"&&"Paused",(e==null?void 0:e.status)==="idle"&&"Idle"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[e&&l.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(e.progress),"%"]}),l.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),e&&e.progress>0&&l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e.status==="completed"?"bg-green-500":e.status==="error"?"bg-red-500":e.status==="paused"?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${e.progress}%`}})})})]}),n&&e&&l.jsx("div",{className:"px-4 pb-4 border-t border-gray-200",children:l.jsxs("div",{className:"space-y-3",children:[e.current_node&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Current Node"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.current_node})]}),e.message&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Message"}),l.jsx("p",{className:"text-sm text-gray-600",children:e.message})]}),e.error&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-red-700",children:"Error"}),l.jsx("p",{className:"text-sm text-red-600",children:e.error})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.started_at&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Started:"}),l.jsx("p",{className:"text-gray-600",children:new Date(e.started_at).toLocaleTimeString()})]}),e.completed_at&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Completed:"}),l.jsx("p",{className:"text-gray-600",children:new Date(e.completed_at).toLocaleTimeString()})]})]})]})})]})},Vj=()=>{const[e,t]=_.useState([]),[n,r]=_.useState("all"),[o,s]=_.useState(!0),[i,a]=_.useState(!1);_.useEffect(()=>{const d=v=>{if(v.type==="log_message"){const w={id:`log-${Date.now()}-${Math.random()}`,timestamp:v.timestamp||new Date().toISOString(),level:v.level||"info",node_id:v.node_id,message:v.message};t(m=>[...m,w])}},f=v=>{console.error("WebSocket error:",v),a(!1)};le.connectWebSocket(d,f);const p=setInterval(()=>{const v=le.socket;v&&v.readyState===WebSocket.OPEN?a(!0):a(!1)},1e3);return()=>{clearInterval(p),le.disconnectWebSocket()}},[]);const u=e.filter(d=>n==="all"||d.level===n),c=d=>{switch(d){case"error":return"text-red-600 bg-red-50";case"warn":return"text-yellow-600 bg-yellow-50";case"info":return"text-blue-600 bg-blue-50";case"debug":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},h=()=>{t([])};return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Logs"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"text-xs text-gray-600",children:i?"Connected":"Disconnected"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("select",{value:n,onChange:d=>r(d.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"warn",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"}),l.jsx("option",{value:"debug",children:"Debug"})]}),l.jsxs("label",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:d=>s(d.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{children:"Auto-scroll"})]}),l.jsx("button",{onClick:h,className:"px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:"Clear"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:u.length===0?l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No logs available"}):u.map(d=>l.jsxs("div",{className:`p-2 rounded text-xs font-mono ${d.level==="error"?"bg-red-50 border-l-2 border-red-500":d.level==="warn"?"bg-yellow-50 border-l-2 border-yellow-500":"bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:`px-1 py-0.5 rounded text-xs font-medium ${c(d.level)}`,children:d.level.toUpperCase()}),l.jsx("span",{className:"text-gray-500",children:new Date(d.timestamp).toLocaleTimeString()}),d.node_id&&l.jsxs("span",{className:"text-gray-500",children:["[",d.node_id,"]"]})]}),l.jsx("div",{className:"mt-1 text-gray-800",children:d.message})]},d.id))})]})},Gj=({className:e="",refreshInterval:t=5e3})=>{const[n,r]=_.useState([]),[o,s]=_.useState(!0),[i,a]=_.useState(null),[u,c]=_.useState(null);_.useEffect(()=>{h();const w=setInterval(h,t);return()=>clearInterval(w)},[t]);const h=async()=>{try{a(null);const w=await le.getGPUStatus();r(w.gpus),c(new Date)}catch(w){a("Failed to load GPU status"),console.error("Error loading GPU status:",w)}finally{s(!1)}},d=w=>{switch(w){case"nvidia":return"🟢";case"amd":return"🔴";case"intel":return"🔵";case"cpu":return"⚙️";default:return"❓"}},f=w=>{switch(w){case"nvidia":return"border-green-200 bg-green-50";case"amd":return"border-red-200 bg-red-50";case"intel":return"border-blue-200 bg-blue-50";case"cpu":return"border-gray-200 bg-gray-50";default:return"border-gray-200 bg-gray-50"}},g=w=>w>=1024?`${(w/1024).toFixed(1)} GB`:`${w} MB`,p=w=>w>80?"text-red-600":w>50?"text-yellow-600":"text-green-600",v=w=>w?w>80?"text-red-600":w>60?"text-yellow-600":"text-green-600":"text-gray-500";return o&&n.length===0?l.jsx("div",{className:`p-4 ${e}`,children:l.jsxs("div",{className:"flex items-center justify-center h-32",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading GPU status..."})]})}):l.jsxs("div",{className:`space-y-4 ${e}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"GPU Monitor"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[u&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Last update: ",u.toLocaleTimeString()]}),l.jsx("button",{onClick:h,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Refresh"})]})]}),i&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-red-500",children:"⚠️"}),l.jsx("span",{className:"ml-2 text-sm text-red-700",children:i})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(w=>l.jsxs("div",{className:`p-4 border rounded-lg ${f(w.type)} ${w.is_available?"":"opacity-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-lg",children:d(w.type)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),l.jsx("p",{className:"text-xs text-gray-600 capitalize",children:w.type})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-lg font-semibold ${p(w.utilization)}`,children:[w.utilization,"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Utilization"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[l.jsx("span",{children:"Utilization"}),l.jsxs("span",{children:[w.utilization,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w.utilization>80?"bg-red-500":w.utilization>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${w.utilization}%`}})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[l.jsx("span",{children:"Memory"}),l.jsxs("span",{children:[g(w.memory_used)," / ",g(w.memory_total)]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${w.memory_used/w.memory_total*100}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[w.temperature&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Temp:"}),l.jsxs("span",{className:`ml-1 ${v(w.temperature)}`,children:[w.temperature,"°C"]})]}),w.power_usage&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Power:"}),l.jsxs("span",{className:"ml-1",children:[w.power_usage,"W"]})]}),w.driver_version&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Driver:"}),l.jsx("span",{className:"ml-1",children:w.driver_version})]}),w.cuda_version&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium",children:"CUDA:"}),l.jsx("span",{className:"ml-1",children:w.cuda_version})]})]}),!w.is_available&&l.jsx("div",{className:"mt-2 text-xs text-red-600 font-medium",children:"⚠️ GPU Unavailable"})]},w.id))}),n.length===0&&!o&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"No GPUs detected"}),l.jsx("p",{className:"text-sm",children:"Make sure GPU drivers are installed"})]})]})},Xj=({error:e,isOpen:t,onClose:n,onRetry:r})=>{if(!t||!e)return null;const o=u=>{switch(u){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},s=u=>{switch(u){case"critical":return"🚨";case"high":return"⚠️";case"medium":return"⚡";case"low":return"ℹ️";default:return"❓"}},i=u=>u.toLocaleString(),a=e.recoverable&&e.retry_count<e.max_retries;return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:n}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-2xl mr-3",children:s(e.severity)}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Details"}),l.jsx("p",{className:"text-sm text-gray-500",children:i(e.timestamp)})]})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"bg-white px-4 pb-4 sm:p-6 sm:pt-0",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`p-4 rounded-lg border ${o(e.severity)}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h4",{className:"font-medium capitalize",children:[e.severity," Error"]}),l.jsx("span",{className:"text-sm capitalize",children:e.category})]}),l.jsx("p",{className:"text-sm font-medium",children:e.message})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Error ID"}),l.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-100 p-2 rounded",children:e.id})]}),e.node_id&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Node ID"}),l.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-100 p-2 rounded",children:e.node_id})]}),e.workflow_id&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow ID"}),l.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-100 p-2 rounded",children:e.workflow_id})]}),e.execution_id&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Execution ID"}),l.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-100 p-2 rounded",children:e.execution_id})]})]}),e.recoverable&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Recoverable Error"}),l.jsxs("p",{className:"text-sm text-blue-700",children:["Retry attempts: ",e.retry_count," / ",e.max_retries]})]}),a&&r&&l.jsx("button",{onClick:()=>r(e.id),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})]})}),Object.keys(e.details).length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Details"}),l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:l.jsx("pre",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:JSON.stringify(e.details,null,2)})})]}),e.stack_trace&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stack Trace"}),l.jsx("div",{className:"bg-gray-900 text-green-400 border border-gray-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:e.stack_trace})})]})]})}),l.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:l.jsx("button",{onClick:n,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})})]})]})})},Yj=({className:e="",refreshInterval:t=1e4})=>{const[n,r]=_.useState([]),[o,s]=_.useState(!0),[i,a]=_.useState(null),[u,c]=_.useState(null),[h,d]=_.useState(!1),[f,g]=_.useState({});_.useEffect(()=>{p();const b=setInterval(p,t);return()=>clearInterval(b)},[t,f]);const p=async()=>{try{a(null);const b=await le.getErrors({severity:f.severity,category:f.category,node_id:f.nodeId,limit:50});r(b)}catch(b){a("Failed to load errors"),console.error("Error loading errors:",b)}finally{s(!1)}},v=b=>{c(b),d(!0)},w=async b=>{try{await le.retryError(b),p(),d(!1)}catch(E){console.error("Failed to retry error:",E)}},m=b=>{switch(b){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},x=b=>{switch(b){case"critical":return"🚨";case"high":return"⚠️";case"medium":return"⚡";case"low":return"ℹ️";default:return"❓"}},y=b=>new Date(b).toLocaleString(),k=(b,E=100)=>b.length>E?`${b.substring(0,E)}...`:b;return o&&n.length===0?l.jsx("div",{className:`p-4 ${e}`,children:l.jsxs("div",{className:"flex items-center justify-center h-32",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading errors..."})]})}):l.jsxs("div",{className:`space-y-4 ${e}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error Monitor"}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{onClick:p,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Refresh"})})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("select",{value:f.severity||"",onChange:b=>g({...f,severity:b.target.value||void 0}),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"All Severities"}),l.jsx("option",{value:"critical",children:"Critical"}),l.jsx("option",{value:"high",children:"High"}),l.jsx("option",{value:"medium",children:"Medium"}),l.jsx("option",{value:"low",children:"Low"})]}),l.jsxs("select",{value:f.category||"",onChange:b=>g({...f,category:b.target.value||void 0}),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[l.jsx("option",{value:"",children:"All Categories"}),l.jsx("option",{value:"validation",children:"Validation"}),l.jsx("option",{value:"execution",children:"Execution"}),l.jsx("option",{value:"resource",children:"Resource"}),l.jsx("option",{value:"network",children:"Network"}),l.jsx("option",{value:"permission",children:"Permission"}),l.jsx("option",{value:"configuration",children:"Configuration"}),l.jsx("option",{value:"dependency",children:"Dependency"})]})]}),i&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-red-500",children:"⚠️"}),l.jsx("span",{className:"ml-2 text-sm text-red-700",children:i})]})}),l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map(b=>l.jsx("div",{onClick:()=>v(b),className:`p-3 border rounded-lg cursor-pointer hover:shadow-md transition-shadow ${m(b.severity)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-sm",children:x(b.severity)}),l.jsx("span",{className:"text-sm font-medium capitalize",children:b.severity}),l.jsxs("span",{className:"text-xs opacity-75 capitalize",children:["(",b.category,")"]})]}),l.jsx("p",{className:"text-sm font-medium mb-1",children:k(b.message)}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs opacity-75",children:[l.jsx("span",{children:y(b.timestamp)}),b.node_id&&l.jsxs("span",{children:["Node: ",b.node_id]}),b.workflow_id&&l.jsxs("span",{children:["Workflow: ",b.workflow_id]}),b.recoverable&&l.jsxs("span",{className:"text-green-600",children:["Retry: ",b.retry_count,"/",b.max_retries]})]})]}),l.jsx("div",{className:"flex-shrink-0 ml-2",children:l.jsx("svg",{className:"h-4 w-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},b.id))}),n.length===0&&!o&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"No errors found"}),l.jsx("p",{className:"text-sm",children:"All systems are running smoothly!"})]}),l.jsx(Xj,{error:u,isOpen:h,onClose:()=>{d(!1),c(null)},onRetry:w})]})},Qj=({notification:e,onClose:t})=>{const[n,r]=_.useState(!1),[o,s]=_.useState(!1);_.useEffect(()=>{const h=setTimeout(()=>r(!0),10);return()=>clearTimeout(h)},[]),_.useEffect(()=>{if(e.duration&&e.duration>0){const h=setTimeout(()=>{i()},e.duration);return()=>clearTimeout(h)}},[e.duration]);const i=()=>{s(!0),setTimeout(()=>{t(e.id)},300)},a=()=>{switch(e.type){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"ℹ️"}},u=()=>{switch(e.type){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200";case"info":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200";default:return"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200"}},c=(h="secondary")=>{const d="px-3 py-1 text-xs font-medium rounded-md transition-colors duration-200";switch(h){case"primary":return`${d} bg-blue-600 dark:bg-blue-700 text-white hover:bg-blue-700 dark:hover:bg-blue-800`;case"danger":return`${d} bg-red-600 dark:bg-red-700 text-white hover:bg-red-700 dark:hover:bg-red-800`;case"secondary":default:return`${d} bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-500`}};return l.jsx("div",{className:`
        max-w-sm w-full border rounded-lg shadow-lg p-4 mb-3 transition-all duration-300 ease-in-out
        ${u()}
        ${n&&!o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mr-3",children:l.jsx("span",{className:"text-lg",children:a()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-medium",children:e.title}),l.jsxs("button",{onClick:i,className:"ml-2 flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),l.jsx("p",{className:"mt-1 text-sm opacity-90",children:e.message}),e.actions&&e.actions.length>0&&l.jsx("div",{className:"mt-3 flex space-x-2",children:e.actions.map((h,d)=>l.jsx("button",{onClick:h.action,className:c(h.style),children:h.label},d))}),l.jsx("div",{className:"mt-2 text-xs opacity-75 dark:opacity-60 transition-opacity duration-300",children:e.timestamp.toLocaleTimeString()})]})]})})},Kj=({notifications:e,onClose:t})=>e.length===0?null:l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(n=>l.jsx(Qj,{notification:n,onClose:t},n.id))}),Fi=Lc()(Em((e,t)=>({theme:"system",isDark:!1,setTheme:n=>{e({theme:n});const r=document.documentElement,o=n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;e({isDark:o}),o?r.classList.add("dark"):r.classList.remove("dark")},toggleTheme:()=>{const r=t().theme==="light"?"dark":"light";t().setTheme(r)}}),{name:"theme-storage",onRehydrateStorage:()=>e=>{if(e){const t=document.documentElement,n=e.theme==="dark"||e.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;n?t.classList.add("dark"):t.classList.remove("dark"),e.isDark=n}}}));typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{const{theme:t}=Fi.getState();if(t==="system"){const n=document.documentElement;e.matches?n.classList.add("dark"):n.classList.remove("dark"),Fi.setState({isDark:e.matches})}});const qj=({className:e="",showLabel:t=!1})=>{const{theme:n,setTheme:r,isDark:o}=Fi(),s=[{value:"light",label:"Light",icon:"☀️"},{value:"dark",label:"Dark",icon:"🌙"},{value:"system",label:"System",icon:"💻"}],i=a=>{r(a)};return l.jsxs("div",{className:`flex items-center space-x-2 ${e}`,children:[t&&l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Theme:"}),l.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:s.map(a=>l.jsxs("button",{onClick:()=>i(a.value),className:`
              flex items-center space-x-1 px-3 py-1 rounded-md text-sm font-medium transition-all duration-200
              ${n===a.value?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}
            `,title:`Switch to ${a.label} theme`,children:[l.jsx("span",{className:"text-sm",children:a.icon}),l.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.value))})]})},Zj=()=>{const{viewMode:e,setViewMode:t}=Ge(),n=r=>{t(r)};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Mode:"}),l.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1 transition-colors duration-300",children:[l.jsxs("button",{onClick:()=>n("workflow"),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 ${e==="workflow"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[l.jsx("span",{className:"mr-1",children:"🔗"}),"Workflow"]}),l.jsxs("button",{onClick:()=>n("single-node"),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 ${e==="single-node"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-gray-100 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[l.jsx("span",{className:"mr-1",children:"⚙️"}),"Single Node"]})]})]})},Jj=()=>{const{activeNodeInSingleMode:e}=Ge(),[t,n]=_.useState([]),[r,o]=_.useState(!1),[s,i]=_.useState(!1),[a,u]=_.useState(""),[c,h]=_.useState(""),[d,f]=_.useState(null);_.useEffect(()=>{g()},[]);const g=async()=>{try{o(!0);const x=await le.listNodePresets();n(x)}catch(x){console.error("Failed to load presets:",x)}finally{o(!1)}},p=async()=>{if(!(!e||!a.trim()))try{o(!0);const x={id:`preset-${Date.now()}`,name:a.trim(),description:c.trim()||void 0,nodeType:e.type,parameters:{...e.parameters},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await le.saveNodePreset(x),await g(),i(!1),u(""),h("")}catch(x){console.error("Failed to save preset:",x)}finally{o(!1)}},v=async x=>{try{o(!0);const y=await le.loadNodePreset(x);if(e){const k={...e,parameters:{...y.parameters}};Ge.getState().setActiveNodeInSingleMode(k)}}catch(y){console.error("Failed to load preset:",y)}finally{o(!1)}},w=async x=>{if(confirm("Are you sure you want to delete this preset?"))try{o(!0),await le.deleteNodePreset(x),await g()}catch(y){console.error("Failed to delete preset:",y)}finally{o(!1)}},m=e?t.filter(x=>x.nodeType===e.type):t;return l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Save Current Configuration"}),s?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"preset-name",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1 transition-colors duration-300",children:"Preset Name"}),l.jsx("input",{id:"preset-name",type:"text",value:a,onChange:x=>u(x.target.value),placeholder:"Enter preset name...",className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"preset-description",className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1 transition-colors duration-300",children:"Description (optional)"}),l.jsx("textarea",{id:"preset-description",value:c,onChange:x=>h(x.target.value),placeholder:"Enter description...",rows:2,className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:p,disabled:r||!a.trim(),className:"flex-1 px-3 py-1 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded focus:outline-none focus:ring-1 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{i(!1),u(""),h("")},className:"flex-1 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 transition-colors duration-200",children:"Cancel"})]})]}):l.jsx("button",{onClick:()=>i(!0),disabled:!e,className:"w-full px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Save as Preset"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Load Preset"}),r?l.jsx("div",{className:"text-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):m.length>0?l.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:e?`No presets found for ${e.type}`:"No presets available"}):l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.map(x=>l.jsx("div",{className:`p-3 rounded-lg border transition-colors duration-200 cursor-pointer ${d===x.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"}`,onClick:()=>f(x.id),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate transition-colors duration-300",children:x.name}),x.description&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2 transition-colors duration-300",children:x.description}),l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 transition-colors duration-300",children:new Date(x.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex space-x-1 ml-2",children:[l.jsx("button",{onClick:y=>{y.stopPropagation(),v(x.id)},className:"p-1 text-blue-600 hover:text-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors duration-200",title:"Load preset",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),l.jsx("button",{onClick:y=>{y.stopPropagation(),w(x.id)},className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors duration-200",title:"Delete preset",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},x.id))})]}),d&&l.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Workflow Integration"}),l.jsx("button",{onClick:()=>{console.log("Load preset into workflow:",d)},className:"w-full px-3 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-200",children:"Load into Workflow"})]})]})},eC=()=>{const{activeNodeInSingleMode:e,setActiveNodeInSingleMode:t,createNodeForSingleMode:n,nodeDefinitions:r}=Ge(),[o,s]=_.useState(null),[i,a]=_.useState(!1),[u,c]=_.useState(null),h=w=>{switch(w){case"idle":return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200";case"running":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"completed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"error":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}};_.useEffect(()=>{if(!e&&r.length>0){const w=r[0].type;c(w),n(w)}},[e,r,n]),_.useEffect(()=>{u&&d()},[u]);const d=async()=>{if(u)try{a(!0);const w=await le.getNodeDefinition(u);s(w)}catch(w){console.error("Failed to load node definition:",w)}finally{a(!1)}},f=w=>{c(w),n(w)},g=(w,m)=>{if(!e)return;const x={...e.parameters,[w]:m};t({...e,parameters:x})},p=async()=>{var w;if(e)try{a(!0);const m=e.type==="xseg_editor"||e.type==="advanced_face_editor"?(w=e.parameters)==null?void 0:w.input_dir:void 0,x=await le.startNodeExecution(e.id,m);console.log("Single node execution started:",x)}catch(m){console.error("Failed to start single node execution:",m)}finally{a(!1)}},v=(w,m)=>{const x=(e==null?void 0:e.parameters[w])??m.default;switch(m.type){case"string":return l.jsx("input",{type:"text",value:x||"",onChange:y=>g(w,y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:m.description});case"number":return l.jsx("input",{type:"number",value:x||m.default||0,min:m.min,max:m.max,onChange:y=>g(w,Number(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"});case"boolean":return l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:x||!1,onChange:y=>g(w,y.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-gray-700 transition-colors duration-200"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 transition-colors duration-200",children:m.description})]});case"select":return l.jsx("select",{value:x||m.default||"",onChange:y=>g(w,y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:m.options.map(y=>l.jsx("option",{value:y,children:y},y))});case"gpu":return l.jsx(qm,{selectedGPU:x||null,onGPUChange:y=>g(w,y),className:"w-full"});case"file-path":return l.jsx(Zm,{value:x||"",onChange:y=>g(w,y),placeholder:m.description,filters:m.filters||[{name:"All Files",extensions:["*"]}],className:"w-full"});case"directory-path":return l.jsx(Jm,{value:x||"",onChange:y=>g(w,y),placeholder:m.description,className:"w-full"});default:return l.jsx("input",{type:"text",value:x||"",onChange:y=>g(w,y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200",placeholder:m.description})}};return i?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading node definition..."})]})}):l.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Single Node Mode"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{htmlFor:"node-type-selector",className:"text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:"Node Type:"}),l.jsx("select",{id:"node-type-selector",value:u||"",onChange:w=>f(w.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:r.length===0?l.jsx("option",{value:"",children:"Loading node types..."}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"",children:"Select a node type..."}),r.map(w=>l.jsx("option",{value:w.type,children:w.name},w.type))]})})]})]}),l.jsx("button",{onClick:p,disabled:i||!e,className:"px-6 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:i?"Executing...":"Execute Node"})]})}),l.jsx("div",{className:"flex-1 flex overflow-hidden",children:(e==null?void 0:e.type)==="xseg_editor"?l.jsx(ey,{}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o&&e?l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-2 transition-colors duration-300",children:o.name}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 transition-colors duration-300",children:o.description}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Status:"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium transition-colors duration-300 ${h(e.status)}`,children:e.status})]}),e.progress>0&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:"Progress:"}),l.jsx("div",{className:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2 transition-colors duration-300",children:l.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:[Math.round(e.progress),"%"]})]})]}),e.message&&l.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 transition-colors duration-300",children:e.message})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 transition-colors duration-300",children:"Parameters"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(o.parameters).map(([w,m])=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300",children:w.replace(/_/g," ").replace(/\b\w/g,x=>x.toUpperCase())}),v(w,m),m.description&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 transition-colors duration-300",children:m.description})]},w))})]})]}):r.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[l.jsx("p",{children:"Loading node definitions..."}),l.jsx("p",{className:"text-sm mt-2",children:"Please wait while we load available node types."})]})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:l.jsx("p",{children:"Select a node type to get started"})})})}),l.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Presets"})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx(Jj,{})})]})]})})]})},tC=Lc((e,t)=>({notifications:[],addNotification:n=>{const r={...n,id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};e(o=>({notifications:[...o.notifications,r]})),r.duration&&r.duration>0&&setTimeout(()=>{t().removeNotification(r.id)},r.duration)},removeNotification:n=>{e(r=>({notifications:r.notifications.filter(o=>o.id!==n)}))},clearAllNotifications:()=>{e({notifications:[]})},clearNotificationsByType:n=>{e(r=>({notifications:r.notifications.filter(o=>o.type!==n)}))}}));function nC(){const{selectedNode:e,updateNodeStatus:t,setExecution:n,viewMode:r,setNodeDefinitions:o}=Ge(),{notifications:s,removeNotification:i}=tC(),{setTheme:a}=Fi(),[u,c]=_.useState("editor");_.useEffect(()=>{var g;const f=localStorage.getItem("theme-storage");if(f)try{const p=JSON.parse(f);(g=p.state)!=null&&g.theme&&a(p.state.theme)}catch(p){console.error("Failed to parse saved theme:",p),a("system")}else a("system")},[a]),_.useEffect(()=>{(async()=>{try{const g=await le.getNodeDefinitions();o(g)}catch(g){console.error("Failed to load node definitions:",g)}})()},[o]),_.useEffect(()=>{const f=async()=>{try{await le.connectWebSocket(),le.onWebSocketMessage("node_update",p=>{const{node_id:v,data:w}=p;t(v,w.status,w.progress,w.message)}),le.onWebSocketMessage("execution_update",p=>{const{data:v}=p;n(v)}),le.onWebSocketMessage("log_message",p=>{const{node_id:v,level:w,message:m}=p;console.log(`[${w}] Node ${v}: ${m}`)})}catch(p){console.warn("Failed to connect to WebSocket, retrying in 5 seconds...",p),setTimeout(()=>{f()},5e3)}},g=setTimeout(()=>{f()},2e3);return()=>{clearTimeout(g),le.disconnectWebSocket()}},[t,n]);const h=[{id:"editor",label:"Node Editor",icon:"⚙️"},{id:"logs",label:"Logs",icon:"📋"},{id:"gpu",label:"GPU Monitor",icon:"🖥️"},{id:"errors",label:"Error Monitor",icon:"🚨"}],d=()=>{switch(u){case"editor":return e?l.jsx(Bj,{}):l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Select a node to edit its parameters"});case"logs":return l.jsx(Vj,{});case"gpu":return l.jsx(Gj,{});case"errors":return l.jsx(Yj,{});default:return null}};return l.jsx(wm,{children:l.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[l.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"DeepFaceLab Workflow Editor"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(qj,{}),l.jsx(Zj,{}),l.jsx(Uj,{})]})]})}),l.jsx("div",{className:"flex-1 flex overflow-hidden",children:r==="workflow"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 transition-colors duration-300",children:"Nodes"})}),l.jsx(Dj,{})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:l.jsx(Ij,{})}),l.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:h.map(f=>l.jsxs("button",{onClick:()=>c(f.id),className:`flex-1 px-3 py-2 text-sm font-medium border-b-2 transition-all duration-200 ${u===f.id?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[l.jsx("span",{className:"mr-1",children:f.icon}),f.label]},f.id))}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:d()})]})]}):l.jsx(eC,{})}),l.jsx(Wj,{}),l.jsx(Kj,{notifications:s,onClose:i})]})})}ul.createRoot(document.getElementById("root")).render(l.jsx(Eu.StrictMode,{children:l.jsx(nC,{})}));
